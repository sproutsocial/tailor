/******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, { enumerable: true, get: getter });
/******/ 		}
/******/ 	};
/******/
/******/ 	// define __esModule on exports
/******/ 	__webpack_require__.r = function(exports) {
/******/ 		if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 			Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 		}
/******/ 		Object.defineProperty(exports, '__esModule', { value: true });
/******/ 	};
/******/
/******/ 	// create a fake namespace object
/******/ 	// mode & 1: value is a module id, require it
/******/ 	// mode & 2: merge all properties of value into the ns
/******/ 	// mode & 4: return value when already ns object
/******/ 	// mode & 8|1: behave like require
/******/ 	__webpack_require__.t = function(value, mode) {
/******/ 		if(mode & 1) value = __webpack_require__(value);
/******/ 		if(mode & 8) return value;
/******/ 		if((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;
/******/ 		var ns = Object.create(null);
/******/ 		__webpack_require__.r(ns);
/******/ 		Object.defineProperty(ns, 'default', { enumerable: true, value: value });
/******/ 		if(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));
/******/ 		return ns;
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";
/******/
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(__webpack_require__.s = "./assets/js/src/sidebar.js");
/******/ })
/************************************************************************/
/******/ ({

/***/ "./assets/js/src/shared/components/api/setting.js":
/*!********************************************************!*\
  !*** ./assets/js/src/shared/components/api/setting.js ***!
  \********************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("\nvar $ = window.jQuery,\n    $win = $( window ),\n    app = window.app,\n    cssModule,\n    callbacks = {\n        'sidebar' : [],\n        'element' : []\n    };\n\n/**\n * Ensures that the query name provided is valid.\n *\n * @since 1.5.0\n *\n * @param query\n * @returns {*}\n */\nfunction checkQuery( query ) {\n    if ( ! query || ! _.contains( _.keys( cssModule.stylesheets ), query ) ) {\n        query = 'all';\n    }\n    return query;\n}\n\n/**\n * Triggers registered callback functions when a sidebar setting is changed.\n *\n * @since 1.5.0\n *\n * @param setting\n */\nvar onSidebarChange = function( setting ) {\n    var settingId = setting.get( 'id' );\n\n    // Do nothing if there are no registered callbacks for this setting\n    if ( _.isEmpty( callbacks['sidebar'][ settingId ] ) ) {\n        return;\n    }\n\n    _.each( callbacks['sidebar'][ settingId ], function( callback ) {\n        callback.apply( window, [ setting.get( 'value' ), setting.previous( 'value' ) ] );\n    } );\n\n    // Trigger a resize even on the window when a sidebar setting changes\n    $win.trigger( 'resize' );\n};\n\n/**\n * Triggers registered callback functions when an element setting is changed.\n *\n * @since 1.5.0\n *\n * @param setting\n * @param view\n */\nvar onElementChange = function( setting, view ) {\n    var elementId = view.model.get( 'id' );\n    var settingId = setting.get( 'id' );\n\n    // Do nothing if there are no registered callbacks for this setting\n    if ( ! callbacks['element'].hasOwnProperty( settingId ) || 0 == callbacks['element'][ settingId ].length ) {\n        return;\n    }\n\n    if ( 1 == callbacks['element'][ settingId ].length ) {\n        cssModule.deleteRules( elementId, settingId );\n    }\n\n    var ruleSets = {};\n    var rules;\n    \n    _.each( callbacks['element'][ settingId ], function( callback ) {\n        if ( 'function' == typeof callback ) {\n            \n            // Get the collection of rules from the callback function\n            rules = callback.apply( view, [ setting.get( 'value' ), setting.previous( 'value' ), view.model ] );\n\n            // Re-render the element if the the callback function returns a value of false\n            if ( false === rules ) {\n                view.model.trigger( 'change:atts', view.model, view.model.get( 'atts' ) );\n            }\n            else if ( _.isArray( rules ) && rules.length > 0 ) {\n\n                // Process the rules\n                for ( var rule in rules ) {\n                    if ( rules.hasOwnProperty( rule ) ) {\n                        if ( ! rules[ rule ].hasOwnProperty( 'selectors' ) || ! rules[ rule ].hasOwnProperty( 'declarations' ) ) {\n                            continue;\n                        }\n                        \n                        var query = checkQuery( rules[ rule ].media );\n                        ruleSets[ query ] = ruleSets[ query ] || {};\n                        ruleSets[ query ][ elementId ] = ruleSets[ query ][ elementId ] || [];\n\n                        if ( _.keys( rules[ rule ].declarations ).length > 0 ) {\n                            ruleSets[ query ][ elementId ].push( {\n                                selectors: rules[ rule ].selectors,\n                                declarations: rules[ rule ].declarations,\n                                setting: rules[ rule ].setting || settingId\n                            } );\n                        }\n                    }\n                }\n\n                // Update the rules for the element/setting\n                cssModule.addRules( ruleSets );\n            }\n        }\n    } );\n};\n\napp.listenTo( app.channel, 'sidebar:setting:change', onSidebarChange );\napp.listenTo( app.channel, 'element:setting:change', onElementChange );\napp.channel.on( 'module:css:stylesheets:ready', function( module ) {\n    cssModule = module;\n} );\n\nfunction registerCallback( type, id, callback ) {\n    if ( 'function' === typeof callback ) {\n        callbacks[ type ][ id ] = callbacks[ type ][ id ] || [];\n        callbacks[ type ][ id ].push( callback );\n    }\n}\n\nmodule.exports = {\n\n    /**\n     * API for updating the canvas when a sidebar or element setting is changed.\n     * \n     * Accepts an event in the form \"setting_type:setting_id\".\n     *\n     * @since 1.5.0\n     *\n     * @param id\n     * @param callback\n     */\n    onChange : function( id, callback ) {\n        var parts = id.split( ':' );\n        if ( parts.length >= 2 && _.contains( [ 'sidebar', 'element' ], parts[0] ) ) {\n            registerCallback( parts[0], parts[1], callback );\n        }\n    }\n};\n\n//# sourceURL=webpack:///./assets/js/src/shared/components/api/setting.js?");

/***/ }),

/***/ "./assets/js/src/shared/components/behaviors/draggable.js":
/*!****************************************************************!*\
  !*** ./assets/js/src/shared/components/behaviors/draggable.js ***!
  \****************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("var DraggableBehaviors = Marionette.Behavior.extend( {\n\n\tevents : {\n\t\t'dragstart' : 'onDragStart',\n\t\t'dragend' : 'onDragEnd',\n\t\t'drag' : 'onDrag'\n\t},\n\n    /**\n     * Triggers an event when dragging starts.\n     *\n     * @since 1.0.0\n     *\n     * @param e\n     */\n\tonDragStart : function( e ) {\n        app.channel.trigger( 'canvas:dragstart', e.originalEvent, this.view );\n\t},\n\n\t/**\n\t * Triggers an event while dragging.\n\t *\n\t * @since 1.0.0\n\t *\n\t * @param e\n\t */\n\tonDrag : function( e ) {\n\t\tapp.channel.trigger( 'canvas:drag', e.originalEvent, this.view );\n\t},\n\n    /**\n     * Triggers an event when dragging ends.\n     *\n     * @since 1.0.0\n     *\n     * @param e\n     */\n\tonDragEnd : function( e ) {\n        app.channel.trigger( 'canvas:dragend', e.originalEvent, this.view );\n\t}\n\n} );\n\nmodule.exports = DraggableBehaviors;\n\n//# sourceURL=webpack:///./assets/js/src/shared/components/behaviors/draggable.js?");

/***/ }),

/***/ "./assets/js/src/shared/utility/ajax.js":
/*!**********************************************!*\
  !*** ./assets/js/src/shared/utility/ajax.js ***!
  \**********************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("/**\n * window.ajax\n *\n * Simple AJAX utility module.\n *\n * @class\n */\nvar $ = jQuery,\n    Ajax;\n\nAjax = {\n\n    url : window.ajaxurl,\n\n    /**\n     * Sends a POST request to WordPress.\n     *\n     * @param  {string} action The slug of the action to fire in WordPress.\n     * @param  {object} data   The data to populate $_POST with.\n     * @return {$.promise}     A jQuery promise that represents the request.\n     */\n    post : function( action, data ) {\n        return ajax.send( {\n            data: _.isObject( action ) ? action : _.extend( data || {}, { action: action } )\n        } );\n    },\n\n    /**\n     * Sends a POST request to WordPress.\n     *\n     * Use with wp_send_json_success() and wp_send_json_error().\n     *\n     * @param  {string} action  The slug of the action to fire in WordPress.\n     * @param  {object} options The options passed to jQuery.ajax.\n     * @return {$.promise}      A jQuery promise that represents the request.\n     */\n    send : function( action, options ) {\n\n        if ( _.isObject( action ) ) {\n            options = action;\n        }\n        else {\n            options = options || {};\n            options.data = _.extend( options.data || {}, {\n                action : action,\n                tailor : 1\n            } );\n        }\n\n        options = _.defaults( options || {}, {\n            type : 'POST',\n            url : ajax.url,\n            context : this\n        } );\n\n        return $.Deferred( function( deferred ) {\n\n            if ( options.success ) {\n                deferred.done( options.success );\n            }\n\n            var onError = options.error ? options.error : ajax.onError;\n            deferred.fail( onError );\n\n            delete options.success;\n            delete options.error;\n\n            $.ajax( options )\n                .done( function( response ) {\n\n                    // Treat a response of `1` as successful for backwards compatibility with existing handlers.\n                    if ( response === '1' || response === 1 ) {\n                        response = { success: true };\n                    }\n                    if ( _.isObject( response ) && ! _.isUndefined( response.success ) ) {\n                        deferred[ response.success ? 'resolveWith' : 'rejectWith' ]( this, [ response.data ] );\n                    }\n                    else {\n                        deferred.rejectWith( this, [ response ] );\n                    }\n                } )\n                .fail( function() {\n                    deferred.rejectWith( this, arguments );\n                } );\n\n        } ).promise();\n    },\n\n    /**\n     * General error handler for AJAX requests.\n     *\n     * @since 1.0.0\n     *\n     * @param response\n     */\n    onError : function( response ) {\n\n        // Print the error to the console if the Notify feature is unavailable\n        if ( ! Tailor.Notify ) {\n            console.error( response );\n            return;\n        }\n\n        if ( response && response.hasOwnProperty( 'message' ) ) {  // Display the error from the server\n            Tailor.Notify( response.message );\n        }\n        else if ( '0' == response ) {  // Session expired\n            Tailor.Notify( window._l10n.expired );\n        }\n        else if ( '-1' == response ) {  // Invalid nonce\n            Tailor.Notify( window._l10n.invalid );\n        }\n        else {  // General error condition\n            Tailor.Notify( window._l10n.error );\n        }\n    }\n};\n\nwindow.ajax = Ajax;\n\nmodule.exports = Ajax;\n\n//# sourceURL=webpack:///./assets/js/src/shared/utility/ajax.js?");

/***/ }),

/***/ "./assets/js/src/shared/utility/notify.js":
/*!************************************************!*\
  !*** ./assets/js/src/shared/utility/notify.js ***!
  \************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("/**\n * Tailor.Notify\n *\n * Notification class for presenting simple messages to the end user.\n *\n * @class\n */\nvar Notification;\n\n__webpack_require__( /*! ./polyfills/transitions */ \"./assets/js/src/shared/utility/polyfills/transitions.js\" );\n\nNotification = function( options ) {\n    this.options = _.extend( {}, this.defaults, options );\n    this.el = document.createElement( 'div' );\n    this.el.className = 'notification notification--' + this.options.type;\n    this.container = document.getElementById( 'tailor-notification-container' ) || document.body;\n\n    this.initialize();\n};\n\nNotification.prototype = {\n\n    defaults : {\n        message : '',\n        type : '',\n        ttl : 3000,\n\n        onShow: function () {},\n        onHide: function () {}\n    },\n\n\t/**\n\t * Initializes the notification.\n\t *\n\t * @since 1.0.0\n\t */\n\tinitialize : function() {\n        this.el.innerHTML = this.options.message;\n        this.container.insertBefore( this.el, this.container.firstChild );\n    },\n\n\t/**\n\t * Shows the notification.\n\t *\n\t * @since 1.0.0\n\t */\n    show : function() {\n        var notification = this;\n        notification.el.classList.add( 'is-visible' );\n\n        if ( 'function' == typeof notification.options.onShow ) {\n            notification.options.onShow.call( notification );\n        }\n\n        notification.session = setTimeout( function() {\n            notification.hide();\n        }, notification.options.ttl );\n    },\n\n    /**\n     * Hides the notification.\n     *\n     * @since 1.0.0\n     */\n    hide : function() {\n\n        var obj = this;\n\n        var onTransitionEnd = function( e ) {\n\n            if ( Modernizr.cssanimations ) {\n                if ( e.target !== obj.el ) {\n                    return false;\n                }\n                obj.el.removeEventListener( window.transitionEndName, onTransitionEnd );\n            }\n\n            obj.container.removeChild( obj.el );\n\n            if ( 'function' == typeof obj.options.onShow ) {\n                obj.options.onShow.call( obj );\n            }\n        };\n\n        clearTimeout( obj.session );\n\n        if ( Modernizr.csstransitions ) {\n            obj.el.addEventListener( window.transitionEndName, onTransitionEnd );\n            obj.el.classList.remove( 'is-visible' );\n        }\n        else {\n            onTransitionEnd();\n        }\n    }\n};\n\n/**\n * Creates a new notification.\n *\n * @since 1.0.0\n *\n * @param msg\n * @param type\n */\nvar notify = function( msg, type ) {\n\n    var notification = new Notification( {\n        message : msg,\n        type : type || 'error'\n    } );\n\n    notification.show();\n};\n\nmodule.exports = notify;\n\n\n//# sourceURL=webpack:///./assets/js/src/shared/utility/notify.js?");

/***/ }),

/***/ "./assets/js/src/shared/utility/polyfills/classlist.js":
/*!*************************************************************!*\
  !*** ./assets/js/src/shared/utility/polyfills/classlist.js ***!
  \*************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("/**\n * classList Polyfill\n *\n * https://developer.mozilla.org/en-US/docs/Web/API/Element/classList\n */\n( function() {\n\n\tif ( 'undefined' === typeof window.Element || 'classList' in document.documentElement ) {\n\t\treturn;\n\t}\n\n\tvar prototype = Array.prototype,\n\t\tpush = prototype.push,\n\t\tsplice = prototype.splice,\n\t\tjoin = prototype.join;\n\n\tfunction DOMTokenList( el ) {\n\t\tthis.el = el;\n\t\tvar classes = el.className.replace( /^\\s+|\\s+$/g, '' ).split( /\\s+/ );\n\t\tfor ( var i = 0; i < classes.length; i++ ) {\n\t\t\tpush.call( this, classes[ i ] );\n\t\t}\n\t}\n\n\tDOMTokenList.prototype = {\n\n\t\tadd: function( token ) {\n\t\t\tif ( this.contains( token ) ) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tpush.call( this, token );\n\t\t\tthis.el.className = this.toString();\n\t\t},\n\n\t\tcontains: function( token ) {\n\t\t\treturn this.el.className.indexOf( token ) != -1;\n\t\t},\n\n\t\titem: function( index ) {\n\t\t\treturn this[ index ] || null;\n\t\t},\n\n\t\tremove: function( token ) {\n\t\t\tif ( ! this.contains( token ) ) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tfor ( var i = 0; i < this.length; i++ ) {\n\t\t\t\tif ( this[ i ] == token ) {\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t\tsplice.call( this, i, 1 );\n\t\t\tthis.el.className = this.toString();\n\t\t},\n\n\t\ttoString: function() {\n\t\t\treturn join.call( this, ' ' );\n\t\t},\n\n\t\ttoggle: function( token ) {\n\t\t\tif ( ! this.contains( token ) ) {\n\t\t\t\tthis.add( token );\n\t\t\t}\n\t\t\telse {\n\t\t\t\tthis.remove( token );\n\t\t\t}\n\t\t\treturn this.contains( token );\n\t\t}\n\t};\n\n\twindow.DOMTokenList = DOMTokenList;\n\n\tfunction defineElementGetter( obj, prop, getter ) {\n\t\tif ( Object.defineProperty ) {\n\t\t\tObject.defineProperty( obj, prop, {\n\t\t\t\tget : getter\n\t\t\t} );\n\t\t}\n\t\telse {\n\t\t\tobj.__defineGetter__( prop, getter );\n\t\t}\n\t}\n\n\tdefineElementGetter( Element.prototype, 'classList', function() {\n\t\treturn new DOMTokenList( this );\n\t} );\n\n} )();\n\n\n//# sourceURL=webpack:///./assets/js/src/shared/utility/polyfills/classlist.js?");

/***/ }),

/***/ "./assets/js/src/shared/utility/polyfills/raf.js":
/*!*******************************************************!*\
  !*** ./assets/js/src/shared/utility/polyfills/raf.js ***!
  \*******************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("/**\n * requestAnimationFrame polyfill.\n *\n * https://developer.mozilla.org/en-US/docs/Web/API/window/requestAnimationFrame\n */\n( function( window ) {\n\n\t'use strict';\n\n\tvar lastTime = 0,\n\t\tvendors = [ 'ms', 'moz', 'webkit', 'o' ];\n\n\tfor ( var x = 0; x < vendors.length && ! window.requestAnimationFrame; ++x ) {\n\t\twindow.requestAnimationFrame = window[ vendors[ x ] + 'RequestAnimationFrame' ];\n\t\twindow.cancelAnimationFrame = window[ vendors[ x ] + 'CancelAnimationFrame' ] || window[ vendors[ x ] + 'CancelRequestAnimationFrame' ];\n\t}\n\n\tif ( ! window.requestAnimationFrame ) {\n\t\twindow.requestAnimationFrame = function( callback, el ) {\n\t\t\tvar currTime = new Date().getTime();\n\t\t\tvar timeToCall = Math.max( 0, 16 - ( currTime - lastTime ) );\n\t\t\tvar id = window.setTimeout( function() {\n\t\t\t\t\tcallback( currTime + timeToCall );\n\t\t\t\t},\n\t\t\t\ttimeToCall );\n\t\t\tlastTime = currTime + timeToCall;\n\t\t\treturn id;\n\t\t};\n\t}\n\n\tif ( ! window.cancelAnimationFrame ) {\n\t\twindow.cancelAnimationFrame = function( id ) {\n\t\t\tclearTimeout( id );\n\t\t};\n\t}\n\n} ) ( window );\n\n\n//# sourceURL=webpack:///./assets/js/src/shared/utility/polyfills/raf.js?");

/***/ }),

/***/ "./assets/js/src/shared/utility/polyfills/transitions.js":
/*!***************************************************************!*\
  !*** ./assets/js/src/shared/utility/polyfills/transitions.js ***!
  \***************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("/**\n * Makes animation and transition support status and end names available as global variables.\n */\n( function( window ) {\n\n    'use strict';\n\n    var el = document.createElement( 'fakeelement' );\n\n    function getAnimationEvent(){\n        var t,\n            animations = {\n                'animation' : 'animationend',\n                'OAnimation' : 'oAnimationEnd',\n                'MozAnimation' : 'animationend',\n                'WebkitAnimation' : 'webkitAnimationEnd'\n            };\n\n        for ( t in animations ) {\n            if ( animations.hasOwnProperty( t ) && 'undefined' !== typeof el.style[ t ] ) {\n                return animations[ t ];\n            }\n        }\n\n        return false;\n    }\n\n    function getTransitionEvent(){\n        var t,\n            transitions = {\n                'transition' : 'transitionend',\n                'OTransition' : 'oTransitionEnd',\n                'MozTransition' : 'transitionend',\n                'WebkitTransition' : 'webkitTransitionEnd'\n            };\n\n        for ( t in transitions ) {\n            if ( transitions.hasOwnProperty( t ) && 'undefined' !== typeof el.style[ t ] ) {\n                return transitions[ t ];\n            }\n        }\n\n        return false;\n    }\n\n    window.animationEndName = getAnimationEvent();\n    window.transitionEndName = getTransitionEvent();\n\n} ) ( window );\n\n\n//# sourceURL=webpack:///./assets/js/src/shared/utility/polyfills/transitions.js?");

/***/ }),

/***/ "./assets/js/src/sidebar.js":
/*!**********************************!*\
  !*** ./assets/js/src/sidebar.js ***!
  \**********************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("( function( window, $ ) {\n    \n    'use strict';\n    \n    var $doc = $( document );\n    var $win = $( window );\n    \n    // Include utilities\n    __webpack_require__( /*! ./shared/utility/polyfills/classlist */ \"./assets/js/src/shared/utility/polyfills/classlist.js\" );\n    __webpack_require__( /*! ./shared/utility/polyfills/raf */ \"./assets/js/src/shared/utility/polyfills/raf.js\" );\n    __webpack_require__( /*! ./shared/utility/polyfills/transitions */ \"./assets/js/src/shared/utility/polyfills/transitions.js\" );\n    __webpack_require__( /*! ./shared/utility/ajax */ \"./assets/js/src/shared/utility/ajax.js\" );\n\n    // Include components\n    Marionette.Behaviors.behaviorsLookup = function() {\n        return {\n            Resizable:          __webpack_require__( /*! ./sidebar/components/behaviors/resizable */ \"./assets/js/src/sidebar/components/behaviors/resizable.js\" ),\n            Panel:              __webpack_require__( /*! ./sidebar/components/behaviors/panel */ \"./assets/js/src/sidebar/components/behaviors/panel.js\" ),\n            Draggable:          __webpack_require__( /*! ./shared/components/behaviors/draggable */ \"./assets/js/src/shared/components/behaviors/draggable.js\" )\n        };\n    };\n    \n    // Create the app\n    var App = __webpack_require__( /*! ./sidebar/app */ \"./assets/js/src/sidebar/app.js\" );\n    window.app = new App();\n\n    // Create the Tailor object\n    window.Tailor = {\n        Api : {\n            Setting :   __webpack_require__( /*! ./shared/components/api/setting */ \"./assets/js/src/shared/components/api/setting.js\" )\n        },\n        Notify :    __webpack_require__( /*! ./shared/utility/notify */ \"./assets/js/src/shared/utility/notify.js\" ),\n        Models :    {},\n        Panels :    {},\n        Sections :  {},\n        Controls :  {},\n        Items :     {},\n        Helpers :   {\n            \n            /**\n             * Evaluates whether the given condition is true, given two values.\n             *\n             * @since 1.5.0\n             *\n             * @param actual\n             * @param condition\n             * @param required\n             * \n             * @returns {*}\n             */\n            checkCondition : function( condition, actual, required ) {\n                actual = actual || '';\n                switch ( condition ) {\n                    case 'equals' : return actual === required;\n\n                    case 'not':\n                        if ( _.isArray( required ) ) {\n                            return -1 === required.indexOf( actual );\n                        }\n                        return actual !== required;\n\n                    case 'lessThan': return ( actual < parseInt( required, 10 ) );\n\n                    case 'greaterThan': return ( actual > parseInt( required, 10 ) );\n\n                    case 'contains' :\n                        if ( _.isString( actual ) ) {\n                            actual = actual.split( ',' );\n                        }\n                        if ( _.isArray( required ) ) {\n                            var intersection = _.intersection( required, actual );\n                            return 0 !== intersection.length;\n                        }\n                        return -1 !== _.indexOf( actual, required );\n                }\n            }\n        }\n    };\n\n    wp.media.view.settings.post.id = window.post.id;\n\n    app.addRegions( {\n        content : '#tailor-sidebar-content',\n        dialog : {\n            selector : \"#tailor-dialog-container\",\n            regionClass : __webpack_require__( /*! ./sidebar/modules/dialog/dialog-region */ \"./assets/js/src/sidebar/modules/dialog/dialog-region.js\" )\n        },\n        modal : {\n            selector : \"#tailor-modal-container\",\n            regionClass : __webpack_require__( /*! ./sidebar/modules/modal/modal-region */ \"./assets/js/src/sidebar/modules/modal/modal-region.js\" )\n        }\n    } );\n\n    // Load models\n    Tailor.Models.Container =           __webpack_require__( /*! ./sidebar/entities/models/element-container */ \"./assets/js/src/sidebar/entities/models/element-container.js\" );\n    Tailor.Models.Wrapper =             __webpack_require__( /*! ./sidebar/entities/models/element-wrapper */ \"./assets/js/src/sidebar/entities/models/element-wrapper.js\" );\n    Tailor.Models.Section =             __webpack_require__( /*! ./sidebar/entities/models/element-wrapper */ \"./assets/js/src/sidebar/entities/models/element-wrapper.js\" ); // Sections are just special wrappers\n    Tailor.Models.Default =             __webpack_require__( /*! ./sidebar/entities/models/element */ \"./assets/js/src/sidebar/entities/models/element.js\" );\n\n    // Load views\n    Tailor.Panels.Default =             __webpack_require__( /*! ./sidebar/components/panels/panel-default */ \"./assets/js/src/sidebar/components/panels/panel-default.js\" );\n    Tailor.Panels.Empty =               __webpack_require__( /*! ./sidebar/components/panels/panel-empty */ \"./assets/js/src/sidebar/components/panels/panel-empty.js\" );\n    Tailor.Sections.Default =           __webpack_require__( /*! ./sidebar/components/sections/section-default */ \"./assets/js/src/sidebar/components/sections/section-default.js\" );\n    Tailor.Controls.ButtonGroup =       __webpack_require__( /*! ./sidebar/components/controls/button-group */ \"./assets/js/src/sidebar/components/controls/button-group.js\" );\n    Tailor.Controls.Checkbox =          __webpack_require__( /*! ./sidebar/components/controls/checkbox */ \"./assets/js/src/sidebar/components/controls/checkbox.js\" );\n    Tailor.Controls.Code =              __webpack_require__( /*! ./sidebar/components/controls/code */ \"./assets/js/src/sidebar/components/controls/code.js\" );\n    Tailor.Controls.Colorpicker =       __webpack_require__( /*! ./sidebar/components/controls/colorpicker */ \"./assets/js/src/sidebar/components/controls/colorpicker.js\" );\n    Tailor.Controls.Editor =            __webpack_require__( /*! ./sidebar/components/controls/editor */ \"./assets/js/src/sidebar/components/controls/editor.js\" );\n    Tailor.Controls.Gallery =           __webpack_require__( /*! ./sidebar/components/controls/gallery */ \"./assets/js/src/sidebar/components/controls/gallery.js\" );\n    Tailor.Controls.Icon =              __webpack_require__( /*! ./sidebar/components/controls/icon */ \"./assets/js/src/sidebar/components/controls/icon.js\" );\n    Tailor.Controls.Image =             __webpack_require__( /*! ./sidebar/components/controls/image */ \"./assets/js/src/sidebar/components/controls/image.js\" );\n    Tailor.Controls.InputGroup =        __webpack_require__( /*! ./sidebar/components/controls/input-group */ \"./assets/js/src/sidebar/components/controls/input-group.js\" );\n    Tailor.Controls.Link =              __webpack_require__( /*! ./sidebar/components/controls/link */ \"./assets/js/src/sidebar/components/controls/link.js\" );\n    Tailor.Controls.List =              __webpack_require__( /*! ./sidebar/components/controls/list */ \"./assets/js/src/sidebar/components/controls/list.js\" );\n    Tailor.Controls.Radio =             __webpack_require__( /*! ./sidebar/components/controls/radio */ \"./assets/js/src/sidebar/components/controls/radio.js\" );\n    Tailor.Controls.Range =             __webpack_require__( /*! ./sidebar/components/controls/range */ \"./assets/js/src/sidebar/components/controls/range.js\" );\n    Tailor.Controls.Select =            __webpack_require__( /*! ./sidebar/components/controls/select */ \"./assets/js/src/sidebar/components/controls/select.js\" );\n    Tailor.Controls.SelectMulti =       __webpack_require__( /*! ./sidebar/components/controls/select-multi */ \"./assets/js/src/sidebar/components/controls/select-multi.js\" );\n    Tailor.Controls.Style =             __webpack_require__( /*! ./sidebar/components/controls/style */ \"./assets/js/src/sidebar/components/controls/style.js\" );\n    Tailor.Controls.Switch =            __webpack_require__( /*! ./sidebar/components/controls/switch */ \"./assets/js/src/sidebar/components/controls/switch.js\" );\n    Tailor.Controls.Text =              __webpack_require__( /*! ./sidebar/components/controls/text */ \"./assets/js/src/sidebar/components/controls/text.js\" );\n    Tailor.Controls.Textarea =          __webpack_require__( /*! ./sidebar/components/controls/textarea */ \"./assets/js/src/sidebar/components/controls/textarea.js\" );\n    Tailor.Controls.Video =             __webpack_require__( /*! ./sidebar/components/controls/video */ \"./assets/js/src/sidebar/components/controls/video.js\" );\n    Tailor.Controls.WidgetForm =        __webpack_require__( /*! ./sidebar/components/controls/widget-form */ \"./assets/js/src/sidebar/components/controls/widget-form.js\" );\n    Tailor.Controls.Default =           __webpack_require__( /*! ./sidebar/components/controls/text */ \"./assets/js/src/sidebar/components/controls/text.js\" );\n    Tailor.Controls.Abstract =          __webpack_require__( /*! ./sidebar/components/controls/abstract-control */ \"./assets/js/src/sidebar/components/controls/abstract-control.js\" );\n\n    /**\n     * Returns the element name (in title case) based on the tag or type.\n     *\n     * @since 1.5.0\n     *\n     * @param string\n     */\n    function getName( string ) {\n        string = string || '';\n        return string\n            .replace( /_|-|tailor_/gi, ' ' )\n            .replace( /(?: |\\b)(\\w)/g, function( key ) {\n                return key.toUpperCase().replace( /\\s+/g, '' );\n            } );\n    }\n\n    /**\n     * Returns the appropriate object based on tag or type.\n     *\n     * @since 1.5.0\n     *\n     * @param tag\n     * @param type\n     * @param object\n     * @returns {*}\n     */\n    Tailor.lookup = function( tag, type, object ) {\n        if ( ! Tailor.hasOwnProperty( object ) ) {\n            console.error( 'Object type ' + object + ' does not exist' );\n            return;\n        }\n\n        var name = getName( tag );\n        if ( Tailor[ object ].hasOwnProperty( name ) ) {\n            return Tailor[ object ][ name ];\n        }\n\n        if ( type ) {\n            name = getName( type );\n            if ( Tailor[ object ].hasOwnProperty( name ) ) {\n                return Tailor[ object ][ name ];\n            }\n        }\n        return Tailor[ object ].Default;\n    };\n\n    // Load modules\n    app.module( 'module:library', __webpack_require__( /*! ./sidebar/modules/library/library */ \"./assets/js/src/sidebar/modules/library/library.js\" ) );\n    app.module( 'module:templates', __webpack_require__( /*! ./sidebar/modules/templates/templates */ \"./assets/js/src/sidebar/modules/templates/templates.js\" ) );\n    app.module( 'module:settings', __webpack_require__( /*! ./sidebar/modules/settings/settings */ \"./assets/js/src/sidebar/modules/settings/settings.js\" ) );\n    app.module( 'module:history', __webpack_require__( /*! ./sidebar/modules/history/history */ \"./assets/js/src/sidebar/modules/history/history.js\" ) );\n    app.module( 'module:sections', __webpack_require__( /*! ./sidebar/modules/sections/sections */ \"./assets/js/src/sidebar/modules/sections/sections.js\" ) );\n    app.module( 'module:panels', __webpack_require__( /*! ./sidebar/modules/panels/panels */ \"./assets/js/src/sidebar/modules/panels/panels.js\" ) );\n    app.module( 'module:modal', __webpack_require__( /*! ./sidebar/modules/modal/modal */ \"./assets/js/src/sidebar/modules/modal/modal.js\" ) );\n    app.module( 'module:dialog', __webpack_require__( /*! ./sidebar/modules/dialog/dialog */ \"./assets/js/src/sidebar/modules/dialog/dialog.js\" ) );\n    app.module( 'module:notification', __webpack_require__( /*! ./sidebar/modules/notifications/notifications */ \"./assets/js/src/sidebar/modules/notifications/notifications.js\" ) );\n    app.module( 'module:devicePreview', __webpack_require__( /*! ./sidebar/modules/device-preview/device-preview */ \"./assets/js/src/sidebar/modules/device-preview/device-preview.js\" ) );\n\n    // Initialize preview\n    __webpack_require__( /*! ./sidebar/preview */ \"./assets/js/src/sidebar/preview.js\" );\n    \n    app.on( 'before:start', function( options ) {\n\n        $doc.on( 'heartbeat-send', function( e, data ) {\n            data['tailor_post_id'] = window.post.id;\n        } );\n\n        wp.heartbeat.interval( 60 );\n        wp.heartbeat.connectNow();\n\n        $win\n\n        /**\n         * Warns the user if they attempt to navigate away from the page without saving changes.\n         *\n         * @since 1.0.0\n         */\n            .on( 'beforeunload.tailor', function( e ) {\n                if ( app.hasUnsavedChanges() ) {\n                    return window._l10n.confirmPage;\n                }\n            } )\n\n            /**\n             * Unlocks the post when the user navigates away from the page.\n             *\n             * @since 1.0.0\n             */\n            .on( 'unload.tailor', function( e ) {\n                window.ajax.send( 'tailor_unlock_post', {\n                    data : {\n                        post_id : options.postId,\n                        nonce : options.nonces.unlockPost\n                    }\n                } );\n            } );\n    } );\n\n    $( function() {\n        \n        // Start the app\n        app.start( {\n            postId : window.post.id,\n            nonces : window._nonces,\n            l10n : window._l10n || [],\n            library : window._library || [],\n            templates : window._templates || [],\n            panels : window._panels || [],\n            sections : window._sections || [],\n            settings : window._settings || [],\n            controls : window._controls || []\n        } );\n    } );\n    \n} ( window, Backbone.$ ) );\n\n//# sourceURL=webpack:///./assets/js/src/sidebar.js?");

/***/ }),

/***/ "./assets/js/src/sidebar/app.js":
/*!**************************************!*\
  !*** ./assets/js/src/sidebar/app.js ***!
  \**************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("/**\n * The Sidebar Marionette application.\n */\nvar $ = Backbone.$,\n    $doc = $( document ),\n    SidebarApplication;\n\nSidebarApplication = Marionette.Application.extend( {\n\n    _initialized: false,\n    \n\tel : document.querySelector( '#tailor' ),\n\n    /**\n     * Initializes the application.\n     *\n     * @since 1.0.0\n     */\n\tonBeforeStart : function() {\n        this._collapsed = false;\n        this._unsavedChanges = false;\n        this.saveButton = document.querySelector( '#tailor-save' );\n        this.allowableEvents = [\n\n            // Triggered when the canvas is initialized\n            'canvas:initialize',\n\n            // Triggered by element actions\n\t        'element:add',\n            'element:move',\n            'element:resize',\n            'navigation:reorder',\n            'element:copy',\n            'element:delete',\n            \n            // Triggered when the element collection is restored from a snapshot\n\t        'elements:restore',\n\n            // Triggered when a set of template models are added to the element collection\n            'template:add',\n\n            // Triggered when CTRL-Z or CTRL-Y is used on the canvas\n            'history:undo', 'history:redo',\n\n            // Triggered when an element is edited\n            'modal:open',\n            'modal:destroy'\n        ];\n\n        this.addEventListeners();\n    },\n    \n    onStart: function() {\n        this._initialized = true;\n    },\n\n    /**\n     * Returns true if there are unsaved changes.\n     *\n     * @since 1.0.0\n     *\n     * @returns {boolean}\n     */\n    hasUnsavedChanges : function() {\n        return this._unsavedChanges;\n    },\n\n    /**\n     * Adds the required event listeners.\n     *\n     * @since 1.0.0\n     */\n    addEventListeners : function() {\n        var sidebar = this;\n        var events = [\n            'element:add',              // When an element is added\n            'element:move',             // When an element is moved\n            'element:resize',           // When an element (e.g., column) is resized\n            'navigation:reorder',       // When an element (e.g., tab) is reordered using navigation\n            'element:copy',             // When an element is copied\n            'element:delete',           // When an element is deleted\n            'modal:apply',              // When changes to an element are applied\n            'template:add',             // When a template is added\n            'sidebar:setting:change'    // When a sidebar setting is changed\n        ];\n\n        /**\n         * Updates the Save button and adds a confirmation prompt to the window when a change occurs.\n         *\n         * @since 1.0.0\n         */\n        sidebar.listenTo( sidebar.channel, events.join( ' ' ), function() {\n            sidebar.saveButton.disabled = false;\n            sidebar.saveButton.innerHTML = window._l10n.publish;\n            sidebar._unsavedChanges = true;\n        } );\n\n        /**\n         * Collapses the Sidebar when the Collapse button is selected.\n         *\n         * @since 1.0.0\n         */\n        $( '#tailor-collapse' ).on( 'click', function() {\n            sidebar._collapsed = ! sidebar._collapsed;\n            sidebar.el.classList.toggle( 'is-collapsed', sidebar._collapsed );\n            sidebar.saveButton.setAttribute( 'aria-expanded', ! sidebar._collapsed );\n\n            /**\n             * Fires before the application closes.\n             *\n             * @since 1.0.0\n             */\n            sidebar.triggerMethod( 'collapse:sidebar' );\n        } );\n\n        /**\n         * Saves settings and models when the Save button is clicked.\n         *\n         * @since 1.0.0\n         */\n        $( sidebar.saveButton ).on( 'click', function() {\n            sidebar.el.classList.add( 'is-saving' );\n            sidebar.saveButton.setAttribute( 'disabled', true );\n\n            var models = sidebar.channel.request( 'canvas:elements' );\n            var settings = sidebar.channel.request( 'sidebar:settings' );\n\n            window.ajax.send( 'tailor_save', {\n                data : {\n                    post_id : window.post.id,\n                    models : JSON.stringify( models.toJSON() ),\n                    settings : JSON.stringify( settings.toJSON() ),\n                    nonce : window._nonces.save\n                },\n\n                /**\n                 * Updates the sidebar after a save action is completed successfully.\n                 *\n                 * @since 1.0.0\n                 */\n                success : function() {\n                    sidebar.saveButton.disabled = true;\n                    sidebar.saveButton.innerHTML = window._l10n.saved;\n                    sidebar._unsavedChanges = false;\n\n                    /**\n                     * Fires when changes are successfully saved.\n                     *\n                     * @since 1.0.0\n                     */\n                    sidebar.channel.trigger( 'sidebar:save' );\n                },\n\n                /**\n                 * Displays an error notification on request failure.\n                 *\n                 * @since 1.0.0\n                 *\n                 * @param response\n                 */\n                error: function( response ) {\n                    sidebar.saveButton.disabled = false;\n\n                    if ( response && response.hasOwnProperty( 'message' ) ) { // Display the error from the server\n                        Tailor.Notify( response.message );\n                    }\n                    else if ( '0' == response ) {  // Session expired\n                        Tailor.Notify( window._l10n.expired );\n                    }\n                    else if ( '-1' == response ) {  // Invalid nonce\n                        Tailor.Notify( window._l10n.invalid );\n                    }\n                    else {  // General error condition\n                        Tailor.Notify( window._l10n.error );\n                    }\n                },\n\n                /**\n                 * Updates the sidebar upon request completion.\n                 *\n                 * @since 1.0.0\n                 */\n                complete : function() {\n                    sidebar.el.classList.remove( 'is-saving' );\n                }\n            } );\n        } );\n\n        sidebar.listenTo( sidebar.channel, 'canvas:handshake', sidebar.registerRemoteChannel );\n\n        $doc.on( 'keydown', function( e ) {\n            if ( _.contains( [ 'INPUT', 'SELECT', 'TEXTAREA' ], e.target.tagName ) ) {\n                return;\n            }\n\n            if ( e.ctrlKey ) {\n                if ( 89 == e.keyCode ) {\n                    sidebar.channel.trigger( 'history:redo' );\n                }\n                else if ( 90 == e.keyCode ) {\n                    sidebar.channel.trigger( 'history:undo' );\n                }\n            }\n            else if ( e.metaKey && 90 == e.keyCode ) {\n                if ( e.shiftKey ) {\n                    sidebar.channel.trigger( 'history:redo' );\n                }\n                else {\n                    sidebar.channel.trigger( 'history:undo' );\n                }\n            }\n\n        } );\n    },\n\n    /**\n     * Registers the remote window Radio channel.\n     *\n     * @since 1.0.0\n     */\n    registerRemoteChannel : function() {\n        var sidebarApp = this;\n        var iFrame = this.el.querySelector( '#tailor-sidebar-preview' );\n\n        if ( window.location.origin === iFrame.contentWindow.location.origin ) {\n            var remoteChannel = iFrame.contentWindow.app.channel;\n            \n            /**\n             * Returns the element collection from the remote window.\n             *\n             * @since 1.0.0\n             */\n            app.channel.reply( 'canvas:elements', function() {\n                return remoteChannel.request( 'canvas:elements' );\n            } );\n\n            /**\n             * Returns the element templates from the remote window.\n             *\n             * @since 1.7.9\n             */\n            app.channel.reply( 'canvas:templates', function() {\n                return remoteChannel.request( 'canvas:templates' );\n            } );\n\n            /**\n             * Returns the element CSS from the remote window.\n             *\n             * @since 1.7.9\n             */\n            app.channel.reply( 'canvas:css', function() {\n                return remoteChannel.request( 'canvas:css' );\n            } );\n            \n            /**\n             * Returns the selected element (if any) from the remote window.\n             *\n             * @since 1.0.0\n             */\n            app.channel.reply( 'canvas:element:selected', function() {\n                return remoteChannel.request( 'canvas:element:selected' );\n            } );\n\n            // Forward allowable events from the canvas\n            app.listenTo( remoteChannel, 'all', sidebarApp.forwardRemoteEvent );\n\n            app.el.classList.add( 'is-initialized' );\n            app.el.querySelector( '.tailor-preview__viewport' ).classList.add( 'is-loaded' );\n            \n            /**\n             * Fires when the sidebar is initialized.\n             *\n             * @since 1.0.0\n             *\n             * @param app\n             */\n            app.channel.trigger( 'sidebar:initialize', app );\n        }\n    },\n\n    /**\n     * Forwards specific events from the remote communication channel.\n     *\n     * @since 1.0.0\n     */\n    forwardRemoteEvent : function( eventName ) {\n        if ( _.contains( this.allowableEvents, eventName ) ) {\n            this.channel.trigger.apply( this.channel, arguments );\n        }\n    },\n\n    /**\n     * Triggers the collapse method if the Collapse button is selected using the Enter key.\n     *\n     * @since 1.0.0\n     */\n    maybeCollapse : function( e ) {\n        if ( 13 === e.keyCode ) {\n            this.onCollapse();\n        }\n    },\n\n    /**\n     * Triggers the save method if the Save button is selected using the Enter key.\n     *\n     * @since 1.0.0\n     */\n    maybeSave : function( e ) {\n        if ( 13 === e.keyCode ) {\n            this.onSave();\n        }\n    }\n\n} );\n\nmodule.exports = SidebarApplication;\n\n//# sourceURL=webpack:///./assets/js/src/sidebar/app.js?");

/***/ }),

/***/ "./assets/js/src/sidebar/components/behaviors/panel.js":
/*!*************************************************************!*\
  !*** ./assets/js/src/sidebar/components/behaviors/panel.js ***!
  \*************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("var PanelBehavior = Marionette.Behavior.extend( {\n\n    ui: {\n        backButton : '.back-button',\n        helpButton : '.help-button',\n        helpDescription : '.help-description',\n        searchBar : '.search'\n    },\n\n    events : {\n        'click @ui.helpButton': 'toggleHelp',\n        'change @ui.searchBar' : 'doSearch',\n        'input @ui.searchBar': 'doSearch',\n        'keyup @ui.searchBar': 'doSearch',\n        'search @ui.searchBar': 'doSearch'\n    },\n\n    triggers : {\n        'click @ui.backButton': 'back'\n    },\n\n    /**\n     * Toggles the help text when the Help button is pressed.\n     *\n     * @since 1.0.0\n     */\n    toggleHelp : function() {\n        this.ui.helpButton.toggleClass( 'is-open' );\n        this.ui.helpDescription.slideToggle( 150 );\n    },\n\n    /**\n     * Performs a collection search based on the search criteria provided.\n     *\n     * @since 1.0.0\n     *\n     * @param e\n     */\n    doSearch : function( e ) {\n        this.view.collection.doSearch( e.target.value );\n    }\n\n} );\n\nmodule.exports = PanelBehavior;\n\n//# sourceURL=webpack:///./assets/js/src/sidebar/components/behaviors/panel.js?");

/***/ }),

/***/ "./assets/js/src/sidebar/components/behaviors/resizable.js":
/*!*****************************************************************!*\
  !*** ./assets/js/src/sidebar/components/behaviors/resizable.js ***!
  \*****************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("var ResizableBehavior = Marionette.Behavior.extend( {\n\n    ui : {\n        handle : '.modal__title'\n    },\n\n    events : {\n        'mousemove' : 'onMouseMove',\n        'mousedown' : 'onMouseDown',\n        'dblclick @ui.handle' : 'toggleFullScreen'\n    },\n\n    /**\n     * Creates and inserts the insertion pane into the page.\n     *\n     * @since 1.0.0\n     */\n    initialize : function() {\n        this._isResizing = false;\n        this._isResizing = false;\n        this.$ghostPane = jQuery( '<div class=\"ghost-pane\"></div>' ).appendTo( 'body' );\n\n        this.addEventListeners();\n    },\n\n    /**\n     * Adds the required event listeners.\n     *\n     * @since 1.0.0\n     */\n    addEventListeners : function() {\n        var behavior = this;\n        window.addEventListener( 'resize', function() {\n            behavior.checkPosition();\n        }, false );\n    },\n\n    /**\n     * Returns the edges of the modal window that the mouse is currently over (if any).\n     *\n     * @since 1.0.0\n     *\n     * @param e\n     * @returns {Array}\n     */\n    detectEdges : function( e ) {\n        var rect = this.el.getBoundingClientRect();\n        var x = e.clientX - rect.left;\n        var y = e.clientY - rect.top;\n\n        var threshold = 8;\n        var edges = [];\n\n        // Top\n        if ( y < threshold ) {\n            edges.push( 'top' );\n        }\n\n        // Bottom\n        if ( y >= ( rect.height - threshold ) ) {\n            edges.push( 'bottom' );\n        }\n\n        // Left\n        if ( x < threshold ) {\n            edges.push( 'left' );\n        }\n\n        // Right\n        if ( x >= ( rect.width - threshold ) ) {\n            edges.push( 'right' );\n        }\n        return edges;\n    },\n\n    /**\n     * Adds a class name to the modal window associated with the possible drag action.\n     *\n     * @since 1.0.0\n     *\n     * @param e\n     */\n    onMouseMove: function( e ) {\n        if ( this._isResizing || this._isDragging ) {\n            return;\n        }\n\n        this.$el.removeClass( 'top top-left top-right left right bottom bottom-left bottom-right is-draggable' );\n\n        var edges = this.detectEdges( e );\n        if ( edges.length && ! this.container.classList.contains( 'is-full-screen' ) && ! document.body.classList.contains( 'mce-fullscreen' ) ) {\n            this.$el.addClass( edges.join( '-' ) );\n        }\n        else if ( e.target.classList.contains( 'modal__title' ) ) {\n            this.el.classList.add( 'is-draggable' );\n        }\n    },\n\n    /**\n     * Initiates the drag or resize action, if appropriate.\n     *\n     * @since 1.0.0\n     *\n     * @param e\n     */\n    onMouseDown : function( e ) {\n        if ( this._isResizing || this._isDragging ) {\n            return;\n        }\n\n        var edges = this.detectEdges( e );\n        if (\n            edges.length &&\n            ! this.$container.hasClass( 'is-full-screen' ) &&\n            ! document.body.classList.contains( 'mce-fullscreen' )\n        ) {\n            this.resize( e, edges );\n        }\n        else if ( e.target === this.ui.handle.get(0) ) {\n            this.drag( e );\n        }\n    },\n\n    /**\n     * Updates the width and height of the modal window when the user resizes it.\n     *\n     * @since 1.0.0\n     *\n     * @param e\n     * @param edges\n     */\n    resize : function( e, edges ) {\n        var that = this;\n        var edge = edges.join( '-' );\n        var direction = ( _.contains( edges, 'top' ) || _.contains( edges, 'left' ) ) ? -1 : 1;\n\n        this._isResizing = true;\n\n        document.body.classList.add( 'is-dragging' );\n        document.addEventListener( 'mousemove', onResize, false );\n        document.addEventListener( 'mouseup', onResizeEnd, false );\n\n        var lastX = e.pageX;\n        var lastY = e.pageY;\n        var lastWidth = parseInt( that.container.style.width, 10 );\n        var lastHeight = parseInt( that.container.style.height, 10 );\n\n        /**\n         * Updates the width and height of the modal window as it is resized.\n         *\n         * @since 1.0.0\n         *\n         * @param e\n         */\n        function onResize( e ) {\n            var xDifference = ( direction * ( e.pageX - lastX ) );\n            var yDifference = ( direction * ( e.pageY - lastY ) );\n\n            switch ( edge ) {\n\n                case 'top':\n                    lastHeight = lastHeight + yDifference;\n                    if ( lastHeight > 400 ) {\n                        that.container.style.height = lastHeight + 'px';\n                        that.container.style.top = ( parseInt( that.container.style.top, 10 ) - yDifference ) + 'px';\n                    }\n                    break;\n\n                case 'bottom':\n                    lastHeight = lastHeight + yDifference;\n                    if ( lastHeight > 400 ) {\n                        that.container.style.height = lastHeight + 'px';\n                    }\n                    break;\n\n                case 'left':\n                    lastWidth = lastWidth + xDifference;\n                    if ( lastWidth > 300 ) {\n                        that.container.style.width = lastWidth + 'px';\n                        that.container.style.left = ( parseInt( that.container.style.left, 10 ) - xDifference ) + 'px';\n                    }\n                    break;\n\n                case 'right':\n                    lastWidth = lastWidth + xDifference;\n                    if ( lastWidth > 300 ) {\n                        that.container.style.width = lastWidth + 'px';\n                    }\n                    break;\n\n                case 'top-left':\n                    lastHeight = lastHeight + yDifference;\n                    lastWidth = lastWidth + xDifference;\n                    if ( lastWidth > 300 ) {\n                        that.container.style.width = lastWidth + 'px';\n                        that.container.style.left = ( parseInt( that.container.style.left, 10 ) - xDifference ) + 'px';\n                    }\n                    if ( lastHeight > 400 ) {\n                        that.container.style.height = lastHeight + 'px';\n                        that.container.style.top = ( parseInt( that.container.style.top, 10 ) - yDifference ) + 'px';\n                    }\n                    break;\n\n                case 'top-right':\n                    lastHeight = lastHeight + yDifference;\n                    lastWidth = lastWidth - xDifference;\n                    if ( lastWidth > 300 ) {\n                        that.container.style.width = lastWidth + 'px';\n                    }\n                    if ( lastHeight > 400 ) {\n                        that.container.style.height = lastHeight + 'px';\n                        that.container.style.top = ( parseInt( that.container.style.top, 10 ) - yDifference ) + 'px';\n                    }\n                    break;\n\n                case 'bottom-left':\n                    lastHeight = lastHeight - yDifference;\n                    lastWidth = lastWidth + xDifference;\n                    if ( lastWidth > 300 ) {\n                        that.container.style.width = lastWidth + 'px';\n                        that.container.style.left = ( parseInt( that.container.style.left, 10 ) - xDifference ) + 'px';\n                    }\n                    if ( lastHeight > 400 ) {\n                        that.container.style.height = lastHeight + 'px';\n                    }\n                    break;\n\n                case 'bottom-right':\n                    lastHeight = lastHeight + yDifference;\n                    lastWidth = lastWidth + xDifference;\n                    if ( lastWidth > 300 ) {\n                        that.container.style.width = lastWidth + 'px';\n                    }\n                    if ( lastHeight > 400 ) {\n                        that.container.style.height = lastHeight + 'px';\n                    }\n                    break;\n            }\n\n            that.triggerResize( lastWidth, lastHeight );\n\n            lastY = e.pageY;\n            lastX = e.pageX;\n        }\n\n        /**\n         * Removes event listeners and checks to ensure that the final size is valid.\n         *\n         * @since 1.0.0\n         *\n         * @param e\n         */\n        function onResizeEnd( e ) {\n            that._isResizing = false;\n\n            document.body.classList.remove( 'is-dragging' );\n            document.removeEventListener( 'mousemove', onResize, false );\n            document.removeEventListener( 'mouseup', onResizeEnd, false );\n\n            that.checkPosition( 150 );\n        }\n    },\n\n    /**\n     * Updates the position of the modal window when the user drags it.\n     *\n     * @since 1.0.0\n     *\n     * @param e\n     */\n    drag : function( e ) {\n        var that = this;\n        var lastX;\n        var lastY;\n\n        this._isDragging = true;\n\n        document.addEventListener( 'mousemove', onDrag, false );\n        document.addEventListener( 'mouseup', onDragEnd, false );\n\n        /**\n         * Updates the top and left position of the modal window as it is dragged.\n         *\n         * @since 1.0.0\n         *\n         * @param e\n         */\n        function onDrag( e ) {\n            document.body.classList.add( 'is-dragging' );\n\n            that.container.style.top = parseInt( that.container.style.top, 10 ) + ( e.pageY - lastY ) + 'px';\n            that.container.style.left = parseInt( that.container.style.left, 10 ) + ( e.pageX - lastX ) + 'px';\n\n            if ( e.pageX < 5 ) {\n                that.$ghostPane.css( { display: 'block' } ).addClass( 'left' );\n            }\n            else if ( e.pageX > ( window.innerWidth - 5 ) ) {\n                that.$ghostPane.css( { display: 'block' } ).addClass( 'right' );\n            }\n            else if ( e.pageY < 5 ) {\n                that.$ghostPane.css( { display: 'block' } ).addClass( 'top' );\n            }\n            else {\n\n                that.resetGhostPane();\n\n                if ( that.container.classList.contains( 'is-full-screen' ) ) {\n                    that.$container.removeClass( 'is-full-screen is-full-screen-left is-full-screen-right' );\n                    that.container.style.top = ( e.pageY - 20 ) + 'px';\n                    that.container.style.left = ( e.pageX - ( parseInt( that.container.style.width, 10 ) / 2 ) ) + 'px';\n\n                    that.triggerResize( parseInt( that.container.style.width, 10 ), parseInt( that.container.style.height, 10 ) );\n                }\n            }\n\n            lastX = e.pageX;\n            lastY = e.pageY;\n        }\n\n        /**\n         * Removes event listeners and checks to ensure that the final position is valid.\n         *\n         * @since 1.0.0\n         *\n         * @param e\n         */\n        function onDragEnd( e ) {\n            that._isDragging = false;\n\n            document.body.classList.remove( 'is-dragging' );\n            document.removeEventListener( 'mousemove', onDrag, false );\n            document.removeEventListener( 'mouseup', onDragEnd, false );\n\n            that.maybeToggleFullScreen( e );\n        }\n    },\n\n\t/**\n     * Toggles full-screen mode if the modal window is dragged to the left, right or top of the screen.\n     *\n     * @since 1.0.0\n     *\n     * @param e\n     */\n    maybeToggleFullScreen : function( e ) {\n        var position;\n\n        if ( e.pageY < 5 ) {\n            position = 'top';\n        }\n        else if ( e.pageX < 5 ) {\n            position = 'left';\n        }\n        else if ( e.pageX > ( window.innerWidth - 5 ) ) {\n            position = 'right';\n        }\n\n        if ( position ) {\n            this.enterFullScreen( position );\n        }\n        else {\n            this.checkPosition( 150 );\n        }\n    },\n\n    /**\n     * Toggles full-screen mode.\n     *\n     * @since 1.0.0\n     */\n    toggleFullScreen : function() {\n        if ( ! this.container.classList.contains( 'is-full-screen' ) ) {\n            this.enterFullScreen( 'top' );\n        }\n        else {\n            this.exitFullScreen();\n        }\n    },\n\n\t/**\n     * Enters full-screen mode.\n     *\n     * @since 1.0.0\n     *\n     * @param position\n     */\n    enterFullScreen : function( position ) {\n        this.$container.removeClass( 'is-full-screen is-full-screen-left is-full-screen-right' );\n        this.container.classList.add( 'is-full-screen' );\n        this.container.classList.add( 'is-full-screen-' + position );\n\n        var rect = this.container.getBoundingClientRect();\n        this.triggerResize( rect.width, rect.height );\n    },\n\n\t/**\n     * Exits full-screen mode.\n     *\n     * @since 1.0.0\n     */\n    exitFullScreen : function() {\n        this.$container.removeClass( 'is-full-screen is-full-screen-left is-full-screen-right' );\n\n        this.triggerResize( parseInt( this.container.style.width, 10 ), parseInt( this.container.style.height, 10 ) );\n        this.checkPosition( 150 );\n        this.resetGhostPane();\n    },\n\n    /**\n     * Fires a refresh event based on the inline width and height.\n     *\n     * @since 1.0.0\n     *\n     * @param width\n     * @param height\n     */\n    triggerResize : function( width, height ) {\n\n\t    /**\n\t     * Fires when the element is resized.\n         *\n         * @since 1.0.0\n         */\n        this.view.trigger( 'modal:resize', width, height );\n    },\n\n\t/**\n     * Hides the ghost pane.\n     *\n     * @since 1.0.0\n     */\n    resetGhostPane : function() {\n        this.$ghostPane.css( { display: 'none' } );\n        this.$ghostPane[0].className = 'ghost-pane';\n    },\n\n    /**\n     * Sets the initial focus and checks the position of the modal window when it is first shown.\n     *\n     * @since 1.0.0\n     */\n    onShow : function() {\n        this.container = this.el.parentNode;\n        this.$container = this.$el.parent();\n\n        this.checkPosition();\n    },\n\n    /**\n     * Ensures that the modal window is positioned inside the viewport.\n     *\n     * @since 1.0.0\n     *\n     * @param duration\n     */\n    checkPosition : function( duration ) {\n        duration = duration || 0;\n\n        var width = parseInt( this.container.style.width, 10 );\n        var height = parseInt( this.container.style.height, 10 );\n        var top = parseInt( this.container.style.top, 10 );\n        var left = parseInt( this.container.style.left, 10 );\n        var css = {};\n\n        if ( top < window.scrollY ) {\n            css.top = window.scrollY;\n        }\n        else if ( ( top + height ) > ( window.scrollY + window.innerHeight ) ) {\n            css.top = Math.max( window.scrollY + window.innerHeight - height, window.scrollY );\n        }\n\n        if ( left < 0 ) {\n            css.left = window.scrollX;\n        }\n        else if ( ( left + width ) > ( window.scrollX + window.innerWidth ) ) {\n            css.left = Math.max( window.scrollX + window.innerWidth - width, window.scrollX );\n        }\n\n        if ( duration ) {\n            this.$container.animate( css, duration );\n        }\n        else {\n            this.$container.css( css );\n        }\n    },\n\n    /**\n     * Removes the ghost pane.\n     *\n     * @since 1.0.0\n     */\n    onDestroy  : function() {\n        this.$ghostPane.remove();\n    }\n\n} );\n\nmodule.exports = ResizableBehavior;\n\n//# sourceURL=webpack:///./assets/js/src/sidebar/components/behaviors/resizable.js?");

/***/ }),

/***/ "./assets/js/src/sidebar/components/controls/abstract-control.js":
/*!***********************************************************************!*\
  !*** ./assets/js/src/sidebar/components/controls/abstract-control.js ***!
  \***********************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("var $ = window.jQuery,\n    AbstractControl;\n\nAbstractControl = Marionette.ItemView.extend( {\n\n    tagName : 'li',\n\n    media : 'desktop',\n\n    ui : {\n        'input' : 'input',\n        'mediaButton' : '.js-setting-group .button',\n        'defaultButton' : '.js-default',\n        'controlGroups' : '.control__body > *'\n    },\n    \n    events : {\n        'blur @ui.input' : 'onFieldChange',\n        'click @ui.mediaButton' : 'onMediaButtonChange',\n        'click @ui.defaultButton' : 'onDefaultButtonChange'\n    },\n\n\t/**\n     * Returns the class name.\n     * \n     * @since 1.0.0\n     * \n     * @returns {string}\n     */\n    className : function() {\n        return 'control control--' + this.model.get( 'type' );\n    },\n    \n\t/**\n\t * Returns the template ID.\n     * \n     * @since 1.0.0\n     * \n     * @returns {string}\n     */\n    getTemplate : function() {\n        return '#tmpl-tailor-control-' + this.model.get( 'type' );\n    },\n\n    /**\n     * Provides the required information to the template rendering function.\n     *\n     * @since 1.0.0\n     *\n     * @returns {*}\n     */\n    serializeData : function() {\n        var data = Backbone.Marionette.ItemView.prototype.serializeData.apply( this, arguments );\n        data.values = this.getValues();\n        data.hideDefault = this.checkDefault( data.values );\n        data = this.addSerializedData( data );\n        \n        return data;\n    },\n    \n    /**\n     * Provides additional data to the template rendering function.\n     *\n     * @since 1.7.2\n     *\n     * @returns {*}\n     */\n    addSerializedData : function( data ) {\n        return data;\n    },\n    \n\t/**\n     * Returns true if the Default button should be hidden.\n     * \n     * @since 1.7.2\n     * \n     * @param values\n     * @returns {boolean}\n     */\n    checkDefault : function( values ) {\n        var hide = true;\n        _.each( this.getDefaults(), function( value, media ) {\n            if (\n                ! _.isNull( value ) &&\n                values.hasOwnProperty( media ) &&\n                ! _.isNull( values[ media ] ) &&\n                value !== values[ media ]\n            ) {\n                hide = false;\n            }\n        } );\n        return hide;\n    },\n\n    /**\n     * Initializes the control.\n     *\n     * @since 1.0.0\n     */\n    initialize : function() {\n        this.addEventListeners();\n        this.checkDependencies();\n    },\n\n    /**\n     * Adds the required event listeners.\n     *\n     * @since 1.0.0\n     */\n    addEventListeners : function() {\n        _.each( this.getSettings(), function( setting ) {\n            this.listenTo( setting, 'change', this.onSettingChange );\n        }, this );\n        this.listenTo( this.getSetting().collection, 'change', this.checkDependencies );\n    },\n\n    /**\n     * Checks whether the control should be visible, based on its dependencies.\n     *\n     * @since 1.0.0\n     *\n     * @param setting\n     */\n    checkDependencies : function( setting ) {\n        setting = setting || this.getSetting();\n        var dependencies = this.model.get( 'dependencies' );\n        var settingCollection = setting.collection;\n        var visible = true;\n\n        for ( var id in dependencies ) {\n            if ( dependencies.hasOwnProperty( id ) ) {\n                var target = settingCollection.get( id );\n                if ( ! target ) {\n                    continue;\n                }\n\n                var condition = dependencies[ id ].condition;\n                var actual = target.get( 'value' );\n                var required = dependencies[ id ].value;\n\n                if ( ! Tailor.Helpers.checkCondition( condition, actual, required ) ) {\n                    visible = false;\n                    break;\n                }\n            }\n        }\n\n        this.$el.toggle( visible );\n    },\n\n\t/**\n\t * Updates the media-query based control groups when the control is rendered.\n     * \n     * @since 1.7.2\n     */\n    onRender : function() {\n        this.updateControlGroups();\n    },\n\n\t/**\n     * Displays the appropriate media-query based control group when the Media button is pressed.\n     * \n     * @since 1.7.2\n     * \n     * @param e\n     */\n    onMediaButtonChange : function( e ) {\n        this.media = e.currentTarget.getAttribute( 'data-media' );\n        app.channel.trigger('sidebar:device', this.media);\n        this.updateControlGroups();\n    },\n\n\t/**\n     * Restores the default setting values when the Default button is pressed.\n     * \n     * @since 1.7.2\n     */\n    onDefaultButtonChange : function() {\n        this.restoreDefaults();\n        this.render();\n    },\n\n\t/**\n\t * Updates the current setting value when a field change occurs.\n     * \n     * @since 1.7.2\n     */\n    onFieldChange : function() {\n        this.setValue( this.ui.input.filter( '[name^=\"' + this.media + '\"]' ).val() );\n    },\n\n\t/**\n\t * Updates the state of the Default button when a setting value changes.\n     * \n     * @since 1.7.2\n     */\n    onSettingChange : function() {\n        this.updateDefaultButton();\n    },\n\n\t/**\n     * Displays the control group associated with the current media query.\n     * \n     * @since 1.7.2\n     */\n    updateControlGroups : function() {\n        var media = this.media;\n\n        this.ui.controlGroups.each( function() {\n            $( this ).toggleClass( 'is-hidden', media != this.id );\n        } );\n\n        this.ui.mediaButton.each( function() {\n            $( this ).toggleClass( 'active', media == this.getAttribute( 'data-media' ) );\n        } );\n    },\n\n\t/**\n     * Updates the visibility of the Default button.\n     * \n     * @since 1.7.2\n     */\n    updateDefaultButton : function() {\n        this.ui.defaultButton.toggleClass( 'is-hidden', this.checkDefault( this.getValues() ) );\n    },\n\n\t/**\n     * Returns all control settings.\n     * \n     * @since 1.7.2\n     * \n     * @returns {*}\n     */\n    getSettings : function() {\n        return this.model.settings;\n    },\n\n\t/**\n     * Returns the setting associated with a given media query.\n     * \n     * @since 1.7.2\n     * \n     * @param media\n     * @returns {*}\n     */\n    getSetting : function( media ) {\n        media = media || this.media;\n        var settings = this.getSettings();\n        for ( var i in settings ) {\n            if ( settings.hasOwnProperty( i ) ) {\n                if ( settings[ i ].media == media ) {\n                    return settings[ i ];\n                }\n            }\n        }\n        return false;\n    },\n\n\t/**\n\t * Returns the default value for each setting.\n     * \n     * @since 1.7.2\n     * \n     * @returns {{}}\n     */\n    getDefaults : function() {\n        var defaults = {};\n        _.each( this.getSettings(), function( setting ) {\n            defaults[ setting.media ] = setting.get( 'default' );\n        } );\n        return defaults;\n    },\n\n\t/**\n\t * Returns the value for each setting.\n     * \n     * @since 1.7.2\n     * \n     * @returns {{}}\n     */\n    getValues : function() {\n        var values = {};\n        _.each( this.getSettings(), function( setting ) {\n            values[ setting.media ] = setting.get( 'value' ) || '';\n        } );\n        return values;\n    },\n\n\t/**\n     * Returns the default value for the current setting.\n     * \n     * @since 1.7.2\n     * \n     * @returns {*}\n     */\n    getDefault : function() {\n        return this.getSetting().get( 'default' );\n    },\n\n    /**\n     * Returns the value for the current setting.\n     *\n     * @since 1.7.2\n     *\n     * @returns {*}\n     */\n    getValue : function() {\n        return this.getSetting().get( 'value' );\n    },\n\n    /**\n     * Updates value for the current setting.\n     *\n     * @since 1.7.2\n     *\n     * @returns {*}\n     */\n    setValue : function( value ) {\n        this.getSetting().set( 'value', value );\n    },\n\n    /**\n     * Restores each setting to its default value.\n     *\n     * @since 1.7.2\n     *\n     * @returns {*}\n     */\n    restoreDefaults : function() {\n        _.each( this.getSettings(), function( setting ) {\n            setting.set( 'value', setting.get( 'default' ) );\n        } );\n    }\n\n} );\n\nmodule.exports = AbstractControl;\n\n//# sourceURL=webpack:///./assets/js/src/sidebar/components/controls/abstract-control.js?");

/***/ }),

/***/ "./assets/js/src/sidebar/components/controls/button-group.js":
/*!*******************************************************************!*\
  !*** ./assets/js/src/sidebar/components/controls/button-group.js ***!
  \*******************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("/**\n * Tailor.Controls.ButtonGroup\n *\n * A button group control.\n *\n * @augments Marionette.ItemView\n */\nvar AbstractControl = __webpack_require__( /*! ./abstract-control */ \"./assets/js/src/sidebar/components/controls/abstract-control.js\" ),\n\tButtonGroupControl;\n\nButtonGroupControl = AbstractControl.extend( {\n\n    ui : {\n        'input' : '.control__body .button',\n        'mediaButton' : '.js-setting-group .button',\n        'defaultButton' : '.js-default',\n        'controlGroups' : '.control__body > *'\n    },\n\n    events : {\n        'click @ui.input' : 'onFieldChange',\n        'click @ui.mediaButton' : 'onMediaButtonChange',\n        'click @ui.defaultButton' : 'onDefaultButtonChange'\n    },\n\n    templateHelpers : {\n\n        active : function( media, key ) {\n            return key === this.values[ media ] ? 'active' : '';\n        }\n    },\n\n    /**\n     * Updates the current setting value when a field change occurs.\n     *\n     * @since 1.7.2\n     */\n    onFieldChange : function( e ) {\n        this.ui.input.filter( '[name^=\"' + this.media + '\"]' ).removeClass( 'active' );\n        var button = e.currentTarget;\n        button.classList.add( 'active' );\n        this.setValue( button.value );\n    }\n\n} );\n\nmodule.exports = ButtonGroupControl;\n\n\n//# sourceURL=webpack:///./assets/js/src/sidebar/components/controls/button-group.js?");

/***/ }),

/***/ "./assets/js/src/sidebar/components/controls/checkbox.js":
/*!***************************************************************!*\
  !*** ./assets/js/src/sidebar/components/controls/checkbox.js ***!
  \***************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("/**\n * Tailor.Controls.Checkbox\n *\n * A checkbox control.\n *\n * @augments Marionette.ItemView\n */\nvar AbstractControl = __webpack_require__( /*! ./abstract-control */ \"./assets/js/src/sidebar/components/controls/abstract-control.js\" ),\n\tCheckboxControl;\n\nCheckboxControl = AbstractControl.extend( {\n\n    events : {\n        'change @ui.input' : 'onFieldChange',\n        'click @ui.mediaButton' : 'onMediaButtonChange',\n        'click @ui.defaultButton' : 'onDefaultButtonChange'\n    },\n\n    templateHelpers : {\n\n        checked : function( media, key ) {\n            var values = this.values[ media ].split( ',' );\n            return -1 !== values.indexOf( key ) ? 'checked' : '';\n        }\n    },\n\n    /**\n     * Updates the current setting value when a field change occurs.\n     *\n     * @since 1.7.2\n     */\n    onFieldChange : function( e ) {\n        var values = [];\n        _.each( this.ui.input.filter( '[name^=\"' + this.media + '\"]:checked' ), function( field ) {\n            if ( field.checked ) {\n                values.push( field.value || 0 );\n            }\n        } );\n        this.setValue( values.join( ',' ) );\n    }\n\n} );\n\nmodule.exports = CheckboxControl;\n\n\n//# sourceURL=webpack:///./assets/js/src/sidebar/components/controls/checkbox.js?");

/***/ }),

/***/ "./assets/js/src/sidebar/components/controls/code.js":
/*!***********************************************************!*\
  !*** ./assets/js/src/sidebar/components/controls/code.js ***!
  \***********************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("/**\n * Tailor.Controls.Code\n *\n * A code editor control.\n *\n * @augments Marionette.ItemView\n */\n\nvar $ = window.jQuery,\n\tAbstractControl = __webpack_require__( /*! ./abstract-control */ \"./assets/js/src/sidebar/components/controls/abstract-control.js\" ),\n\tCodeControl;\n\nCodeControl = AbstractControl.extend( {\n\n\tui : {\n\t\t'input' : 'textarea',\n\t\t'mediaButton' : '.js-setting-group .button',\n\t\t'defaultButton' : '.js-default',\n\t\t'controlGroups' : '.control__body > *'\n\t},\n\n\tevents : {\n\t\t'click @ui.mediaButton' : 'onMediaButtonChange',\n\t\t'click @ui.defaultButton' : 'onDefaultButtonChange'\n\t},\n\n\t/**\n\t * Provides additional data to the template rendering function.\n\t *\n\t * @since 1.7.2\n\t *\n\t * @returns {*}\n\t */\n\taddSerializedData : function( data ) {\n\t\tdata.cid = this.cid;\n\t\treturn data;\n\t},\n\n\t/**\n\t * Initailizes the CodeMirror editor when the control is rendered.\n\t * \n\t * @since 1.7.2\n\t */\n    onRender : function() {\n\t    var control = this;\n\t    var mode = control.model.get( 'mode' );\n\t    this.editors = {};\n\n\t    _.each( this.getValues(), function( value, media ) {\n\t\t    var $field = control.ui.input.filter( '[name^=\"' + media + '-' + control.cid + '\"]' );\n\n\t\t    control.editors[ media ] = CodeMirror.fromTextArea( $field.get(0), {\n\t\t\t    mode : mode,\n\t\t\t    lineNumbers : true,\n\t\t\t    matchBrackets : true,\n\t\t\t    continueComments : 'Enter',\n\t\t\t    viewportMargin : Infinity,\n\t\t\t    extraKeys : {\n\n\t\t\t\t    'F11' : function( cm ) {\n\t\t\t\t\t    cm.setOption( 'fullScreen', ! cm.getOption( 'fullScreen' ) );\n\t\t\t\t    },\n\n\t\t\t\t    'Esc' : function( cm ) {\n\t\t\t\t\t    if ( cm.getOption( 'fullScreen' ) )  {\n\t\t\t\t\t\t    cm.setOption( 'fullScreen', false );\n\t\t\t\t\t    }\n\t\t\t\t    }\n\t\t\t    }\n\t\t    } );\n\n\t\t    control.editors[ media ].on( 'change', function( editor ) {\n\t\t\t    control.setValue( editor.getValue() );\n\t\t    }, this );\n\n\t\t    setTimeout( function() {\n\t\t\t    control.editors[ media ].refresh();\n\t\t    }, 10 );\n\t    } );\n\n\t    this.updateControlGroups();\n    },\n\n\t/**\n\t * Restores each setting to its default value.\n\t *\n\t * @since 1.7.2\n\t *\n\t * @returns {*}\n\t */\n\trestoreDefaults : function() {\n\t\t_.each( this.getSettings(), function( setting, media ) {\n\t\t\tvar value = setting.get( 'default' ) || '';\n\t\t\tsetting.set( 'value', value );\n\t\t} );\n\t},\n\n\t/**\n\t * Displays the control group associated with the current media query.\n\t *\n\t * @since 1.7.2\n\t */\n\tupdateControlGroups : function() {\n\t\tvar control = this;\n\t\tvar media = this.media;\n\n\t\tthis.ui.controlGroups.each( function() {\n\t\t\t$( this ).toggleClass( 'is-hidden', media != this.id );\n\t\t} );\n\n\t\tthis.ui.mediaButton.each( function() {\n\t\t\t$( this ).toggleClass( 'active', media == this.getAttribute( 'data-media' ) );\n\t\t} );\n\n\t\tcontrol.editors[ media ].refresh();\n\t},\n\n    /**\n     * Destroys the editor instance when the control is destroyed.\n     *\n     * @since 1.0.0\n     */\n\tonDestroy : function() {\n\t\tvar control = this;\n\t    _.each( this.getValues(), function( value, media ) {\n\t\t    control.editors[ media ].off();\n\t\t    control.editors[ media ].toTextArea();\n\t    } );\n\t}\n\n} );\n\nmodule.exports = CodeControl;\n\n\n//# sourceURL=webpack:///./assets/js/src/sidebar/components/controls/code.js?");

/***/ }),

/***/ "./assets/js/src/sidebar/components/controls/colorpicker.js":
/*!******************************************************************!*\
  !*** ./assets/js/src/sidebar/components/controls/colorpicker.js ***!
  \******************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("/**\n * Tailor.Controls.ColorPicker\n *\n * A color picker control.\n *\n * @augments Marionette.ItemView\n */\nvar $ = window.jQuery,\n    AbstractControl = __webpack_require__( /*! ./abstract-control */ \"./assets/js/src/sidebar/components/controls/abstract-control.js\" ),\n    ColorPickerControl;\n\n/**!\n * wp-color-picker-alpha\n *\n * Overwrite Automattic Iris for enabled Alpha Channel in wpColorPicker\n * Only run in input and is defined data alpha in true\n *\n * Version: 2.1.2\n * https://github.com/kallookoo/wp-color-picker-alpha\n * Licensed under the GPLv2 license.\n */\n( function( $ ) {\n        // Variable for some backgrounds ( grid )\n    var image   = 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAIAAAHnlligAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAHJJREFUeNpi+P///4EDBxiAGMgCCCAGFB5AADGCRBgYDh48CCRZIJS9vT2QBAggFBkmBiSAogxFBiCAoHogAKIKAlBUYTELAiAmEtABEECk20G6BOmuIl0CIMBQ/IEMkO0myiSSraaaBhZcbkUOs0HuBwDplz5uFJ3Z4gAAAABJRU5ErkJggg==',\n        // html stuff for wpColorPicker copy of the original color-picker.js\n        _after = '<div class=\"wp-picker-holder\" />',\n        _wrap = '<div class=\"wp-picker-container\" />',\n        _button = '<input type=\"button\" class=\"button button-small\" />',\n        // Prevent CSS issues in < WordPress 4.9\n        _deprecated = ( wpColorPickerL10n.current !== undefined );\n        // Declare some global variables when is deprecated or not\n        if ( _deprecated ) {\n            var _before = '<a tabindex=\"0\" class=\"wp-color-result\" />';\n        } else {\n            var _before = '<button type=\"button\" class=\"button wp-color-result\" aria-expanded=\"false\"><span class=\"wp-color-result-text\"></span></button>',\n                _wrappingLabel = '<label></label>',\n                _wrappingLabelText = '<span class=\"screen-reader-text\"></span>';\n        }\n    /**\n     * Overwrite Color\n     * for enable support rbga\n     */\n    Color.fn.toString = function() {\n        if ( this._alpha < 1 )\n            return this.toCSS( 'rgba', this._alpha ).replace( /\\s+/g, '' );\n\n        var hex = parseInt( this._color, 10 ).toString( 16 );\n\n        if ( this.error )\n            return '';\n\n        if ( hex.length < 6 )\n            hex = ( '00000' + hex ).substr( -6 );\n\n        return '#' + hex;\n    };\n\n    /**\n     * Overwrite iris\n     */\n    $.widget( 'a8c.iris', $.a8c.iris, {\n        _create: function() {\n            this._super();\n\n            // Global option for check is mode rbga is enabled\n            this.options.alpha = this.element.data( 'alpha' ) || false;\n\n            // Is not input disabled\n            if ( ! this.element.is( ':input' ) )\n                this.options.alpha = false;\n\n            if ( typeof this.options.alpha !== 'undefined' && this.options.alpha ) {\n                var self       = this,\n                    el         = self.element,\n                    _html      = '<div class=\"iris-strip iris-slider iris-alpha-slider\"><div class=\"iris-slider-offset iris-slider-offset-alpha\"></div></div>',\n                    aContainer = $( _html ).appendTo( self.picker.find( '.iris-picker-inner' ) ),\n                    aSlider    = aContainer.find( '.iris-slider-offset-alpha' ),\n                    controls   = {\n                        aContainer : aContainer,\n                        aSlider    : aSlider\n                    };\n\n                if ( typeof el.data( 'custom-width' ) !== 'undefined' ) {\n                    self.options.customWidth = parseInt( el.data( 'custom-width' ) ) || 0;\n                } else {\n                    self.options.customWidth = 100;\n                }\n\n                // Set default width for input reset\n                self.options.defaultWidth = el.width();\n\n                // Update width for input\n                if ( self._color._alpha < 1 || self._color.toString().indexOf('rgb') != -1 )\n                    el.width( parseInt( self.options.defaultWidth + self.options.customWidth ) );\n\n                // Push new controls\n                $.each( controls, function( k, v ) {\n                    self.controls[k] = v;\n                } );\n\n                // Change size strip and add margin for sliders\n                self.controls.square.css( { 'margin-right': '0' } );\n                var emptyWidth   = ( self.picker.width() - self.controls.square.width() - 20 ),\n                    stripsMargin = ( emptyWidth / 6 ),\n                    stripsWidth  = ( ( emptyWidth / 2 ) - stripsMargin );\n\n                $.each( [ 'aContainer', 'strip' ], function( k, v ) {\n                    self.controls[v].width( stripsWidth ).css( { 'margin-left' : stripsMargin + 'px' } );\n                } );\n\n                // Add new slider\n                self._initControls();\n\n                // For updated widget\n                self._change();\n            }\n        },\n        _initControls: function() {\n            this._super();\n\n            if ( this.options.alpha ) {\n                var self     = this,\n                    controls = self.controls;\n\n                controls.aSlider.slider({\n                    orientation : 'vertical',\n                    min         : 0,\n                    max         : 100,\n                    step        : 1,\n                    value       : parseInt( self._color._alpha * 100 ),\n                    slide       : function( event, ui ) {\n                        // Update alpha value\n                        self._color._alpha = parseFloat( ui.value / 100 );\n                        self._change.apply( self, arguments );\n                    }\n                });\n            }\n        },\n        _change: function() {\n            this._super();\n\n            var self = this,\n                el   = self.element;\n\n            if ( this.options.alpha ) {\n                var controls     = self.controls,\n                    alpha        = parseInt( self._color._alpha * 100 ),\n                    color        = self._color.toRgb(),\n                    gradient     = [\n                        'rgb(' + color.r + ',' + color.g + ',' + color.b + ') 0%',\n                        'rgba(' + color.r + ',' + color.g + ',' + color.b + ', 0) 100%'\n                    ],\n                    defaultWidth = self.options.defaultWidth,\n                    customWidth  = self.options.customWidth,\n                    target       = self.picker.closest( '.wp-picker-container' ).find( '.wp-color-result' );\n\n                // Generate background slider alpha, only for CSS3 old browser fuck!! :)\n                controls.aContainer.css( { 'background' : 'linear-gradient(to bottom, ' + gradient.join( ', ' ) + '), url(' + image + ')' } );\n\n                if ( target.hasClass( 'wp-picker-open' ) ) {\n                    // Update alpha value\n                    controls.aSlider.slider( 'value', alpha );\n\n                    /**\n                     * Disabled change opacity in default slider Saturation ( only is alpha enabled )\n                     * and change input width for view all value\n                     */\n                    if ( self._color._alpha < 1 ) {\n                        controls.strip.attr( 'style', controls.strip.attr( 'style' ).replace( /rgba\\(([0-9]+,)(\\s+)?([0-9]+,)(\\s+)?([0-9]+)(,(\\s+)?[0-9\\.]+)\\)/g, 'rgb($1$3$5)' ) );\n                        el.width( parseInt( defaultWidth + customWidth ) );\n                    } else {\n                        el.width( defaultWidth );\n                    }\n                }\n            }\n\n            var reset = el.data( 'reset-alpha' ) || false;\n\n            if ( reset ) {\n                self.picker.find( '.iris-palette-container' ).on( 'click.palette', '.iris-palette', function() {\n                    self._color._alpha = 1;\n                    self.active        = 'external';\n                    self._change();\n                } );\n            }\n        },\n        _addInputListeners: function( input ) {\n            var self            = this,\n                debounceTimeout = 100,\n                callback        = function( event ) {\n                    var color = new Color( input.val() ),\n                        val   = input.val();\n\n                    input.removeClass( 'iris-error' );\n                    // we gave a bad color\n                    if ( color.error ) {\n                        // don't error on an empty input\n                        if ( val !== '' )\n                            input.addClass( 'iris-error' );\n                    } else {\n                        if ( color.toString() !== self._color.toString() ) {\n                            // let's not do this on keyup for hex shortcodes\n                            if ( ! ( event.type === 'keyup' && val.match( /^[0-9a-fA-F]{3}$/ ) ) )\n                                self._setOption( 'color', color.toString() );\n                        }\n                    }\n                };\n\n            input.on( 'change', callback ).on( 'keyup', self._debounce( callback, debounceTimeout ) );\n\n            // If we initialized hidden, show on first focus. The rest is up to you.\n            if ( self.options.hide ) {\n                input.on( 'focus', function() {\n                    self.show();\n                } );\n            }\n        }\n    } );\n}( jQuery ) );\n\nColorPickerControl = AbstractControl.extend( {\n\n    /**\n     * Provides additional data to the template rendering function.\n     *\n     * @since 1.7.2\n     *\n     * @returns {*}\n     */\n    addSerializedData : function( data ) {\n        data.alpha = this.model.get( 'rgba' );\n        return data;\n    },\n\n    /**\n     * Initializes the Iris colorpicker and updates the media-query based control groups when the control is rendered.\n     *\n     * @since 1.7.2\n     */\n    onRender : function() {\n        this.initWidgets();\n        this.updateControlGroups();\n    },\n\n    /**\n     * Restores the default setting values when the Default button is pressed.\n     *\n     * @since 1.7.2\n     */\n    onDefaultButtonChange : function() {\n        this.restoreDefaults();\n        this.destroyWidgets();\n        this.render();\n    },\n\n    /**\n     * Initializes the Iris colorpicker(s).\n     *\n     * @since 1.7.2\n     */\n    initWidgets : function() {\n        var control = this;\n        var defaults = this.getDefaults();\n        var palettes = this.model.get( 'palettes' );\n\n        this.ui.input.each( function() {\n\n            var $el = $( this );\n            $el.wpColorPicker( {\n                palettes : palettes,\n                defaultColor : defaults[ this.name ],\n\n                change : function() {\n                    var color = control.ui.input.wpColorPicker( 'color' );\n                    if ( 'undefined' == typeof control.getValue() && '' == color ) {\n                        return;\n                    }\n                    control.setValue( $el.wpColorPicker( 'color' ) );\n                },\n\n                clear : function() {\n                    control.setValue( '' );\n                }\n            } );\n        } );\n    },\n\n    /**\n     * Destroys the Iris colorpicker(s).\n     *\n     * @since 1.7.2\n     */\n    destroyWidgets : function() {\n        this.ui.input.each( function() {\n            $( this ).wpColorPicker( 'close' );\n        } );\n    },\n\n    /**\n     * Destroys the Iris colorpicker(s) before the control is destroyed.\n     *\n     * @since 1.7.2\n     */\n    onBeforeDestroy : function() {\n        this.destroyWidgets();\n    }\n\n} );\n\nmodule.exports = ColorPickerControl;\n\n\n//# sourceURL=webpack:///./assets/js/src/sidebar/components/controls/colorpicker.js?");

/***/ }),

/***/ "./assets/js/src/sidebar/components/controls/editor.js":
/*!*************************************************************!*\
  !*** ./assets/js/src/sidebar/components/controls/editor.js ***!
  \*************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("/**\n * Tailor.Controls.Editor\n *\n * An editor control.\n *\n * @augments Marionette.ItemView\n */\nvar AbstractControl = __webpack_require__( /*! ./abstract-control */ \"./assets/js/src/sidebar/components/controls/abstract-control.js\" ),\n\tEditorControl;\n\nEditorControl = AbstractControl.extend( {\n\n\tui : {\n\t\t'input' : 'textarea',\n\t\t'mediaButton' : '.js-setting-group .button',\n\t\t'defaultButton' : '.js-default',\n\t\t'controlGroups' : '.control__body > *'\n\t},\n\n\tevents : {\n\t\t'blur @ui.input' : 'onFieldChange',\n\t\t'click @ui.mediaButton' : 'onMediaButtonChange',\n\t\t'click @ui.defaultButton' : 'restoreDefaults'\n\t},\n\n    getTemplate : function() {\n        var html = document.getElementById( 'tmpl-tailor-control-editor' ).innerHTML;\n        return _.template( html\n                .replace( new RegExp( 'tailor-editor', 'gi' ), '<%= media %>-<%= cid %>' )\n                .replace( new RegExp( 'tailor-value', 'gi' ), '<%= values[ media ] %>' )\n        );\n    },\n\t\n\t/**\n\t * Provides additional data to the template rendering function.\n\t *\n\t * @since 1.7.2\n\t *\n\t * @returns {*}\n\t */\n\taddSerializedData : function( data ) {\n\t\tdata.cid = this.cid;\n\t\treturn data;\n\t},\n\n\t/**\n\t * Adds the required event listeners.\n\t *\n\t * @since 1.0.0\n\t */\n\taddEventListeners : function() {\n\t\tthis.listenTo( this.getSetting().collection, 'change', this.checkDependencies );\n\t},\n\n\t/**\n\t * Maybe refershes the TinyMCE instance(s).\n\t * \n\t * @since 1.7.2\n\t * \n\t * @param el\n\t */\n\tmaybeRefreshEditor : function( el ) {\n        if ( el.contains( this.el ) ) {\n\t        _.each( this.getValues(), function( value, media ) {\n\t\t        tinyMCE.execCommand( 'mceRemoveEditor', false, media + '-' + this.cid );\n\t\t        tinyMCE.execCommand( 'mceAddEditor', false, media + '-' + this.cid );\n\t        }, this );\n        }\n    },\n\n\t/**\n\t * Initializes the TinyMCE instance(s).\n\t * \n\t * @since 1.7.2\n\t */\n    onAttach : function() {\n\t    var control = this;\n\n\t    _.each( this.getValues(), function( value, media ) {\n\t\t    var id = media + '-' + control.cid;\n\t\t    var quickTagSettings = _.extend( {}, tinyMCEPreInit.qtInit['tailor-editor'], { id : id } );\n\n\t\t    quicktags( quickTagSettings );\n\t\t    QTags._buttonsInit();\n\n\t\t    tinyMCEPreInit.mceInit[ id ] = _.extend( {}, tinyMCEPreInit.mceInit['tailor-editor'], {\n\t\t\t    id : id,\n\t\t\t    resize : 'vertical',\n\t\t\t    height: 350,\n\n\t\t\t    setup : function( ed ) {\n\t\t\t\t    ed.on( 'change', function() {\n\t\t\t\t\t    ed.save();\n\t\t\t\t\t    control.setValue( ed.getContent() );\n\t\t\t\t    } );\n\t\t\t    }\n\t\t    } );\n\n\t\t    switchEditors.go( id, 'tmce' );\n\t\t    tinymce.execCommand( 'mceAddEditor', true, id );\n\t    }, this );\n\t},\n\n\t/**\n\t * Restores each setting to its default value.\n\t *\n\t * @since 1.7.2\n\t *\n\t * @returns {*}\n\t */\n\trestoreDefaults : function() {\n\t\t_.each( this.getSettings(), function( setting ) {\n\n\t\t\tvar value = setting.get( 'default' ) || '';\n\t\t\tsetting.set( 'value', value );\n\n\t\t\tvar editor = tinyMCE.get( setting.media + '-' + this.cid );\n\t\t\teditor.setContent( value );\n\n\t\t}, this );\n\t},\n\n\t/**\n\t * Destroys the TinyMCE instance(s).\n\t * \n\t * @since 1.7.2\n\t */\n\tonDestroy : function() {\n\t    _.each( this.getValues(), function( value, media ) {\n\t\t    tinyMCE.execCommand( 'mceRemoveEditor', true, media + '-' + this.cid );\n\t    }, this );\n\t}\n\n} );\n\nmodule.exports = EditorControl;\n\n\n//# sourceURL=webpack:///./assets/js/src/sidebar/components/controls/editor.js?");

/***/ }),

/***/ "./assets/js/src/sidebar/components/controls/gallery.js":
/*!**************************************************************!*\
  !*** ./assets/js/src/sidebar/components/controls/gallery.js ***!
  \**************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("/**\n * Tailor.Controls.Gallery\n *\n * A gallery control.\n *\n * @augments Marionette.ItemView\n */\nvar AbstractControl = __webpack_require__( /*! ./abstract-control */ \"./assets/js/src/sidebar/components/controls/abstract-control.js\" ),\n    GalleryControl;\n\nGalleryControl = AbstractControl.extend( {\n\n\tui: {\n        'select' : '.button--select',\n        'change' : '.button--change',\n\t\t'remove' : '.button--remove',\n        'thumbnails' : '.thumbnails',\n\t\t'mediaButton' : '.js-setting-group .button',\n\t\t'defaultButton' : '.js-default',\n\t\t'controlGroups' : '.control__body > *'\n\t},\n\n    events : {\n        'click @ui.select' : 'selectImages',\n        'click @ui.change' : 'selectImages',\n\t    'click @ui.remove' : 'removeImages',\n\t    'click @ui.thumbnails' : 'selectImages',\n\t    'click @ui.mediaButton' : 'onMediaButtonChange',\n\t    'click @ui.defaultButton' : 'onDefaultButtonChange'\n    },\n\n\t/**\n\t * Provides additional data to the template rendering function.\n\t *\n\t * @since 1.7.2\n\t *\n\t * @returns {*}\n\t */\n\taddSerializedData : function( data ) {\n\t\tdata.ids = {};\n\t\t_.each( data.values, function( value, media ) {\n\t\t\tdata.ids[ media ] = this.getIds( value );\n\t\t}, this );\n\t\treturn data;\n\t},\n\n\t/**\n\t * Opens the Media Library window.\n\t *\n\t * @since 1.0.0\n\t */\n    selectImages : function() {\n\n\t\t_.each( this.getValues(), function( value, media ) {\n\t\t\tif ( media == this.media ) {\n\t\t\t\tvar control = this;\n\t\t\t\tvar ids = control.getIds( value );\n\t\t\t\tvar selection = this.getSelection( ids );\n\t\t\t\tvar frame = wp.media( {\n\t\t\t\t\tframe : 'post',\n\t\t\t\t\tstate : ( ids.length ? 'gallery-edit' : 'gallery-library' ),\n\t\t\t\t\tediting : true,\n\t\t\t\t\tmultiple : true,\n\t\t\t\t\tselection : selection\n\t\t\t\t} );\n\n\t\t\t\tvar library;\n\n\t\t\t\tframe\n\n\t\t\t\t\t/**\n\t\t\t\t\t * Hide the Cancel Gallery link and record the original library.\n\t\t\t\t\t */\n\t\t\t\t\t.on( 'open', function() {\n\t\t\t\t\t\tvar mediaFrame = frame.views.get( '.media-frame-menu' )[0];\n\t\t\t\t\t\tmediaFrame.$el.children().slice( 0, 2 ).hide();\n\t\t\t\t\t\tlibrary = JSON.stringify( selection.toJSON() );\n\t\t\t\t\t} )\n\n\t\t\t\t\t/**\n\t\t\t\t\t * Update the setting value and thumbnails.\n\t\t\t\t\t */\n\t\t\t\t\t.on( 'update', function( collection ) {\n\t\t\t\t\t\tvar value = collection.pluck( 'id' ).join( ',' );\n\t\t\t\t\t\tcontrol.setValue( value );\n\n\t\t\t\t\t\t// Trigger change if the images are the same (implies other change)\n\t\t\t\t\t\tif ( ! _.isEqual( library, JSON.stringify( collection.toJSON() ) ) ) {\n\t\t\t\t\t\t\tvar setting = control.getSetting( media );\n\t\t\t\t\t\t\tsetting.trigger( 'change', setting, value );\n\t\t\t\t\t\t}\n\t\t\t\t\t} )\n\n\t\t\t\t\t/**\n\t\t\t\t\t * Dispose of the media frame when it's closed.\n\t\t\t\t\t */\n\t\t\t\t\t.on( 'close', function() {\n\t\t\t\t\t\tframe.dispose();\n\t\t\t\t\t} );\n\n\t\t\t\tframe.open();\n\t\t\t}\n\t\t}, this );\n    },\n\n\t/**\n\t * Returns the ID(s) of the selected image(s).\n\t * \n\t * @since 1.7.2\n\t * \n\t * @param value\n\t * @returns {*}\n\t */\n\tgetIds : function( value ) {\n\t\tif ( _.isEmpty( value ) ) {\n\t\t\treturn false;\n\t\t}\n\t\treturn value.split( ',' )\n\t},\n\n\t/**\n\t * Removes all selected images.\n\t *\n\t * @since 1.0.0\n\t */\n    removeImages : function() {\n        this.setValue( '' );\n    },\n\n\t/**\n\t * Re-renders the control when a setting value changes.\n\t * \n\t * @since 1.7.2\n\t */\n\tonSettingChange : function() {\n\t\tthis.render();\n\t},\n\n\t/**\n\t * Updates the thumbnails when the control is rendered.\n\t *\n\t * @since 1.0.0\n\t */\n    onRender : function() {\n\t\tvar control = this;\n\t\t_.each( this.getValues(), function( value, media ) {\n\t\t\tvar selection = this.getSelection( control.getIds( value ) );\n\t\t\tselection.more().done( function() {\n\t\t\t\tselection.props.set( { query: false } );\n\t\t\t\tselection.unmirror();\n\t\t\t\tselection.props.unset( 'orderby' );\n\t\t\t\tcontrol.updateThumbnails( selection, media );\n\t\t\t} );\n\t\t}, this );\n\n\t\tthis.updateControlGroups();\n\t},\n\n\t/**\n\t * Updates the image thumbnails.\n\t * \n\t * @since 1.7.2\n\t * \n\t * @param selection\n\t * @param media\n\t */\n\tupdateThumbnails : function( selection, media ) {\n\t\tvar html = '';\n\t\tvar urls = selection.map( function( attachment ) {\n\t\t\tvar sizes = attachment.get( 'sizes' );\n\t\t\tvar url;\n\t\t\tif ( sizes.hasOwnProperty( 'medium' ) ) {\n\t\t\t\turl = sizes.medium.url;\n\t\t\t}\n\t\t\telse if ( sizes.hasOwnProperty( 'thumbnail' ) ) {\n\t\t\t\turl = sizes.thumbnail.url;\n\t\t\t}\n\t\t\telse if ( sizes.hasOwnProperty( 'full' ) ) {\n\t\t\t\turl = sizes.full.url;\n\t\t\t}\n\t\t\telse {\n\t\t\t\turl = '';\n\t\t\t}\n\t\t\treturn url;\n\t\t} );\n\n\t\tif ( urls.length ) {\n\t\t\t_.each( urls, function( url ) {\n\t\t\t\thtml += '<li class=\"thumbnail\"><img src=\"' + url + '\"/></li>';\n\t\t\t} );\n\t\t}\n\n\t\tthis.ui.controlGroups\n\t\t\t.filter( '[id^=\"' + media + '\"]' )\n\t\t\t.find( '.thumbnails' )\n\t\t\t.removeClass( 'is-loading' )\n\t\t\t.html( html );\n\t},\n\n\t/**\n\t * Returns a Media Library selection from a given set of image ids.\n\t *\n\t * @since 1.0.0\n\t *\n\t * @param ids\n\t * @returns {*|R|r}\n\t */\n    getSelection : function( ids ) {\n        var attachments = wp.media.query( {\n            orderby : 'post__in',\n            order: 'ASC',\n            type: 'image',\n            post__in : ids\n        } );\n\n        return new wp.media.model.Selection( attachments.models, {\n            props : attachments.props.toJSON(),\n            multiple: true\n        } );\n    }\n\n} );\n\nmodule.exports = GalleryControl;\n\n\n//# sourceURL=webpack:///./assets/js/src/sidebar/components/controls/gallery.js?");

/***/ }),

/***/ "./assets/js/src/sidebar/components/controls/icon.js":
/*!***********************************************************!*\
  !*** ./assets/js/src/sidebar/components/controls/icon.js ***!
  \***********************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("/**\n * Tailor.Controls.Icon\n *\n * An icon control.\n *\n * @augments Marionette.ItemView\n */\nvar $ = Backbone.$,\n    AbstractControl = __webpack_require__( /*! ./abstract-control */ \"./assets/js/src/sidebar/components/controls/abstract-control.js\" ),\n    IconControl;\n\nIconControl = AbstractControl.extend( {\n\n\tui: {\n        'select' : '.button--select',\n        'change' : '.button--change',\n        'remove' : '.button--remove',\n        'icon' : 'i',\n\t\t'mediaButton' : '.js-setting-group .button',\n\t\t'defaultButton' : '.js-default',\n\t\t'controlGroups' : '.control__body > *'\n\t},\n\n    events : {\n        'click @ui.select' : 'openDialog',\n        'click @ui.change' : 'openDialog',\n        'click @ui.remove' : 'removeIcon',\n        'click @ui.icon' : 'openDialog',\n\t    'click @ui.mediaButton' : 'onMediaButtonChange',\n\t    'click @ui.defaultButton' : 'onDefaultButtonChange'\n    },\n\n\t/**\n\t * Opens the icon selection dialog.\n\t *\n\t * @since 1.0.0\n\t */\n    openDialog : function() {\n        var control = this;\n        var options = {\n            title : 'Select Icon',\n            button : window._l10n.select,\n\n            /**\n             * Returns the content for the Select Icon dialog.\n             *\n             * @since 1.0.0\n             *\n             * @returns {*}\n             */\n            content : function() {\n                var kits = window._kits || {};\n                var value = control.getValue();\n\n                if ( _.keys( kits ).length ) {\n                    return _.template( document.getElementById( 'tmpl-tailor-control-icon-select' ).innerHTML)( {\n                        kits : kits,\n                        value : value\n                    } );\n                }\n\n                return document.getElementById( 'tmpl-tailor-control-icon-empty' ).innerHTML;\n            },\n\n\t        /**\n\t         * Adds the required event listeners to the dialog window content.\n\t         *\n\t         * @since 1.0.0\n\t         */\n            onOpen : function() {\n                var $el = this.$el;\n                var $li = $el.find( 'li' );\n                var $kits = $el.find( '.icon-kit' );\n\n                this.$el.find( '.search--icon' ).on( 'input', function( e ) {\n                    var term = this.value.replace( /[-\\/\\\\^$*+?.()|[\\]{}]/g, '\\\\$&' );\n                    term = term.replace( / /g, ')(?=.*' );\n                    var match = new RegExp( '^(?=.*' + term + ').+', 'i' );\n\n                    $li.each( function() {\n                        this.classList.toggle( 'is-hidden', ! match.test( this.getAttribute( 'title' ) ) );\n                    } );\n                } );\n\n                this.$el.find( '.select--icon' ).on( 'change', function( e ) {\n                    var kit = this.value;\n                    $kits\n                        .removeClass( 'is-hidden' )\n                        .filter( function() {\n                            return this.id != kit;\n                        } )\n                        .addClass( 'is-hidden' );\n                } );\n            },\n\n\t        /**\n\t         * Returns true if an icon has been selected.\n\t         *\n\t         * @since 1.0.0\n\t         *\n\t         * @returns {*}\n\t         */\n            onValidate : function() {\n                return $( 'input[name=icon]:checked' ).val();\n            },\n\n\t        /**\n\t         * Updates the setting value with the selected icon name.\n\t         *\n\t         * @since 1.0.0\n\t         */\n            onSave : function() {\n                control.setValue( $( 'input[name=icon]:checked' ).val() );\n            },\n\n\t        /**\n\t         * Cleans up event listeners.\n\t         *\n\t         * @since 1.0.0\n\t         */\n            onClose : function() {\n                this.$el.find( '.search--icon' ).off( 'input' );\n            }\n        };\n\n\t    /**\n\t     * Fires when the dialog window is opened.\n\t     *\n\t     * @since 1.0.0\n\t     */\n\t    app.channel.trigger( 'dialog:open', options );\n    },\n\n\t/**\n\t * Re-renders the control when a setting value changes.\n\t *\n\t * @since 1.7.2\n\t */\n\tonSettingChange : function() {\n\t\tthis.render();\n\t},\n\n\t/**\n\t * Clears the current setting value when an icon is removed.\n\t * \n\t * @since 1.7.2\n\t */\n    removeIcon : function() {\n        this.setValue( '' );\n    }\n\n} );\n\nmodule.exports = IconControl;\n\n\n//# sourceURL=webpack:///./assets/js/src/sidebar/components/controls/icon.js?");

/***/ }),

/***/ "./assets/js/src/sidebar/components/controls/image.js":
/*!************************************************************!*\
  !*** ./assets/js/src/sidebar/components/controls/image.js ***!
  \************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("/**\n * Tailor.Controls.Image\n *\n * An image control.\n *\n * @augments Marionette.ItemView\n */\nvar AbstractControl = __webpack_require__( /*! ./abstract-control */ \"./assets/js/src/sidebar/components/controls/abstract-control.js\" ),\n    ImageControl;\n\nImageControl = AbstractControl.extend( {\n\n\tui : {\n        'select' : '.button--select',\n        'change' : '.button--change',\n\t\t'remove' : '.button--remove',\n        'mediaButton' : '.js-setting-group .button',\n        'defaultButton' : '.js-default',\n        'controlGroups' : '.control__body > *',\n        'thumbnail' : '.thumbnail'\n    },\n\n    events : {\n        'click @ui.select' : 'openFrame',\n        'click @ui.change' : 'openFrame',\n        'click @ui.remove' : 'removeImage',\n        'click @ui.thumbnail' : 'openFrame',\n        'click @ui.mediaButton' : 'onMediaButtonChange',\n        'click @ui.defaultButton' : 'onDefaultButtonChange'\n    },\n\n    /**\n     * Initializes the media frame for the control.\n     *\n     * @since 1.0.0\n     *\n     * @param options\n     */\n    initialize : function( options ) {\n        this.frame = wp.media( {\n            states: [\n                new wp.media.controller.Library({\n                    title : 'Select Image',\n                    library : wp.media.query( { type : [ 'image' ] } ),\n                    multiple : false,\n                    date : false\n                } )\n            ]\n        } );\n\n        this.addEventListeners();\n        this.checkDependencies();\n    },\n\n    /**\n     * Adds the required event listeners.\n     *\n     * @since 1.0.0\n     */\n    addEventListeners : function() {\n        _.each( this.getSettings(), function( setting ) {\n            this.listenTo( setting, 'change', this.onSettingChange );\n        }, this );\n        this.listenTo( this.getSetting().collection, 'change', this.checkDependencies );\n\n        this.frame.on( 'select', this.selectImage.bind( this ) );\n    },\n\n    /**\n     * Opens the media frame.\n     *\n     * @since 1.0.0\n     */\n    openFrame : function() {\n        this.frame.open();\n    },\n\n    /**\n     * Saves the image ID and updates the thumbnail when the selected image changes.\n     *\n     * @since 1.0.0\n     */\n    selectImage : function() {\n        var selection = this.frame.state().get( 'selection' );\n        var attachment = selection.first();\n        var sizes = attachment.get( 'sizes' );\n        this.setValue( attachment.get( 'id' ) );\n    },\n\n    /**\n     * Updates the image thumbnail.\n     *\n     * @since 1.0.0\n     *\n     * @param sizes\n     * @param media\n     */\n    updateThumbnail : function( sizes, media ) {\n        var url;\n        if ( sizes.hasOwnProperty( 'medium' ) ) {\n            url = sizes.medium.url;\n        }\n        else if ( sizes.hasOwnProperty( 'thumbnail' ) ) {\n            url = sizes.thumbnail.url;\n        }\n        else if ( sizes.hasOwnProperty( 'full' ) ) {\n            url = sizes.full.url; // Small images do not have thumbnail generated\n        }\n        else {\n            return; // Invalid sizes\n        }\n        \n        this.ui.controlGroups\n            .filter( '[id^=\"' + media + '\"]' )\n            .find( '.thumbnails' )\n            .removeClass( 'is-loading' )\n            .html( '<li class=\"thumbnail\"><img src=\"' + url + '\"/></li>' );\n    },\n\n    /**\n     * Removes the selected image.\n     *\n     * @since 1.0.0\n     */\n    removeImage : function() {\n        this.setValue( '' );\n    },\n\n    /**\n     * Re-renders the control when a setting value changes.\n     *\n     * @since 1.7.2\n     */\n    onSettingChange : function() {\n        this.render();\n    },\n\n    /**\n     * Renders the image thumbnail.\n     *\n     * @since 1.0.0\n     */\n    onRender : function() {\n        _.each( this.getValues(), function( value, media ) {\n            if ( value ) {\n                var attachment = wp.media.attachment( value );\n                var sizes = attachment.get( 'sizes' );\n                if ( sizes ) {\n                    this.updateThumbnail( sizes, media );\n                }\n                else {\n                    var control = this;\n                    attachment.fetch( {\n                        success : function() {\n                            sizes = attachment.get( 'sizes' );\n                            control.updateThumbnail( sizes, media );\n                        }\n                    } );\n                }\n            }\n        }, this );\n\n        this.updateControlGroups();\n    },\n\n    /**\n     * Disposes of the media frame when the control is destroyed.\n     *\n     * @since 1.0.0\n     */\n    onDestroy : function() {\n        this.frame.off().dispose();\n    }\n\n} );\n\nmodule.exports = ImageControl;\n\n\n//# sourceURL=webpack:///./assets/js/src/sidebar/components/controls/image.js?");

/***/ }),

/***/ "./assets/js/src/sidebar/components/controls/input-group.js":
/*!******************************************************************!*\
  !*** ./assets/js/src/sidebar/components/controls/input-group.js ***!
  \******************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("/**\n * Tailor.Controls.InputGroup\n *\n * An input group control.\n *\n * @augments Marionette.ItemView\n */\nvar AbstractControl = __webpack_require__( /*! ./abstract-control */ \"./assets/js/src/sidebar/components/controls/abstract-control.js\" ),\n    InputGroup;\n\nInputGroup = AbstractControl.extend( {\n\n    /**\n     * Provides additional data to the template rendering function.\n     *\n     * @since 1.7.2\n     *\n     * @returns {*}\n     */\n    addSerializedData : function( data ) {\n        data.choices = this.model.get( 'choices' );\n        data.values = {};\n        \n        _.each( this.getValues(), function( value, media ) {\n            data.values[ media ] = {};\n            var values = [];\n            if ( _.isString( value ) ) {\n                if ( -1 != value.indexOf( ',' ) ) {\n                    values = value.split( ',' );\n                }\n                else {\n                    values = value.split( '-' ); // Old format\n                }\n            }\n\n            var i = 0;\n            for ( var choice in data.choices ) {\n                if ( data.choices.hasOwnProperty( choice ) ) {\n                    data.values[ media ][ choice ] = values[ i ];\n                    i ++;\n                }\n            }\n        } );\n\n        return data;\n    },\n\n    /**\n     * Updates the current setting value when a field change occurs.\n     *\n     * @since 1.7.2\n     */\n    onFieldChange : function( e ) {\n        var fields = this.ui.input.filter( '[name^=\"' + this.media + '\"]' ).serializeArray();\n        var values = _.map( fields, function( field ) {\n            return field.value;\n        } );\n        this.setValue( values.join( ',' ) );\n    }\n\n} );\n\nmodule.exports = InputGroup;\n\n\n//# sourceURL=webpack:///./assets/js/src/sidebar/components/controls/input-group.js?");

/***/ }),

/***/ "./assets/js/src/sidebar/components/controls/link.js":
/*!***********************************************************!*\
  !*** ./assets/js/src/sidebar/components/controls/link.js ***!
  \***********************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("/**\n * Tailor.Controls.Link\n *\n * A link control.\n *\n * @augments Marionette.ItemView\n */\nvar $ = Backbone.$,\n    AbstractControl = __webpack_require__( /*! ./abstract-control */ \"./assets/js/src/sidebar/components/controls/abstract-control.js\" ),\n    LinkControl;\n\nLinkControl = AbstractControl.extend( {\n\n\tui: {\n        'input' : 'input',\n        'select' : '.button--select',\n\t\t'mediaButton' : '.js-setting-group .button',\n\t\t'defaultButton' : '.js-default',\n\t\t'controlGroups' : '.control__body > *'\n\t},\n\n    events : {\n        'blur @ui.input' : 'onFieldChange',\n        'click @ui.select' : 'openDialog',\n\t    'click @ui.mediaButton' : 'onMediaButtonChange',\n\t    'click @ui.defaultButton' : 'onDefaultButtonChange'\n    },\n\t\n\t/**\n\t * Provides additional data to the template rendering function.\n\t *\n\t * @since 1.7.2\n\t *\n\t * @returns {*}\n\t */\n\taddSerializedData : function( data ) {\n\t\tdata.placeholder = this.model.get( 'placeholder' );\n\t\treturn data;\n\t},\n\n\t/**\n     * Queries the server for links based on the search criteria.\n     *\n     * @since 1.0.0\n     *\n     * @param term\n     */\n    search : function( term ) {\n        var control = this;\n        var $searchResults = this.$el.find( '.search-results' );\n\n        if ( $searchResults.length ) {\n            control.$el.addClass( 'is-searching' );\n            var options = {\n\t            \n                data : {\n                    s : term,\n                    nonce : window._nonces.query\n                },\n\n\t            /**\n\t             * Appends the list of search results to the page.\n\t             *\n\t             * @since 1.0.0\n\t             */\n                success : function( response ) {\n                    $searchResults.html( response );\n                },\n\n\t            /**\n\t             * Resets the control classname when searching is complete.\n\t             */\n                complete : function() {\n                    control.$el.removeClass( 'is-searching' );\n                }\n            };\n\n            window.ajax.send( 'tailor_get_links', options );\n        }\n    },\n\n\t/**\n     * Opens the link selection dialog.\n     *\n     * @since 1.0.0\n     */\n    openDialog : function() {\n        var control = this;\n        var options = {\n            title : 'Select content',\n            button : window._l10n.select,\n\n\t        /**\n\t         * Returns the content for the Select Content dialog.\n\t         *\n\t         * @since 1.0.0\n\t         *\n\t         * @returns {*}\n\t         */\n            content : function() {\n                return  '<div class=\"dialog__container\">' +\n                            '<input class=\"search--content\" type=\"search\" role=\"search\" placeholder=\"Search\">' +\n                            '<span class=\"spinner\"></span>' +\n                            '<div class=\"search-results\"></div>' +\n                        '</div>';\n            },\n\n\t        /**\n\t         * Adds the required event listeners to the dialog window content.\n\t         *\n\t         * @since 1.0.0\n\t         */\n            onOpen : function() {\n                var dialog = this;\n                var previousTerm = '';\n                var minimumCharacters = 3;\n                var timeout;\n\n                this.$el.find( '.search--content' ).on( 'input', function( e ) {\n                    clearTimeout( timeout );\n                    var term = this.value;\n                    if ( term.length >= minimumCharacters && previousTerm != $.trim( term ) ) {\n                        timeout = setTimeout( $.proxy( control.search, dialog, term ), 500 );\n                    }\n                } );\n            },\n\n\t        /**\n\t         * Returns true if an item has been selected.\n\t         *\n\t         * @since 1.0.0\n\t         *\n\t         * @returns {*}\n\t         */\n            onValidate : function() {\n                return $( 'input[name=url]:checked' ).val()\n            },\n\n\t        /**\n\t         * Updates the setting value with the selected item URL.\n\t         *\n\t         * @since 1.0.0\n\t         */\n            onSave : function() {\n                var url = $( 'input[name=url]:checked' ).val();\n                control.setValue( url );\n            },\n\n\t        /**\n\t         * Cleans up event listeners.\n\t         *\n\t         * @since 1.0.0\n\t         */\n            onClose : function() {\n                this.$el.find( '.search--content' ).off( 'input' );\n            }\n        };\n\n\t\t/**\n\t\t * Fires when the dialog window is opened.\n\t\t *\n\t\t * @since 1.0.0\n\t\t */\n\t\tapp.channel.trigger( 'dialog:open', options );\n    },\n\t\n\t/**\n\t * Re-renders the control when a setting value changes.\n\t *\n\t * @since 1.7.2\n\t */\n\tonSettingChange : function() {\n\t\tthis.render();\n\t}\n\n} );\n\nmodule.exports = LinkControl;\n\n\n//# sourceURL=webpack:///./assets/js/src/sidebar/components/controls/link.js?");

/***/ }),

/***/ "./assets/js/src/sidebar/components/controls/list-empty.js":
/*!*****************************************************************!*\
  !*** ./assets/js/src/sidebar/components/controls/list-empty.js ***!
  \*****************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("/**\n * The empty-list view.\n *\n * @since 1.0.0\n */\nvar EmptyListView = Marionette.ItemView.extend( {\n\n    template : '#tmpl-tailor-control-list-empty'\n\n} );\n\nmodule.exports = EmptyListView;\n\n//# sourceURL=webpack:///./assets/js/src/sidebar/components/controls/list-empty.js?");

/***/ }),

/***/ "./assets/js/src/sidebar/components/controls/list-item.js":
/*!****************************************************************!*\
  !*** ./assets/js/src/sidebar/components/controls/list-item.js ***!
  \****************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("/**\n * Individual list item view.\n *\n * @augments Marionette.CompositeView\n */\nvar ListItemControl = Marionette.CompositeView.extend( {\n\n    tagName : 'li',\n\n    className : 'list-item',\n\n    ui : {\n        title : '.list-item__title',\n        content : '.list-item__content',\n        delete : '.js-delete-list-item',\n        close : '.js-close-list-item'\n    },\n\n    triggers : {\n        'click @ui.title' : 'toggle',\n        'click @ui.close' : 'toggle',\n        'click @ui.delete' : 'delete'\n    },\n\n    events : {\n        'keypress' : 'onKeyPress'\n    },\n\n    /**\n     * Returns the appropriate child view based on the panel type.\n     *\n     * @since 1.0.0\n     *\n     * @param child\n     * @returns {*|exports|module.exports}\n     */\n    getChildView: function( child ) {\n        return Tailor.lookup( child.get( 'type' ), false, 'Controls' );\n    },\n\n    childViewContainer : '#controls',\n\n    template : '#tmpl-tailor-control-list-item',\n\n\t/**\n\t * Initializes the list item view.\n\t *\n\t * @since 1.0.0\n\t *\n\t * @param options\n\t */\n    initialize : function( options ) {\n        this.settings = options.settings;\n        this._open = false;\n        this.model.startTracking();\n\n        this.addEventListeners();\n    },\n\n    /**\n     * Adds the required event listeners.\n     *\n     * @since 1.0.0\n     */\n    addEventListeners : function() {\n        this.listenTo( this.settings, 'change', this.onChangeSettings );\n        this.listenTo( app.channel, 'modal:apply', this.onApplyModal );\n        this.listenTo( app.channel, 'modal:close', this.onCloseModal );\n    },\n\n\t/**\n\t * Updates the list item title.\n\t *\n\t * @since 1.0.0\n\t *\n\t * @param from\n\t * @param to\n\t */\n    updateTitle : function( from, to ) {\n        this.ui.title.find( ':contains(' + from + ')' ).html( to );\n    },\n\n\t/**\n\t * Toggles the list item when selected using the keyboard.\n\t *\n\t * @since 1.0.0\n\t *\n\t * @param e\n\t */\n    onKeyPress : function( e ) {\n        if ( 13 === e.which ) {\n            this.triggerMethod( 'toggle' );\n        }\n    },\n\n\t/**\n\t * Toggles the list item.\n\t *\n\t * @since 1.0.0\n\t */\n    onToggle : function() {\n        if ( this._open ) {\n            this.slideUp();\n        }\n        else {\n            this.slideDown();\n        }\n    },\n\n\t/**\n\t * Hides the list item.\n\t *\n\t * @since 1.0.0\n\t */\n    slideUp : function() {\n        var control = this;\n        control._open = false;\n\n        control.ui.content.slideUp( 150, function() {\n            control.el.classList.remove( 'is-open' );\n        } );\n    },\n\n\t/**\n\t * Shows the list item.\n\t *\n\t * @since 1.0.0\n\t */\n    slideDown : function() {\n        var control = this;\n        control._open = true;\n\n        control.ui.content.slideDown( 150, function() {\n            control.el.classList.add( 'is-open' );\n        } );\n    },\n\n\t/**\n\t * Triggers the 'remove' method/event on the list item when removed.\n\t *\n\t * @since 1.0.0\n\t */\n    onDelete : function() {\n        var control = this;\n        control.$el.slideUp( 250, function() {\n\n            /**\n             * Destroys the list item view.\n             *\n             * @since 1.0.0\n             */\n            control.triggerMethod( 'remove' );\n        } );\n    },\n\n\t/**\n\t * Updates the model and view when changes are made.\n\t *\n\t * @since 1.0.0\n\t *\n\t * @param setting\n\t */\n    onChangeSettings : function( setting ) {\n        var atts = _.clone( this.model.get( 'atts' ) );\n        var settingId = setting.get( 'id' );\n        var settingValue = setting.get( 'value' );\n\n        if ( 'title' == settingId ) {\n            this.updateTitle( atts.title, settingValue );\n        }\n\n        atts[ settingId ] = settingValue;\n\n        this.model.set( 'atts', atts );\n    },\n\n\t/**\n\t * Stops tracking changes when changes are applied.\n\t *\n\t * @since 1.0.0\n\t */\n    onApplyModal : function() {\n        this.model.stopTracking();\n    },\n\n\t/**\n\t * Reset attributes to their original values when changes are discarded.\n\t *\n\t * @since 1.0.0\n\t */\n    onCloseModal : function() {\n        this.model.resetAttributes();\n    }\n\n} );\n\nmodule.exports = ListItemControl;\n\n\n//# sourceURL=webpack:///./assets/js/src/sidebar/components/controls/list-item.js?");

/***/ }),

/***/ "./assets/js/src/sidebar/components/controls/list.js":
/*!***********************************************************!*\
  !*** ./assets/js/src/sidebar/components/controls/list.js ***!
  \***********************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("/**\n * Tailor.Controls.List\n *\n * A list control.\n *\n * @augments Marionette.CompositeView\n */\nvar ListControl = Marionette.CompositeView.extend( {\n\n    childView : __webpack_require__( /*! ./list-item */ \"./assets/js/src/sidebar/components/controls/list-item.js\" ),\n\n    childViewContainer : '#list-items',\n\n    emptyView : __webpack_require__( /*! ./list-empty */ \"./assets/js/src/sidebar/components/controls/list-empty.js\" ),\n\n    className : function() {\n        return 'control control--' + this.model.get( 'type' );\n    },\n\n    ui : {\n        'button' : '.js-add'\n    },\n\n    events : {\n        'click @ui.button' : 'addItem'\n    },\n\n    collectionEvents : {\n        'add' : 'updateContent',\n        'remove' : 'updateContent',\n        'change' : 'updateContent'\n    },\n\n    childEvents : {\n        'remove' : 'deleteItem',\n        'toggle' : 'onToggleItem'\n    },\n\n    template : '#tmpl-tailor-control-list',\n\n    /**\n     * Provides the required information to the template rendering function.\n     *\n     * @since 1.0.0\n     *\n     * @returns {*}\n     */\n    serializeData : function() {\n        var data = Backbone.Marionette.ItemView.prototype.serializeData.apply( this, arguments );\n        data.childLabel = this.child.get( 'label' ).toLowerCase();\n        return data;\n    },\n\n    /**\n     * Returns the appropriate set of options for the child view.\n     *\n     * @since 1.0.0\n     *\n     * @param model\n     * @param index\n     * @returns {{model: *}}\n     */\n    childViewOptions : function( model, index ) {\n        var controlCollection = app.channel.request( 'sidebar:controls', model );\n        var settingCollection = app.channel.request( 'sidebar:settings', model );\n        var options = {\n            model : model,\n            collection : controlCollection,\n            settings : settingCollection\n        };\n\n        return options;\n    },\n\n    /**\n     * Initializes the list.\n     *\n     * @since 1.0.0\n     *\n     * @param options\n     */\n    initialize : function( options ) {\n        this.element = options.element;\n        this._added = [];\n        this._deleted = [];\n\n        var listItemDefinition = app.channel.request( 'sidebar:library', this.element.get( 'tag' ) );\n        this.child = app.channel.request( 'sidebar:library', listItemDefinition.get( 'child' ) );\n\n        this.addEventListeners();\n    },\n\n    /**\n     * Adds the required event listeners.\n     *\n     * @since 1.0.0\n     */\n    addEventListeners : function() {\n        this.listenTo( app.channel, 'modal:apply', this.onApplyModal );\n        this.listenTo( app.channel, 'modal:close', this.onCloseModal );\n    },\n\n    /**\n     * Filters the element collection so that only children of this element are displayed.\n     *\n     * @since 1.0.0\n     *\n     * @param child\n     * @param index\n     * @param collection\n     * @returns {boolean}\n     */\n    filter : function( child, index, collection ) {\n        return child.get( 'parent' ) == this.element.get( 'id' );\n    },\n\n    /**\n     * Enables sorting of the list items.\n     *\n     * @since 1.0.0\n     */\n    onRender : function() {\n        var listControl = this;\n\n        this.sortable = Sortable.create( this.$childViewContainer.get(0), {\n            draggable : '.list-item',\n            handle : '.list-item__title',\n            animation : 250,\n\n            /**\n             * Updates the order of the list items when they are sorted.\n             *\n             * @since 1.0.0\n             */\n            onEnd : function ( e ) {\n\n                /**\n                 * Fires when a list item is reordered.\n                 *\n                 * @since 1.0.0\n                 */\n                app.channel.trigger( 'list:change:order', listControl.el );\n\n                listControl.updateOrder();\n            }\n        } );\n    },\n\n    /**\n     * Returns true if the collection is empty (i.e., the list has no list items).\n     *\n     * @since 1.0.0\n     *\n     * @returns {boolean}\n     */\n    isEmpty : function() {\n        return this.collection.getChildren( this.element ).length == 0;\n    },\n\n\t/**\n\t * Toggle a list item.\n\t *\n\t * @since 1.0.0\n\t *\n\t * @param child\n\t */\n\tonToggleItem : function( child ) {\n\t\tthis.children.each( function( childView ) {\n\t\t\tif ( childView !== child ) {\n\t\t\t\tchildView.slideUp();\n\t\t\t}\n\t\t}, this );\n\t},\n\n    /**\n     * Slides up other list items when a list item is added.\n     *\n     * @since 1.0.0\n     *\n     * @param child\n     */\n    onAddChild : function( child ) {\n        this.children.each( function( childView ) {\n            if ( childView !== child ) {\n                childView.slideUp();\n            }\n        }, this );\n    },\n\n    /**\n     * Adds a list item.\n     *\n     * New list items are tracked so that they can be added, if necessary, when the modal window is closed.\n     *\n     * @since 1.0.0\n     */\n    addItem : function() {\n        var numberChildren = this.collection.getChildren( this.element ).length;\n        var item = _.first( this.collection.create( [ {\n            tag : this.child.get( 'tag' ),\n            parent : this.element.get( 'id' ),\n            order : numberChildren,\n            atts : {\n                title : this.child.get( 'label' )\n            }\n        } ], { } ) );\n\n        this._added.push( item );\n    },\n\n    /**\n     * Deletes a list item.\n     *\n     * Preexisting list items are tracked so that they can be deleted, if necessary, when the modal window is closed.\n     *\n     * @since 1.0.0\n     */\n    deleteItem : function( view ) {\n\n        // Delete the list item from the 'added' list, if it exists\n        for ( var i = 0; i < this._added.length; i++ ) {\n            if ( this._added[ i ] ==  view.model ) {\n                this._added.splice( i, 1 );\n            }\n        }\n\n        this.collection.remove( view.model );\n        this._deleted.push( view.model );\n    },\n\n    /**\n     * Resets the added and deleted list items.\n     */\n    onApplyModal : function() {\n        this._deleted = [];\n        this._added = [];\n    },\n\n    /**\n     * Updates the collection to undo any unapplied changes to the collection.\n     *\n     * @since 1.0.0\n     */\n    onCloseModal : function() {\n        this.collection.add( this._deleted );\n        this.collection.remove( this._added );\n    },\n\n    /**\n     * Updates the order of each list item after sorting.\n     *\n     * @since 1.0.0\n     */\n    updateOrder : function() {\n        this.children.each( function( view ) {\n            view.model.set( 'order', view.$el.index() );\n        }, this );\n\n\t    this.collection.sort( { silent : true } );\n\n\t    this.updateContent();\n    },\n\n    /**\n     * Updates the content attribute of the list when a list item changes.\n     *\n     * @since 1.0.0\n     */\n    updateContent : function() {\n\t    var shortcode = this.generateShortcode();\n        this.model.settings[0].set( 'value', shortcode );\n    },\n\n    /**\n     * Generates the content attribute of the list (i.e., a shortcode representing the list items).\n     *\n     * @since 1.0.0\n     */\n    generateShortcode : function() {\n        var obj = this;\n        var content = '';\n        var parentId = this.element.get( 'id' );\n        var children = this.collection.filter( function( model ) {\n            return  model.get( 'parent' ) === parentId && ! obj._deleted.hasOwnProperty( model.cid );\n        } );\n\n        _.each( children, function( child ) {\n            content += child.toShortcode();\n        } );\n\n        return content;\n    },\n\n\t/**\n\t * Cleans up the Sortable instance when the element is destroyed.\n\t *\n\t * @since 1.0.0\n\t */\n\tonBeforeDestroy : function() {\n        this.sortable.destroy();\n        this.collection.sort();\n    }\n\n} );\n\nmodule.exports = ListControl;\n\n\n//# sourceURL=webpack:///./assets/js/src/sidebar/components/controls/list.js?");

/***/ }),

/***/ "./assets/js/src/sidebar/components/controls/radio.js":
/*!************************************************************!*\
  !*** ./assets/js/src/sidebar/components/controls/radio.js ***!
  \************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("/**\n * Tailor.Controls.Radio\n *\n * A radio control.\n *\n * @augments Marionette.ItemView\n */\nvar AbstractControl = __webpack_require__( /*! ./abstract-control */ \"./assets/js/src/sidebar/components/controls/abstract-control.js\" ),\n    RadioControl;\n\nRadioControl = AbstractControl.extend( {\n\n    events : {\n        'change @ui.input' : 'onFieldChange',\n        'click @ui.mediaButton' : 'onMediaButtonChange',\n        'click @ui.defaultButton' : 'onDefaultButtonChange'\n    },\n\n    templateHelpers : {\n\n        checked : function( media, key ) {\n            return this.values[ media ] === key ? 'checked' : '';\n        }\n    },\n    \n    /**\n     * Updates the current setting value when a field change occurs.\n     *\n     * @since 1.7.2\n     */\n    onFieldChange : function() {\n        this.setValue( this.ui.input.filter( '[name^=\"' + this.media + '\"]:checked' ).val() );\n    }\n\n} );\n\nmodule.exports = RadioControl;\n\n\n//# sourceURL=webpack:///./assets/js/src/sidebar/components/controls/radio.js?");

/***/ }),

/***/ "./assets/js/src/sidebar/components/controls/range.js":
/*!************************************************************!*\
  !*** ./assets/js/src/sidebar/components/controls/range.js ***!
  \************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("/**\n * Tailor.Controls.Range\n *\n * A range control.\n *\n * @augments Marionette.ItemView\n */\nvar AbstractControl = __webpack_require__( /*! ./abstract-control */ \"./assets/js/src/sidebar/components/controls/abstract-control.js\" ),\n    RangeControl;\n\nRangeControl = AbstractControl.extend( {\n    \n    ui : {\n        'range' : 'input[type=range]',\n        'input' : 'input[type=text]',\n        'mediaButton' : '.js-setting-group .button',\n        'defaultButton' : '.js-default',\n        'controlGroups' : '.control__body > *'\n    },\n\n    events : {\n        'input @ui.range' : 'onFieldChange',\n        'blur @ui.input' : 'onFieldChange',\n        'click @ui.mediaButton' : 'onMediaButtonChange',\n        'click @ui.defaultButton' : 'onDefaultButtonChange'\n    },\n\n    templateHelpers : {\n\n        /**\n         * Returns the attributes for the control.\n         *\n         * @since 1.0.0\n         *\n         * @returns {string}\n         */\n        inputAttrs : function() {\n            var atts = '';\n            _.each( this.attrs, function( value, attr ) {\n                atts += ( attr + '=\"' + value + '\"' );\n            } );\n            return atts;\n        }\n    },\n    \n    /**\n     * Provides additional data to the template rendering function.\n     *\n     * @since 1.7.2\n     *\n     * @returns {*}\n     */\n    addSerializedData : function( data ) {\n        data.attrs = this.model.get( 'input_attrs' );\n        return data;\n    },\n    \n    /**\n     * Updates the current setting value when a field change occurs.\n     *\n     * @since 1.7.2\n     */\n    onFieldChange : function( e ) {\n        var value = e.target.value;\n        this.ui.input.filter( '[name^=\"' + this.media + '\"]' ).val( value );\n        this.ui.range.filter( '[name^=\"' + this.media + '\"]' ).val( value );\n        this.setValue( value );\n    }\n\n} );\n\nmodule.exports = RangeControl;\n\n\n//# sourceURL=webpack:///./assets/js/src/sidebar/components/controls/range.js?");

/***/ }),

/***/ "./assets/js/src/sidebar/components/controls/select-multi.js":
/*!*******************************************************************!*\
  !*** ./assets/js/src/sidebar/components/controls/select-multi.js ***!
  \*******************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("/**\n * Tailor.Controls.SelectMulti\n *\n * A select multi control.\n *\n * @augments Marionette.ItemView\n */\nvar AbstractControl = __webpack_require__( /*! ./abstract-control */ \"./assets/js/src/sidebar/components/controls/abstract-control.js\" ),\n    SelectMultiControl;\n\nSelectMultiControl = AbstractControl.extend( {\n    \n    ui : {\n        'input' : 'select',\n        'mediaButton' : '.js-setting-group .button',\n        'defaultButton' : '.js-default',\n        'controlGroups' : '.control__body > *'\n    },\n\n    events : {\n        'change @ui.input' : 'onFieldChange',\n        'click @ui.mediaButton' : 'onMediaButtonChange',\n        'click @ui.defaultButton' : 'onDefaultButtonChange'\n    },\n\n    templateHelpers : {\n\n        selected : function( media, key ) {\n            var values = this.values[ media ].split( ',' );\n            return -1 !== values.indexOf( key ) ? 'selected' : '';\n        }\n    },\n\n    /**\n     * Initializes the selectize instance(s) and updates the media-query based control groups when the control is rendered.\n     *\n     * @since 1.7.2\n     */\n    onRender : function() {\n        _.each( this.getValues(), function( value, media ) {\n            var $field = this.ui.input.filter( '[name^=\"' + media + '\"]' );\n\n            _.each($field, function(fieldNode) {\n                if (fieldNode.id && window['ss_' + fieldNode.id]) {\n                    const valueArray = value.split(',');\n\n                    $field.selectize({\n                        options: window['ss_' + fieldNode.id].map(function(object) {\n                            return {\n                                value: object.id,\n                                text: object.text,\n                                selected: !!valueArray.includes(object.id)\n                            }\n                        }),\n                        items: valueArray,\n                        searchField: ['value', 'text']\n                    });\n                } else {\n                    $field.selectize();\n                }\n            });\n        }, this );\n\n        this.updateControlGroups();\n    },\n\n    /**\n     * Updates the current setting value when a field change occurs.\n     *\n     * @since 1.7.2\n     */\n    onFieldChange : function() {\n        var $field = this.ui.input.filter( '[name^=\"' + this.media + '\"]' );\n        var field = $field.get(0);\n        var values = [];\n        for ( var i = 0; i < field.length; i ++ ) {\n            if ( field[ i ].selected ) {\n                values.push( field[ i ].value );\n            }\n        }\n        this.setValue( values.join( ',' ) );\n    },\n\n    /**\n     * Destroys the selectize instance(s).\n     *\n     * @since 1.7.2\n     */\n    onDestroy : function() {\n        _.each( this.getValues(), function( value, media ) {\n            var $field = this.ui.input.filter( '[name^=\"' + media + '\"]' );\n            $field.selectize( 'destroy' );\n        }, this );\n    }\n\n} );\n\nmodule.exports = SelectMultiControl;\n\n\n//# sourceURL=webpack:///./assets/js/src/sidebar/components/controls/select-multi.js?");

/***/ }),

/***/ "./assets/js/src/sidebar/components/controls/select.js":
/*!*************************************************************!*\
  !*** ./assets/js/src/sidebar/components/controls/select.js ***!
  \*************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("/**\n * Tailor.Controls.Select\n *\n * A select control.\n *\n * @augments Marionette.ItemView\n */\nvar AbstractControl = __webpack_require__( /*! ./abstract-control */ \"./assets/js/src/sidebar/components/controls/abstract-control.js\" ),\n    SelectControl;\n\nSelectControl = AbstractControl.extend( {\n\n    ui : {\n        'input' : 'select',\n        'mediaButton' : '.js-setting-group .button',\n        'defaultButton' : '.js-default',\n        'controlGroups' : '.control__body > *'\n    },\n\n    events : {\n        'change @ui.input' : 'onFieldChange',\n        'click @ui.mediaButton' : 'onMediaButtonChange',\n        'click @ui.defaultButton' : 'onDefaultButtonChange'\n    },\n\n    templateHelpers : {\n\n        selected : function( media, key ) {\n            return key === this.values[ media ] ? 'selected' : '';\n        },\n\n        edit : function( media ) {\n            if ( this.setting === ('data_component' || false) && this.values[ media ] ) {\n                return `<a href=\"/wp-admin/post.php?post=${this.values[ media ]}&action=edit\" target=\"_blank\">Edit</a>`;\n            }\n\n            return null;\n        }\n    },\n\n    /**\n     * Initializes the selectize instance(s) and updates the media-query based control groups when the control is rendered.\n     *\n     * @since 1.7.2\n     */\n    onRender : function() {\n        _.each(this.getValues(), ( value, media ) => {\n            var $field = this.ui.input.filter( '[name^=\"' + media + '\"]' );\n            _.each($field, () => $field.selectize());\n        });\n\n        this.updateControlGroups();\n    },\n\n    /**\n     * Destroys the selectize instance(s).\n     *\n     * @since 1.7.2\n     */\n    onDestroy : function() {\n        _.each( this.getValues(), function( value, media ) {\n            this.ui.input.filter( '[name^=\"' + media + '\"]' ).selectize( 'destroy' );\n        }, this );\n    }\n\n} );\n\nmodule.exports = SelectControl;\n\n\n//# sourceURL=webpack:///./assets/js/src/sidebar/components/controls/select.js?");

/***/ }),

/***/ "./assets/js/src/sidebar/components/controls/style.js":
/*!************************************************************!*\
  !*** ./assets/js/src/sidebar/components/controls/style.js ***!
  \************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("/**\n * Tailor.Controls.Style\n *\n * A style control.\n *\n * @augments Marionette.ItemView\n */\nvar $ = window.jQuery,\n    AbstractControl = __webpack_require__( /*! ./abstract-control */ \"./assets/js/src/sidebar/components/controls/abstract-control.js\" ),\n    StyleControl;\n\nStyleControl = AbstractControl.extend( {\n\n    linked : true,\n\n    ui : {\n        'input' : 'input',\n        'mediaButton' : '.js-setting-group .button',\n        'defaultButton' : '.js-default',\n        'linkButton' : '.js-link',\n        'controlGroups' : '.control__body > *'\n    },\n\n    events : {\n        'input @ui.input' : 'updateLinkedFields',\n        'blur @ui.input' : 'onFieldChange',\n        'click @ui.mediaButton' : 'onMediaButtonChange',\n        'click @ui.defaultButton' : 'onDefaultButtonChange',\n        'click @ui.linkButton' : 'onLinkButtonChange'\n    },\n\n    /**\n     * Provides additional data to the template rendering function.\n     *\n     * @since 1.7.2\n     *\n     * @returns {*}\n     */\n    addSerializedData : function( data ) {\n        data.choices = this.model.get( 'choices' );\n        data.values = {};\n\n        _.each( this.getValues(), function( value, media ) {\n            data.values[ media ] = {};\n            var values = [];\n            if ( _.isString( value ) ) {\n                if ( -1 != value.indexOf( ',' ) ) {\n                    values = value.split( ',' );\n                }\n                else {\n                    values = value.split( '-' ); // Old format\n                }\n            }\n\n            var i = 0;\n            for ( var choice in data.choices ) {\n                if ( data.choices.hasOwnProperty( choice ) ) {\n                    data.values[ media ][ choice ] = values[ i ];\n                    i ++;\n                }\n            }\n        } );\n\n        return data;\n    },\n\n    /**\n     * Updates the media-query based control groups when the control is rendered.\n     *\n     * @since 1.7.2\n     */\n    onRender : function() {\n        this.updateControlGroups();\n        this.updateLinkButton();\n    },\n\n\t/**\n     * Updates the control state when the Linked button is pressed.\n     *\n     * @since 1.7.2\n     */\n    onLinkButtonChange: function() {\n        this.linked = ! this.linked;\n        this.updateLinkButton();\n    },\n\n    /**\n     * Updates the current setting value when a field change occurs.\n     *\n     * @since 1.7.2\n     */\n    onFieldChange : function( e ) {\n        var fields = this.ui.input.filter( '[name^=\"' + this.media + '\"]' ).serializeArray();\n        var values = _.map( fields, function( field ) {\n            return field.value;\n        } );\n        this.setValue( values.join( ',' ) );\n    },\n\n\t/**\n\t * Updates the Linked button state.\n     *\n     * @since 1.7.2\n     */\n    updateLinkButton: function() {\n        this.ui.linkButton.toggleClass( 'is-active', this.linked );\n    },\n\n\t/**\n     * Updates linked fields when a setting value changed.\n     *\n     * @since 1.7.2\n     *\n     * @param e\n     */\n    updateLinkedFields : function( e ) {\n        if ( this.linked ) {\n            this.ui.input\n                .filter( '[name^=\"' + this.media + '\"]' )\n                .filter( function( i, el ) { return el != e.currentTarget; } )\n                .val( e.currentTarget.value );\n        }\n    }\n\n} );\n\nmodule.exports = StyleControl;\n\n\n//# sourceURL=webpack:///./assets/js/src/sidebar/components/controls/style.js?");

/***/ }),

/***/ "./assets/js/src/sidebar/components/controls/switch.js":
/*!*************************************************************!*\
  !*** ./assets/js/src/sidebar/components/controls/switch.js ***!
  \*************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("/**\n * Tailor.Controls.Switch\n *\n * A switch control.\n *\n * @augments Marionette.ItemView\n */\nvar AbstractControl = __webpack_require__( /*! ./abstract-control */ \"./assets/js/src/sidebar/components/controls/abstract-control.js\" ),\n    SwitchControl;\n\nSwitchControl = AbstractControl.extend( {\n\n    events : {\n        'change @ui.input' : 'onFieldChange',\n        'click @ui.mediaButton' : 'onMediaButtonChange',\n        'click @ui.defaultButton' : 'onDefaultButtonChange'\n    },\n\n    templateHelpers : {\n\n        checked : function( media ) {\n            return 1 == parseInt( this.values[ media ], 10 ) ? 'checked' : '';\n        }\n    },\n    \n    /**\n     * Updates the current setting value when a field change occurs.\n     *\n     * @since 1.7.2\n     */\n    onFieldChange : function() {\n        var $field = this.ui.input.filter( '[name^=\"' + this.media + '\"]' );\n        this.setValue( $field.get(0).checked ? '1' : '0' );\n    }\n\n} );\n\nmodule.exports = SwitchControl;\n\n\n//# sourceURL=webpack:///./assets/js/src/sidebar/components/controls/switch.js?");

/***/ }),

/***/ "./assets/js/src/sidebar/components/controls/text.js":
/*!***********************************************************!*\
  !*** ./assets/js/src/sidebar/components/controls/text.js ***!
  \***********************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("/**\n * Tailor.Controls.Text\n *\n * A text control.\n *\n * @augments Marionette.ItemView\n */\nvar AbstractControl = __webpack_require__( /*! ./abstract-control */ \"./assets/js/src/sidebar/components/controls/abstract-control.js\" ),\n    TextControl;\n\nTextControl = AbstractControl.extend( {\n    \n    templateHelpers : {\n\n        /**\n         * Returns the attributes for the control.\n         *\n         * @since 1.0.0\n         *\n         * @returns {string}\n         */\n        inputAttrs : function() {\n            var atts = '';\n            _.each( this.attrs, function( value, attr ) {\n                atts += ( attr + '=\"' + value + '\"' );\n            } );\n            return atts;\n        }\n    },\n    \n    /**\n     * Provides additional data to the template rendering function.\n     *\n     * @since 1.7.2\n     *\n     * @returns {*}\n     */\n    addSerializedData : function( data ) {\n        data.attrs = this.model.get( 'input_attrs' );\n        return data;\n    }\n    \n} );\n\nmodule.exports = TextControl;\n\n\n//# sourceURL=webpack:///./assets/js/src/sidebar/components/controls/text.js?");

/***/ }),

/***/ "./assets/js/src/sidebar/components/controls/textarea.js":
/*!***************************************************************!*\
  !*** ./assets/js/src/sidebar/components/controls/textarea.js ***!
  \***************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("/**\n * Tailor.Controls.Textarea\n *\n * A textarea control.\n *\n * @augments Marionette.ItemView\n */\nvar AbstractControl = __webpack_require__( /*! ./abstract-control */ \"./assets/js/src/sidebar/components/controls/abstract-control.js\" ),\n    TextareaControl;\n\nTextareaControl = AbstractControl.extend( {\n\n    ui : {\n        'input' : 'textarea',\n        'mediaButton' : '.js-setting-group .button',\n        'defaultButton' : '.js-default',\n        'controlGroups' : '.control__body > *'\n    }\n\n} );\n\nmodule.exports = TextareaControl;\n\n\n//# sourceURL=webpack:///./assets/js/src/sidebar/components/controls/textarea.js?");

/***/ }),

/***/ "./assets/js/src/sidebar/components/controls/video.js":
/*!************************************************************!*\
  !*** ./assets/js/src/sidebar/components/controls/video.js ***!
  \************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("/**\n * Tailor.Controls.Video\n *\n * A video control.\n *\n * @augments Marionette.ItemView\n */\nvar $ = Backbone.$,\n    AbstractControl = __webpack_require__( /*! ./abstract-control */ \"./assets/js/src/sidebar/components/controls/abstract-control.js\" ),\n    VideoControl;\n\nVideoControl = AbstractControl.extend( {\n\n\tui : {\n        'select' : '.button--select',\n        'enterUrl' : '.button--enter',\n        'change' : '.button--change',\n\t\t'remove' : '.button--remove',\n        'mediaButton' : '.js-setting-group .button',\n        'defaultButton' : '.js-default',\n        'controlGroups' : '.control__body > *'\n\t},\n\n    events : {\n        'click @ui.select' : 'openFrame',\n        'click @ui.enterUrl' : 'openDialog',\n        'click @ui.change' : 'openFrame',\n        'click @ui.remove' : 'removeVideo',\n        'click @ui.mediaButton' : 'onMediaButtonChange',\n        'click @ui.defaultButton' : 'onDefaultButtonChange'\n    },\n\n    /**\n     * Initializes the media frame for the control.\n     *\n     * @since 1.0.0\n     *\n     * @param options\n     */\n    initialize : function( options ) {\n        this.frame = wp.media( {\n            states: [\n                new wp.media.controller.Library({\n                    title : 'Select Video',\n                    library : wp.media.query( { type : [ 'video' ] } ),\n                    multiple : false,\n                    date : false\n                } )\n            ]\n        } );\n\n        this.addEventListeners();\n        this.checkDependencies();\n    },\n\n    /**\n     * Adds the required event listeners.\n     *\n     * @since 1.0.0\n     */\n    addEventListeners : function() {\n        _.each( this.getSettings(), function( setting ) {\n            this.listenTo( setting, 'change', this.onSettingChange );\n        }, this );\n        this.listenTo( this.getSetting().collection, 'change', this.checkDependencies );\n\n        this.frame.on( 'select', this.selectVideo.bind( this ) );\n    },\n\n    /**\n     * Opens the media frame.\n     *\n     * @since 1.0.0\n     */\n    openFrame : function() {\n        this.frame.open();\n    },\n\n    /**\n     * Saves the image ID and updates the thumbnail when the selected image changes.\n     *\n     * @since 1.0.0\n     */\n    selectVideo : function() {\n        var selection = this.frame.state().get( 'selection' );\n        var attachment = selection.first();\n\n        this.setValue( attachment.get( 'id' ) );\n    },\n\n    /**\n     * Opens the link selection dialog.\n     *\n     * @since 1.0.0\n     */\n    openDialog : function() {\n        var control = this;\n        var options = {\n            title : 'Enter URL',\n            button : window._l10n.select,\n\n            /**\n             * Returns the content for the Select Content dialog.\n             *\n             * @since 1.0.0\n             *\n             * @returns {*}\n             */\n            content : function() {\n                return  '<div class=\"dialog__container\">' +\n                            '<input class=\"search--content\" type=\"search\" role=\"search\">' +\n                        '</div>';\n            },\n\n            /**\n             * Returns true if an item has been selected.\n             *\n             * @since 1.0.0\n             *\n             * @returns {*}\n             */\n            onValidate : function() {\n                var url = $( '.search--content' ).val();\n                return url && /^(ftp|http|https):\\/\\/[^ \"]+$/.test( url );\n            },\n\n            /**\n             * Updates the setting value with the selected item URL.\n             *\n             * @since 1.0.0\n             */\n            onSave : function() {\n                control.setValue( $( '.search--content' ).val() );\n            },\n\n            /**\n             * Cleans up event listeners.\n             *\n             * @since 1.0.0\n             */\n            onClose : function() {\n                this.$el.find( '.search--content' ).off( 'input' );\n            }\n        };\n\n        /**\n         * Fires when the dialog window is opened.\n         *\n         * @since 1.0.0\n         */\n        app.channel.trigger( 'dialog:open', options );\n    },\n\n    /**\n     * Re-renders the control when a setting value changes.\n     *\n     * @since 1.7.2\n     */\n    onSettingChange : function() {\n        this.render();\n    },\n    \n    /**\n     * Removes the selected video.\n     *\n     * @since 1.0.0\n     */\n    removeVideo : function() {\n        this.setValue( '' );\n    },\n\n    /**\n     * Renders the image thumbnail.\n     *\n     * @since 1.0.0\n     */\n    onRender : function() {\n        var control = this;\n        _.each( this.getValues(), function( value, media ) {\n            if ( value ) {\n                var attachment = wp.media.attachment( value );\n                if ( ! attachment.get( 'url' ) ) {\n                    attachment.fetch( {\n                        success : function() {\n                            control.updatePreview( attachment, media );\n                        }\n                    } );\n                }\n                else {\n                    control.updatePreview( attachment, media );\n                }\n            }\n        }, this );\n\n        this.updateControlGroups();\n    },\n\n    /**\n     * Updates the video preview.\n     *\n     * @since 1.0.0\n     *\n     * @param attachment\n     * @param media\n     */\n    updatePreview : function( attachment, media ) {\n        var url = attachment.get( 'url' );\n        var mime = attachment.get( 'mime' );\n\n        this.ui.controlGroups\n            .filter( '[id^=\"' + media + '\"]' )\n            .find( '.video-preview' )\n            .removeClass( 'is-loading' )\n            .html( '<video controls><source src=\"' + url + '\" type=\"' + mime + '\"></video>' );\n    },\n\n    /**\n     * Disposes of the media frame when the control is destroyed.\n     *\n     * @since 1.0.0\n     */\n    onDestroy : function() {\n        this.frame.dispose();\n    }\n    \n} );\n\nmodule.exports = VideoControl;\n\n\n//# sourceURL=webpack:///./assets/js/src/sidebar/components/controls/video.js?");

/***/ }),

/***/ "./assets/js/src/sidebar/components/controls/widget-form.js":
/*!******************************************************************!*\
  !*** ./assets/js/src/sidebar/components/controls/widget-form.js ***!
  \******************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("/**\n * Tailor.Controls.WidgetForm\n *\n * A widget form control.\n *\n * @augments Marionette.ItemView\n */\nvar $ = window.jQuery,\n    AbstractControl = __webpack_require__( /*! ./abstract-control */ \"./assets/js/src/sidebar/components/controls/abstract-control.js\" ),\n    WidgetFormControl;\n\nWidgetFormControl = AbstractControl.extend( {\n\n    ui : {},\n\n    events : {\n        'blur *' : 'onFieldChange',\n        'change *' : 'onFieldChange'\n    },\n\n    /**\n     * Returns the template ID.\n     *\n     * @since 1.6.0\n     */\n    getTemplateId : function() {\n        return 'tmpl-tailor-widget-form-' + this.model.get( 'widget_id_base' );\n    },\n\n    /**\n     * Returns the element template.\n     *\n     * @since 1.6.0\n     *\n     * @returns {string}\n     */\n    getTemplate : function() {\n        var el = document.getElementById( this.getTemplateId() );\n        var template = '';\n        if ( el ) {\n            template = _.template( el.innerHTML );\n        }\n        return template;\n    },\n\n\t/**\n     * Populate the form with setting values when the control is rendered.\n     *\n     * @since 1.7.2\n     */\n    onRender: function() {\n        var idBase = this.model.get( 'widget_id_base' );\n        var $el = this.$el;\n\n        // Format the default WordPress widget label\n        this.$el.find( 'label' )\n            .addClass( 'control__title' )\n            .each( function() {\n                var $label = $( this );\n                $label.html( this.innerHTML.replace( ':', '' ) );\n            } );\n\n        _.each( this.getValues(), function( value, media ) {\n            if ( ! _.isEmpty( value ) ) {\n                var values = JSON.parse( value );\n                _.each( values, function( value, name ) {\n                    var $field = $el.find( '[name=\"widget-' + idBase + '[__i__][' + name + ']\"]' );\n                    if ( $field.length ) {\n                        if ( 'checkbox' == $field[0].type || 'radio' == $field[0].type  ) {\n                            $field.attr( 'checked', 'true' );\n                        }\n                        else {\n                            $field.val( value );\n                        }\n                    }\n                } );\n            }\n        }, this );\n    },\n\n    /**\n     * Updates the current setting value when a field change occurs.\n     *\n     * @since 1.7.2\n     */\n    onFieldChange : function( e ) {\n        var fields = this.$el.find( 'input, select, radio, textarea' ).serializeArray();\n        var values = {};\n\n        $.each( fields, function() {\n            var matches = this.name.match( /\\[(.*?)\\]/g );\n            if ( matches && 2 == matches.length ) { // Expecting name in format: widget-{type}[__i__][{field_id}]\n                var name = matches[1].substring( 1, matches[1].length - 1 );\n                if ( 'undefined' != typeof values[ name ] ) {\n                    if ( ! values[ name ].push ) {\n                        values[ name ] = [ values[ name ] ];\n                    }\n                    values[ name ].push( this.value || '' );\n                }\n                else {\n                    values[ name ] = this.value || '';\n                }\n            }\n        } );\n\n        this.setValue( JSON.stringify( values ) );\n\n        e.preventDefault();\n        e.stopImmediatePropagation();\n    },\n\n\t/**\n     * Do nothing on setting change.\n     *\n     * @since 1.7.2\n     */\n    onSettingChange : function() {}\n    \n} );\n\nmodule.exports = WidgetFormControl;\n\n//# sourceURL=webpack:///./assets/js/src/sidebar/components/controls/widget-form.js?");

/***/ }),

/***/ "./assets/js/src/sidebar/components/panels/panel-default.js":
/*!******************************************************************!*\
  !*** ./assets/js/src/sidebar/components/panels/panel-default.js ***!
  \******************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("var DefaultPanel = Marionette.CompositeView.extend( {\n\n    ui : {\n        backButton : '.back-button'\n    },\n\n    triggers : {\n        'click @ui.backButton': 'back:home'\n    },\n\n    behaviors : {\n        Panel : {}\n    },\n\n    emptyView : Tailor.Panels.Empty,\n\n    emptyViewOptions : function() {\n        return {\n            type : this.model.get( 'type' )\n        };\n    },\n\n    childViewContainer : '#items',\n\n    /**\n     * Returns the appropriate child view based on the panel type.\n     *\n     * @since 1.0.0\n     *\n     * @returns {*|exports|module.exports}\n     */\n    getChildView : function() {\n        return Tailor.lookup( this.model.get( 'type' ), false, 'Items' );\n    },\n\n    /**\n     * Filters the collection to ensure that only the appropriate children are displayed.\n     *\n     * @since 1.0.0\n     *\n     * @param child\n     * @param index\n     * @param collection\n     * @returns {boolean}\n     */\n    filter : function( child, index, collection ) {\n        switch ( this.model.get( 'type' ) ) {\n\n            // Do not display child elements in the library\n            case 'library':\n                return ! _.contains( [ 'tailor_row' ], child.get( 'tag' ) ) && 'child' != child.get( 'type' );\n                break;\n\n            // Do not show sections from other panels\n            case 'default':\n                return child.get( 'panel' ) === this.model.get( 'id' );\n                break;\n\n            default:\n                return true;\n                break;\n        }\n    },\n\n    /**\n     * Returns the appropriate template based on the panel type.\n     *\n     * @since 1.0.0\n     *\n     * @returns {string}\n     */\n    getTemplate : function() {\n        var type = this.model.get( 'type' ) || 'default';\n        return '#tmpl-tailor-panel-' + type;\n    },\n\n    /**\n     * Provides the required information to the template rendering function.\n     *\n     * @since 1.0.0\n     *\n     * @returns {*}\n     */\n    serializeData : function() {\n        var data = Marionette.ItemView.prototype.serializeData.apply( this, arguments );\n        data.items = this.collection;\n        return data;\n    },\n\n\t/**\n     * Sets focus on the back button when the panel is displayed.\n     *\n     * @since 1.0.0\n     */\n    onShow : function() {\n        this.ui.backButton.get(0).focus();\n    }\n\n} );\n\nmodule.exports = DefaultPanel;\n\n\n//# sourceURL=webpack:///./assets/js/src/sidebar/components/panels/panel-default.js?");

/***/ }),

/***/ "./assets/js/src/sidebar/components/panels/panel-empty.js":
/*!****************************************************************!*\
  !*** ./assets/js/src/sidebar/components/panels/panel-empty.js ***!
  \****************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("var EmptyPanelView = Marionette.ItemView.extend( {\n\n    className : 'empty',\n\n    initialize : function( options ) {\n        this.type = options.type;\n    },\n\n    /**\n     * Returns the appropriate template based on the panel type.\n     *\n     * @since 1.0.0\n     * @returns {string}\n     */\n    getTemplate : function() {\n        var type = this.type || 'default';\n        return '#tmpl-tailor-panel-' + type + '-empty';\n    }\n\n} );\n\nmodule.exports = EmptyPanelView;\n\n//# sourceURL=webpack:///./assets/js/src/sidebar/components/panels/panel-empty.js?");

/***/ }),

/***/ "./assets/js/src/sidebar/components/sections/section-default.js":
/*!**********************************************************************!*\
  !*** ./assets/js/src/sidebar/components/sections/section-default.js ***!
  \**********************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("var DefaultSection = Marionette.CompositeView.extend( {\n\n    ui: {\n        backButton : '.back-button'\n    },\n\n    triggers : {\n        'click @ui.backButton': 'back:panel'\n    },\n\n    behaviors : {\n        Panel : {}\n    },\n\n    emptyView : __webpack_require__( /*! ./section-empty */ \"./assets/js/src/sidebar/components/sections/section-empty.js\" ),\n\n    childViewContainer : '#controls',\n\n    /**\n     * Initializes the section view.\n     *\n     * @since 1.0.0\n     * @param options\n     */\n    initialize : function( options ) {\n        this.panel = options.panel;\n    },\n\n    /**\n     * Returns the appropriate child view based on the control type.\n     *\n     * @since 1.0.0\n     * @param child\n     * @returns {*|exports|module.exports}\n     */\n    getChildView : function( child ) {\n        return Tailor.lookup( child.get( 'type' ), false, 'Controls' );\n    },\n\n    /**\n     * Filters the collection to ensure that only the appropriate children are displayed.\n     *\n     * @since 1.0.0\n     *\n     * @param child\n     * @param index\n     * @param collection\n     * @returns {boolean}\n     */\n    filter : function( child, index, collection ) {\n        if ( 'default' === this.model.get( 'type' ) ) {\n            return child.get( 'section' ) === this.model.get( 'id' )\n        }\n        return true;\n    },\n\n    /**\n     * Returns the appropriate child view based on the panel type.\n     *\n     * @since 1.0.0\n     * @returns {string}\n     */\n    getTemplate : function() {\n        return '#tmpl-tailor-section-' + this.model.get( 'type' );\n    },\n\n    /**\n     * Serializes the data that is provided to the template rendering function.\n     *\n     * @since 1.0.0\n     *\n     * @returns {*}\n     */\n    serializeData : function() {\n        var data = Marionette.ItemView.prototype.serializeData.apply( this, arguments );\n        data.panel = this.panel.get( 'title' );\n        return data;\n    },\n\n\t/**\n\t * Sets focus on the back button and refreshes code editors when the section is displayed.\n\t *\n\t * @since 1.0.0\n\t */\n    onShow : function() {\n        this.ui.backButton.get(0).focus();\n    }\n\n} );\n\nmodule.exports = DefaultSection;\n\n\n//# sourceURL=webpack:///./assets/js/src/sidebar/components/sections/section-default.js?");

/***/ }),

/***/ "./assets/js/src/sidebar/components/sections/section-empty.js":
/*!********************************************************************!*\
  !*** ./assets/js/src/sidebar/components/sections/section-empty.js ***!
  \********************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("var EmptySectionView = Marionette.ItemView.extend( {\n\n    className : 'empty',\n\n    /**\n     * Returns the appropriate template based on the section type.\n     *\n     * @since 1.0.0\n     * @returns {string}\n     */\n    getTemplate : function() {\n        var type = this.model.get( 'type' ) || 'default';\n        return '#tmpl-tailor-section-' + type + '-empty';\n    }\n\n} );\n\nmodule.exports = EmptySectionView;\n\n//# sourceURL=webpack:///./assets/js/src/sidebar/components/sections/section-empty.js?");

/***/ }),

/***/ "./assets/js/src/sidebar/entities/collections/controls.js":
/*!****************************************************************!*\
  !*** ./assets/js/src/sidebar/entities/collections/controls.js ***!
  \****************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("var ControlCollection = Backbone.Collection.extend( {\n\n\tmodel : __webpack_require__( /*! ../models/control */ \"./assets/js/src/sidebar/entities/models/control.js\" ),\n\n    /**\n     * Initializes the controls collection.\n     *\n     * @since 1.0.0\n     */\n    initialize : function( models, options ) {\n        if ( options && options.settings ) {\n            this.settings = options.settings;\n        }\n        this.addEventListeners();\n    },\n\n    /**\n     * Adds the required event listeners.\n     *\n     * @since 1.0.0\n     */\n    addEventListeners : function() {\n        this.listenTo( this, 'reset', this.onReset );\n    },\n\n    /**\n     * Assigns settings to each control in the collection.\n     *\n     * @since 1.0.0\n     */\n    onReset : function() {\n\n        var mediaQueries = [];\n        for ( var mediaQueryId in _media_queries ) {\n            if ( _media_queries.hasOwnProperty( mediaQueryId ) && '' != _media_queries[ mediaQueryId ].max ) {\n                mediaQueries.push( mediaQueryId );\n            }\n        }\n\n        this.each( function( model ) {\n            var settingId = model.get( 'setting' );\n            model.settings = this.settings.filter( function( setting ) {\n                var id = setting.get( 'id' );\n                if ( id == settingId ) {\n                    setting.media = 'desktop';\n                    return true;\n                }\n                else {\n                    var index = _.indexOf( mediaQueries, id.replace( settingId + '_', '' ) );\n                    if ( -1 !== index ) {\n                        setting.media = mediaQueries[ index ];\n                        return true;\n                    }\n                }\n\n                return false;\n            } );\n        }, this );\n    }\n\n} );\n\nmodule.exports = ControlCollection;\n\n\n//# sourceURL=webpack:///./assets/js/src/sidebar/entities/collections/controls.js?");

/***/ }),

/***/ "./assets/js/src/sidebar/entities/collections/library.js":
/*!***************************************************************!*\
  !*** ./assets/js/src/sidebar/entities/collections/library.js ***!
  \***************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("var SearchableCollection = __webpack_require__( /*! ./searchable */ \"./assets/js/src/sidebar/entities/collections/searchable.js\" ),\n\tLibraryCollection;\n\nLibraryCollection= SearchableCollection.extend( {\n\n    /**\n     * Returns the appropriate model based on the given tag.\n     *\n     * @since 1.0.0\n     *\n     * @param attrs\n     * @param options\n     * @returns {*|exports|module.exports}\n     */\n    model : function( attrs, options ) {\n        var Model = Tailor.lookup( attrs.tag, attrs.type, 'Models' );\n        return new Model( attrs, options );\n    },\n\n\tcomparator : 'label',\n\n\t/**\n\t * Returns the attributes of a model to use in a search.\n\t *\n\t * @since 1.0.0\n\t *\n\t * @param model\n\t * @returns {string}\n\t */\n\tgetHaystack : function( model ) {\n\t\treturn [\n\t\t\tmodel.get( 'label' ),\n\t\t\tmodel.get( 'type' ),\n\t\t\tmodel.get( 'description' ),\n\t\t\tmodel.get( 'badge' ),\n\t\t\tmodel.get( 'tag' )\n\t\t].join( ' ' );\n\t}\n\n} );\n\nmodule.exports = LibraryCollection;\n\n//# sourceURL=webpack:///./assets/js/src/sidebar/entities/collections/library.js?");

/***/ }),

/***/ "./assets/js/src/sidebar/entities/collections/panels.js":
/*!**************************************************************!*\
  !*** ./assets/js/src/sidebar/entities/collections/panels.js ***!
  \**************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("var PanelCollection = Backbone.Collection.extend( {\n\tmodel : __webpack_require__( /*! ../models/panel */ \"./assets/js/src/sidebar/entities/models/panel.js\" )\n} );\n\nmodule.exports = PanelCollection;\n\n\n//# sourceURL=webpack:///./assets/js/src/sidebar/entities/collections/panels.js?");

/***/ }),

/***/ "./assets/js/src/sidebar/entities/collections/searchable.js":
/*!******************************************************************!*\
  !*** ./assets/js/src/sidebar/entities/collections/searchable.js ***!
  \******************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("var $ = Backbone.$,\n\tSearchableCollection;\n\nSearchableCollection = Backbone.Collection.extend( {\n\n\t/**\n\t * Performs a search based on a given search term.\n\t *\n\t * @since 1.0.0\n\t *\n\t * @param value\n\t */\n\tdoSearch: function( value ) {\n\n\t\t// Don't do anything if we've already done this search\n\t\tif ( this.terms === value ) {\n\t\t\treturn;\n\t\t}\n\t\tthis.terms = value;\n\n\t\tif ( this.terms.length > 0 ) {\n\t\t\tthis.search( this.terms );\n\t\t}\n\n\t\t// If search is blank, show all items\n\t\tif ( this.terms === '' ) {\n\t\t\tthis.each( function( item ) {\n\t\t\t\titem.set( 'match', true );\n\t\t\t} );\n\t\t}\n\t},\n\n\t/**\n\t * Shows or hides items based on whether they match the search criteria.\n\t *\n\t * @since 1.0.0\n\t *\n\t * @param term\n\t */\n\tsearch: function( term ) {\n\t\tvar match, haystack;\n\n\t\t// Escape the term string for RegExp meta characters\n\t\tterm = term.replace( /[-\\/\\\\^$*+?.()|[\\]{}]/g, '\\\\$&' );\n\n\t\t// Consider spaces as word delimiters and match the whole string so matching terms can be combined\n\t\tterm = term.replace( / /g, ')(?=.*' );\n\n\t\tmatch = new RegExp( '^(?=.*' + term + ').+', 'i' );\n\n\t\tthis.each( function( item ) {\n\t\t\thaystack = this.getHaystack( item );\n\t\t\titem.set( 'match', match.test( haystack ) );\n\t\t}, this );\n\t}\n\n} );\n\nmodule.exports = SearchableCollection;\n\n\n//# sourceURL=webpack:///./assets/js/src/sidebar/entities/collections/searchable.js?");

/***/ }),

/***/ "./assets/js/src/sidebar/entities/collections/sections.js":
/*!****************************************************************!*\
  !*** ./assets/js/src/sidebar/entities/collections/sections.js ***!
  \****************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("var SectionCollection = Backbone.Collection.extend( {\n\tmodel : __webpack_require__( /*! ../models/section */ \"./assets/js/src/sidebar/entities/models/section.js\" )\n} );\n\nmodule.exports = SectionCollection;\n\n\n//# sourceURL=webpack:///./assets/js/src/sidebar/entities/collections/sections.js?");

/***/ }),

/***/ "./assets/js/src/sidebar/entities/collections/settings.js":
/*!****************************************************************!*\
  !*** ./assets/js/src/sidebar/entities/collections/settings.js ***!
  \****************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("var SettingCollection = Backbone.Collection.extend( {\n\n\tmodel : __webpack_require__( /*! ../models/setting */ \"./assets/js/src/sidebar/entities/models/setting.js\" ),\n\n    /**\n     * Initializes the setting collection.\n     *\n     * @since 1.0.0\n     */\n    initialize : function( models, options ) {\n        if ( options && options.element ) {\n            this.element = options.element;\n        }\n\n        this.addEventListeners();\n    },\n\n    /**\n     * Adds the required event listeners.\n     *\n     * @since 1.0.0\n     */\n    addEventListeners : function() {\n        this.listenTo( this, 'reset', this.load );\n    },\n\n\t/**\n     * Assigns the initial value to the setting.\n     *\n     * @since 1.0.0\n     */\n    load : function() {\n        var atts = this.element.get( 'atts' );\n        this.each( function( model ) {\n            model.set( 'value', atts[ model.get( 'id' ) ] );\n        }, this );\n    }\n\n} );\n\nmodule.exports = SettingCollection;\n\n\n//# sourceURL=webpack:///./assets/js/src/sidebar/entities/collections/settings.js?");

/***/ }),

/***/ "./assets/js/src/sidebar/entities/collections/snapshots.js":
/*!*****************************************************************!*\
  !*** ./assets/js/src/sidebar/entities/collections/snapshots.js ***!
  \*****************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("var SnapshotCollection = Backbone.Collection.extend( {\n\n    /**\n     * The maximum number of history entries to store.\n     *\n     * @since 1.0.0\n     */\n\tmaxSize : 50,\n\n    /**\n     * The active history entry.\n     *\n     * @since 1.0.0\n     */\n    active : null,\n\n    /**\n     * The attribute by which entries in the collection are sorted.\n     *\n     * @since 1.0.0\n     */\n    comparator : function( model ) {\n        return - model.get( 'timestamp' );\n    },\n\n    /**\n     * Initializes the history entry collection.\n     *\n     * @since 1.0.0\n     */\n\tinitialize: function() {\n        this.addEventListeners();\n\t},\n\n    /**\n     * Adds the required event listeners.\n     *\n     * @since 1.0.0\n     */\n    addEventListeners : function() {\n        this.listenTo( this, 'add', this.checkLength );\n        this.listenToOnce( app.channel, 'canvas:initialize', function() {\n            this.save( window._l10n.initialized );\n        } );\n    },\n\n    /**\n     * Saves the current element collection as a history entry.\n     *\n     * @since 1.0.0\n     *\n     * @param label\n     */\n    save : function( label ) {\n\n        // If the active entry exists and is not the latest one, remove subsequent entries\n        if ( this.active ) {\n            var activePosition = this.indexOf( this.active );\n            if ( activePosition > 0 ) {\n                this.remove( this.slice( 0, activePosition ) );\n            }\n        }\n\n        var models = app.channel.request( 'canvas:elements' );\n        var templates = app.channel.request( 'canvas:templates' );\n        var css = app.channel.request( 'canvas:css' );\n\n        console.log( models, templates, css );\n\n        // Add the new entry to the collection\n        var entry = this.add( {\n            label : label || '',\n            elements : models ? models.toJSON() : [],\n            templates: templates,\n            css: css,\n            time : this.getTime(),\n            timestamp : _.now()\n        } );\n\n\t    this.setActive( entry );\n    },\n\n    /**\n     * Returns the current time as a formatted string.\n     *\n     * @since 1.0.0\n     *\n     * @returns {string}\n     */\n    getTime : function() {\n        var date = new Date();\n        var hours = date.getHours();\n        var separator = ':';\n        var suffix;\n\n        if ( hours > 12 ) {\n            hours -= 12;\n            suffix = ' PM';\n        }\n        else {\n            suffix = ' AM';\n        }\n\n        return (\n            hours + separator +\n            ( '0' + date.getMinutes() ).slice( -2 ) + separator +\n            ( '0' + date.getSeconds() ).slice( -2 ) + suffix\n        );\n    },\n\n    /**\n     * Restores a given history entry.\n     *\n     * @since 1.0.0\n     *\n     * @param timestamp\n     */\n    restore : function( timestamp ) {\n        var entry = this.findWhere( { timestamp : timestamp } );\n        if ( ! entry || entry === this.getActive() ) {\n            return;\n        }\n\n        this.setActive( entry );\n        var elements = entry.get( 'elements' );\n        var templates = entry.get( 'templates' );\n        var css = entry.get( 'css' );\n\n        /**\n         * Fires when the element collection is reset.\n         *\n         * @since 1.0.0\n         *\n         * @param elements\n         */\n        app.channel.trigger( 'elements:reset', elements, templates, css );\n    },\n\n    /**\n     * Restores the previous history entry.\n     *\n     * @since 1.0.0\n     */\n    undo : function() {\n        if ( ! this.length ) {\n            return;\n        }\n\n        var entry = this.at( this.indexOf( this.getActive() ) + 1 );\n        if ( entry ) {\n            this.restore( entry.get( 'timestamp' ) );\n        }\n    },\n\n    /**\n     * Restores the next history entry.\n     *\n     * @since 1.0.0\n     */\n    redo : function() {\n        if ( ! this.length ) {\n            return;\n        }\n\n        if ( 0 === this.indexOf( this.getActive() ) ) {\n            return;\n        }\n        \n        var entry = this.at( this.indexOf( this.getActive() ) - 1 );\n\n        if ( entry ) {\n            this.restore( entry.get( 'timestamp' ) );\n        }\n    },\n\n    /**\n     * Removes the oldest entry from the collection if it reaches it's maximum length.\n     *\n     * @since 1.0.0\n     */\n    checkLength : function() {\n        if ( this.length > this.maxSize ) {\n            this.pop();\n        }\n\t},\n\n    /**\n     * Sets the given entry as active.\n     *\n     * @since 1.0.0\n     *\n     * @param model\n     */\n    setActive : function( model ) {\n        this.active = model;\n        this.trigger( 'change:active', model );\n    },\n\n    /**\n     * Returns the active entry.\n     *\n     * @since 1.0.0\n     *\n     * @returns {null}\n     */\n    getActive : function() {\n        return this.active;\n    }\n\n} );\n\nmodule.exports = SnapshotCollection;\n\n\n//# sourceURL=webpack:///./assets/js/src/sidebar/entities/collections/snapshots.js?");

/***/ }),

/***/ "./assets/js/src/sidebar/entities/collections/templates.js":
/*!*****************************************************************!*\
  !*** ./assets/js/src/sidebar/entities/collections/templates.js ***!
  \*****************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("var SearchableCollection = __webpack_require__( /*! ./searchable */ \"./assets/js/src/sidebar/entities/collections/searchable.js\" ),\n\tTemplateCollection;\n\nTemplateCollection = SearchableCollection.extend( {\n\n\tmodel : __webpack_require__( /*! ../models/template */ \"./assets/js/src/sidebar/entities/models/template.js\" ),\n\n\tcomparator : 'name',\n\n\t/**\n\t * Returns the attributes of a model to use in a search.\n\t *\n\t * @since 1.0.0\n\t *\n\t * @param model\n\t * @returns {string}\n\t */\n\tgetHaystack : function( model ) {\n\t\treturn [\n\t\t\tmodel.get( 'id' ),\n\t\t\tmodel.get( 'label' )\n\t\t].join( ' ' );\n\t}\n\n} );\n\nmodule.exports = TemplateCollection;\n\n\n//# sourceURL=webpack:///./assets/js/src/sidebar/entities/collections/templates.js?");

/***/ }),

/***/ "./assets/js/src/sidebar/entities/models/control.js":
/*!**********************************************************!*\
  !*** ./assets/js/src/sidebar/entities/models/control.js ***!
  \**********************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("var ControlModel = Backbone.Model.extend( {\n\n    /**\n     * The default parameters for a control.\n     *\n     * @since 1.0.0\n     *\n     * @returns object\n     */\n\tdefaults: {\n\t\tid : '',\n\t\tlabel : '',\n\t\tdescription : '',\n\t\ttype : '',\n\t\tchoices : {},\n\t\tpriority : 0,\n\t\tsetting : '',\n\t\tsection : '' // Only used for controls on the Settings panel\n\t}\n} );\n\nmodule.exports = ControlModel;\n\n\n//# sourceURL=webpack:///./assets/js/src/sidebar/entities/models/control.js?");

/***/ }),

/***/ "./assets/js/src/sidebar/entities/models/element-container.js":
/*!********************************************************************!*\
  !*** ./assets/js/src/sidebar/entities/models/element-container.js ***!
  \********************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("var ContainerModel = Backbone.Model.extend( {\n\n    /**\n     * The default model parameters.\n     *\n     * @since 1.0.0\n     *\n     * @returns object\n     */\n    defaults : function() {\n\n        return {\n            label : '',\n            description : '',\n            tag : '',\n            icon : '',\n            sections : [],\n            controls : [],\n            type : 'default',\n            child : '',\n            collection : 'library'\n        };\n    },\n\n    /**\n     * Initializes the model.\n     *\n     * @since 1.0.0\n     */\n    initialize : function() {\n        this.addEventListeners();\n    },\n\n    /**\n     * Adds the required event listeners.\n     *\n     * @since 1.0.0\n     */\n    addEventListeners : function() {\n        this.listenTo( this, 'element:add:top', this.insertBefore );\n        this.listenTo( this, 'element:add:bottom', this.insertAfter );\n        this.listenTo( this, 'element:add:left', this.columnBefore );\n        this.listenTo( this, 'element:add:right', this.columnAfter );\n    },\n\n    /**\n     * Creates and inserts an element before the target view.\n     *\n     * @since 1.0.0\n     *\n     * @param view\n     */\n    insertBefore : function( view ) {\n        this.insertAtIndex( view.model, view.model.get( 'order' ) );\n    },\n\n    /**\n     * Creates and inserts an element after the target view.\n     *\n     * @since 1.0.0\n     *\n     * @param view\n     */\n    insertAfter : function( view ) {\n        this.insertAtIndex( view.model, view.model.get( 'order' ) + 1 );\n    },\n\n    /**\n     * Creates a new wrapper element at the given position.\n     *\n     * @since 1.0.0\n     *\n     * @param model\n     * @param index\n     */\n    insertAtIndex : function( model, index ) {\n        var tag = 'tailor_content';\n        var children = model.collection.create( [ {\n            tag : tag,\n            atts : {}\n        }, {\n            tag : tag,\n            atts : {}\n        } ], {\n            silent : true\n        } );\n\n        model.collection.createContainer( this, model.get( 'parent' ), index, children );\n    },\n\n    /**\n     * Creates and inserts an element before the target view in a row/column layout.\n     *\n     * @since 1.0.0\n     *\n     * @param view\n     */\n    columnBefore : function( view ) {\n        var parentId = view.model.get( 'parent' );\n        var tag = 'tailor_content';\n        var children;\n\n        if ( 'tailor_column' == view.model.get( 'tag' ) ) {\n            var column = view.model.collection.createColumn( parentId, view.model.get( 'order' ) - 1 );\n\n            children = view.model.collection.create( [ {\n                tag : tag,\n                atts : {}\n            }, {\n                tag : tag,\n                atts : {}\n            } ], {\n                silent : true\n            } );\n\n            view.model.collection.createContainer( this, column.get( 'id' ), 0, children );\n        }\n        else {\n            var columns = view.model.collection.createRow( parentId, view.model.get( 'order' ) );\n\n            view.model.collection.insertChild( view.model, _.last( columns ) );\n\n            children = view.model.collection.create( [ {\n                tag : tag,\n                atts : {}\n            }, {\n                tag : tag,\n                atts : {}\n            } ], {\n                silent : true\n            } );\n\n            view.model.collection.createContainer( this, _.first( columns ).get( 'id' ), 0, children );\n        }\n    },\n\n    /**\n     * Creates and inserts an element after the target view in a row/column layout.\n     *\n     * @since 1.0.0\n     *\n     * @param view\n     */\n    columnAfter : function( view ) {\n        var parentId = view.model.get( 'parent' );\n        var tag = 'tailor_content';\n        var children;\n\n        if ( 'tailor_column' == view.model.get( 'tag' ) ) {\n            var column = view.model.collection.createColumn( parentId, view.model.get( 'order' ) );\n\n            children = view.model.collection.create( [ {\n                tag : tag,\n                atts : {}\n            }, {\n                tag : tag,\n                atts : {}\n            } ], {\n                silent : true\n            } );\n\n            view.model.collection.createContainer( this, column.get( 'id' ), 0, children );\n        }\n        else {\n            var columns = view.model.collection.createRow( parentId, view.model.get( 'order' ) );\n\n            view.model.collection.insertChild( view.model, _.first( columns ) );\n\n            children = view.model.collection.create( [ {\n                tag : tag,\n                atts : {}\n            }, {\n                tag : tag,\n                atts : {}\n            } ], {\n                silent : true\n            } );\n\n            view.model.collection.createContainer( this, _.last( columns ).get( 'id' ), 0, children );\n        }\n    }\n\n} );\n\nmodule.exports = ContainerModel;\n\n//# sourceURL=webpack:///./assets/js/src/sidebar/entities/models/element-container.js?");

/***/ }),

/***/ "./assets/js/src/sidebar/entities/models/element-wrapper.js":
/*!******************************************************************!*\
  !*** ./assets/js/src/sidebar/entities/models/element-wrapper.js ***!
  \******************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("var WrapperModel = Backbone.Model.extend( {\n\n    /**\n     * The default model parameters.\n     *\n     * @since 1.0.0\n     *\n     * @returns object\n     */\n    defaults : function() {\n\n        return {\n            label : '',\n            description : '',\n            tag : '',\n            icon : '',\n            sections : [],\n            controls : [],\n            type : 'default',\n            child : '',\n            collection : 'library'\n        };\n    },\n\n    /**\n     * Initializes the model.\n     *\n     * @since 1.0.0\n     */\n    initialize : function() {\n        this.addEventListeners();\n    },\n\n    /**\n     * Adds the required event listeners.\n     *\n     * @since 1.0.0\n     */\n    addEventListeners : function() {\n        this.listenTo( this, 'element:add:top', this.insertBefore );\n        this.listenTo( this, 'element:add:bottom', this.insertAfter );\n        this.listenTo( this, 'element:add:left', this.columnBefore );\n        this.listenTo( this, 'element:add:right', this.columnAfter );\n        this.listenTo( this, 'element:add:center', this.createChild );\n    },\n\n    /**\n     * Creates and inserts an element before the target view.\n     *\n     * @since 1.0.0\n     *\n     * @param view\n     */\n    insertBefore : function( view ) {\n        this.insertAtIndex( view.model, view.model.get( 'order' ) - 1 );\n    },\n\n    /**\n     * Creates and inserts an element after the target view.\n     *\n     * @since 1.0.0\n     *\n     * @param view\n     */\n    insertAfter : function( view ) {\n        this.insertAtIndex( view.model, view.model.get( 'order' ) );\n    },\n\n    /**\n     * Creates a new wrapper element at the given position.\n     *\n     * @since 1.0.0\n     *\n     * @param model\n     * @param index\n     */\n    insertAtIndex : function( model, index ) {\n        model.collection.createWrapper( this.get( 'tag' ), model.get( 'parent' ), index );\n    },\n\n    /**\n     * Creates and inserts an element before the target view in a row/column layout.\n     *\n     * @since 1.0.0\n     *\n     * @param view\n     */\n    columnBefore : function( view ) {\n        var parentId = view.model.get( 'parent' );\n        var index = view.model.get( 'order' ) - 1;\n        var tag = 'tailor_content';\n\n        if ( 'tailor_column' == view.model.get( 'tag' ) ) {\n            var column = view.model.collection.createColumn( parentId, index );\n            view.model.collection.createWrapper( this.get( 'tag' ), column.get( 'id' ), 0 );\n        }\n        else {\n\n            var columns = view.model.collection.createRow( parentId, index );\n            view.model.collection.insertChild( view.model, _.last( columns ) );\n            view.model.collection.createWrapper( this.get( 'tag' ), _.first( columns ).get( 'id' ), 0 );\n        }\n    },\n\n    /**\n     * Creates and inserts an element after the target view in a row/column layout.\n     *\n     * @since 1.0.0\n     *\n     * @param view\n     */\n    columnAfter : function( view ) {\n        var parentId = view.model.get( 'parent' );\n        var index = view.model.get( 'order' );\n        var tag = 'tailor_content';\n\n        if ( 'tailor_column' == view.model.get( 'tag' ) ) {\n            var column = view.model.collection.createColumn( parentId, index );\n            view.model.collection.createWrapper( this.get( 'tag' ), column.get( 'id' ), 0 );\n        }\n        else {\n\n            var columns = view.model.collection.createRow( parentId, index );\n            view.model.collection.insertChild( view.model, _.first( columns ) );\n            view.model.collection.createWrapper( this.get( 'tag' ), _.last( columns ).get( 'id' ), 0 );\n\n        }\n    },\n\n    /**\n     * Inserts the element inside a new child element in the target view.\n     *\n     * @since 1.0.0\n     *\n     * @param view\n     */\n    createChild : function( view ) {\n        var parentId = view.model.get( 'id' );\n        var childTag = view.model.get( 'child' );\n        var numberChildren = view.model.collection.where( { parent : parentId, tag : childTag } ).length;\n        var wrapper = view.model.collection.createWrapper( childTag, parentId, numberChildren, false );\n\n        view.model.collection.createWrapper( this.get( 'tag' ), wrapper.get( 'id' ), 0 );\n    }\n\n} );\n\nmodule.exports = WrapperModel;\n\n//# sourceURL=webpack:///./assets/js/src/sidebar/entities/models/element-wrapper.js?");

/***/ }),

/***/ "./assets/js/src/sidebar/entities/models/element.js":
/*!**********************************************************!*\
  !*** ./assets/js/src/sidebar/entities/models/element.js ***!
  \**********************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("var ElementModel = Backbone.Model.extend( {\n\n    /**\n     * The default model parameters.\n     *\n     * @since 1.0.0\n     *\n     * @returns object\n     */\n    defaults : function() {\n\n        return {\n            label : '',\n            description : '',\n            tag : '',\n            icon : '',\n            sections : [],\n            controls : [],\n            type : 'default',\n            child : '',\n            collection : 'library'\n        };\n    },\n\n    /**\n     * Initializes the model.\n     *\n     * @since 1.0.0\n     */\n    initialize : function() {\n        this.addEventListeners();\n    },\n\n    /**\n     * Adds the required event listeners.\n     *\n     * @since 1.0.0\n     */\n    addEventListeners : function() {\n        this.listenTo( this, 'element:add:top', this.insertBefore );\n        this.listenTo( this, 'element:add:bottom', this.insertAfter );\n        this.listenTo( this, 'element:add:left', this.columnBefore );\n        this.listenTo( this, 'element:add:right', this.columnAfter );\n        this.listenTo( this, 'element:add:center', this.createChild );\n    },\n\n    /**\n     * Creates and inserts an element before the target view inside a section.\n     *\n     * @since 1.0.0\n     *\n     * @param view\n     */\n    insertBefore : function( view ) {\n        this.insertAtIndex( view.model, view.model.get( 'order' ) - 1 );\n    },\n\n    /**\n     * Creates and inserts an element after the target view inside a section.\n     *\n     * @since 1.0.0\n     *\n     * @param view\n     */\n    insertAfter : function( view ) {\n        this.insertAtIndex( view.model, view.model.get( 'order' ) );\n    },\n\n    /**\n     * Creates a new element at the given position.\n     *\n     * @since 1.0.0\n     *\n     * @param model\n     * @param index\n     */\n    insertAtIndex : function( model, index ) {\n        model.collection.create( [ {\n            tag : this.get( 'tag' ),\n            label : this.get( 'label' ),\n            parent : model.get( 'parent' ),\n            type : this.get( 'type' ),\n            order : index\n        } ], {} );\n    },\n\n    /**\n     * Creates and inserts an element before the target view in a row/column layout.\n     *\n     * @since 1.0.0\n     *\n     * @param view\n     */\n    columnBefore : function( view ) {\n        var parentId = view.model.get( 'parent' );\n\n        if ( 'tailor_column' == view.model.get( 'tag' ) ) {\n            var column = view.model.collection.createColumn( parentId, view.model.get( 'order' ) - 1 );\n\n            view.model.collection.create( [ {\n                tag : this.get( 'tag' ),\n                label : this.get( 'label' ),\n                parent : column.get( 'id' ),\n                type : this.get( 'type' ),\n                order : 0\n            } ], {\n                at : 0\n            } );\n        }\n        else {\n            var columns = view.model.collection.createRow( parentId, view.model.get( 'order' ) );\n\n            view.model.collection.create( [ {\n                tag : this.get( 'tag' ),\n                label : this.get( 'label' ),\n                parent : _.first( columns ).get( 'id' ),\n                type : this.get( 'type' ),\n                order : 0\n            } ], {\n                at : 0\n            } );\n\n            view.model.collection.insertChild( view.model, _.last( columns ) );\n\n        }\n    },\n\n    /**\n     * Creates and inserts an element after the target view in a row/column layout.\n     *\n     * @since 1.0.0\n     *\n     * @param view\n     */\n    columnAfter : function( view ) {\n\n        var parentId = view.model.get( 'parent' );\n\n        if ( 'tailor_column' == view.model.get( 'tag' ) ) {\n            var column = view.model.collection.createColumn( parentId, view.model.get( 'order' ) );\n\n            view.model.collection.create( [ {\n                tag : this.get( 'tag' ),\n                label : this.get( 'label' ),\n                parent : column.get( 'id' ),\n                type : this.get( 'type' ),\n                order : 0\n            } ], {\n                at : 0\n            } );\n        }\n        else {\n            var columns = view.model.collection.createRow( parentId, view.model.get( 'order' ) );\n\n            view.model.collection.create( [ {\n                tag : this.get( 'tag' ),\n                label : this.get( 'label' ),\n                parent : _.last( columns ).get( 'id' ),\n                type : this.get( 'type' ),\n                order : 0\n            } ], {\n                at : 0\n            } );\n\n            view.model.collection.insertChild( view.model, _.first( columns ) );\n        }\n    },\n\n    /**\n     * Inserts the element inside a new child element in the target view.\n     *\n     * @since 1.0.0\n     *\n     * @param view\n     */\n    createChild : function( view ) {\n        var parentId = view.model.get( 'id' );\n        var childTag = view.model.get( 'child' );\n        var numberChildren = view.model.collection.where( { parent : parentId, tag : childTag } ).length;\n        var wrapper = view.model.collection.createWrapper( childTag, parentId, numberChildren, false );\n\n        var child = view.model.collection.create( [ {\n            tag : this.get( 'tag' ),\n            label : this.get( 'label' ),\n            parent : wrapper.get( 'id' ),\n            type : this.get( 'type' ),\n            order : 0\n        } ], {\n            at : 0\n        } );\n    }\n\n} );\n\nmodule.exports = ElementModel;\n\n//# sourceURL=webpack:///./assets/js/src/sidebar/entities/models/element.js?");

/***/ }),

/***/ "./assets/js/src/sidebar/entities/models/panel.js":
/*!********************************************************!*\
  !*** ./assets/js/src/sidebar/entities/models/panel.js ***!
  \********************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("var PanelModel = Backbone.Model.extend( {\n\n    /**\n     * The default parameters for a panel.\n     *\n     * @since 1.0.0\n     *\n     * @returns object\n     */\n\tdefaults: {\n\t\tid : '',\n\t\ttitle : '',\n\t\tdescription : '',\n\t\tcollection : '',\n\t\tpriority : 0\n\t}\n} );\n\nmodule.exports = PanelModel;\n\n\n//# sourceURL=webpack:///./assets/js/src/sidebar/entities/models/panel.js?");

/***/ }),

/***/ "./assets/js/src/sidebar/entities/models/section.js":
/*!**********************************************************!*\
  !*** ./assets/js/src/sidebar/entities/models/section.js ***!
  \**********************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("var SectionModel = Backbone.Model.extend( {\n\n    /**\n     * The default parameters for a section.\n     *\n     * @since 1.0.0\n     *\n     * @returns object\n     */\n\tdefaults: {\n\t\tid : '',\n\t\ttitle : '',\n\t\tdescription : '',\n\t\tpriority : 0,\n\t\tpanel : ''\n\t}\n} );\n\nmodule.exports = SectionModel;\n\n\n//# sourceURL=webpack:///./assets/js/src/sidebar/entities/models/section.js?");

/***/ }),

/***/ "./assets/js/src/sidebar/entities/models/setting.js":
/*!**********************************************************!*\
  !*** ./assets/js/src/sidebar/entities/models/setting.js ***!
  \**********************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("var SettingModel = Backbone.Model.extend( {\n\n    /**\n     * The default parameters for a setting.\n     *\n     * @since 1.0.0\n     *\n     * @returns object\n     */\n\tdefaults: {\n\t\tid : '',\n        type : ''\n    }\n} );\n\nmodule.exports = SettingModel;\n\n\n//# sourceURL=webpack:///./assets/js/src/sidebar/entities/models/setting.js?");

/***/ }),

/***/ "./assets/js/src/sidebar/entities/models/template.js":
/*!***********************************************************!*\
  !*** ./assets/js/src/sidebar/entities/models/template.js ***!
  \***********************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("var TemplateModel = Backbone.Model.extend( {\n\n    /**\n     * Returns an object containing the default parameters for a template.\n     *\n     * @since 1.0.0\n     * @returns object\n     */\n    defaults : function() {\n        return {\n            id : this.cid,\n            label : '',\n            collection : 'template'\n        };\n    },\n\n    /**\n     * Initializes the element model.\n     *\n     * @since 1.0.0\n     */\n    initialize : function() {\n        this.addEventListeners();\n    },\n\n    /**\n     * Adds the required event listeners.\n     *\n     * @since 1.0.0\n     */\n    addEventListeners : function() {\n        this.listenTo( this, 'element:add:top', this.insertBefore );\n        this.listenTo( this, 'element:add:bottom', this.insertAfter );\n        this.listenTo( this, 'element:add:left', this.columnBefore );\n        this.listenTo( this, 'element:add:right', this.columnAfter );\n        this.listenTo( this, 'element:add:center', this.createChild );\n    },\n\n    createChild : function( view ) {\n        var parentId = view.model.get( 'id' );\n        var childTag = view.model.get( 'child' );\n        var numberChildren = view.model.collection.where( { parent : parentId, tag : childTag } ).length;\n        var wrapper = view.model.collection.createWrapper( childTag, parentId, numberChildren, false );\n\n        /**\n         * Fires when a template is loaded.\n         *\n         * @since 1.0.0\n         */\n        app.channel.trigger( 'template:load', this, wrapper.get( 'id' ), 0 );\n    },\n\n    /**\n     * Creates and inserts an element before the target view in a row/column layout.\n     *\n     * @since 1.0.0\n     *\n     * @param view\n     */\n    columnBefore : function( view ) {\n        var parentId = view.model.get( 'parent' );\n\n        if ( 'tailor_column' == view.model.get( 'tag' ) ) {\n            var column = view.model.collection.createColumn( parentId, view.model.get( 'order' ) - 1 );\n\n            /**\n             * Fires when a template is loaded.\n             *\n             * @since 1.0.0\n             */\n            app.channel.trigger( 'template:load', this, column.get( 'id' ), 0 );\n\n        }\n        else {\n            var columns = view.model.collection.createRow( parentId, view.model.get( 'order' ) );\n\n            /**\n             * Fires when a template is loaded.\n             *\n             * @since 1.0.0\n             */\n            app.channel.trigger( 'template:load', this, _.first( columns ).get( 'id' ), 0 );\n            view.model.collection.insertChild( view.model, _.last( columns ) );\n        }\n    },\n\n    /**\n     * Creates and inserts an element after the target view in a row/column layout.\n     *\n     * @since 1.0.0\n     *\n     * @param view\n     */\n    columnAfter : function( view ) {\n        var parentId = view.model.get( 'parent' );\n\n        if ( 'tailor_column' == view.model.get( 'tag' ) ) {\n            var column = view.model.collection.createColumn( parentId, view.model.get( 'order' ) );\n\n            /**\n             * Fires when a template is loaded.\n             *\n             * @since 1.0.0\n             */\n            app.channel.trigger( 'template:load', this, column.get( 'id' ), 0 );\n        }\n        else {\n            var columns = view.model.collection.createRow( parentId, view.model.get( 'order' ) );\n\n            /**\n             * Fires when a template is loaded.\n             *\n             * @since 1.0.0\n             */\n            app.channel.trigger( 'template:load', this, _.last( columns ).get( 'id' ), 0 );\n\n            view.model.collection.insertChild( view.model, _.first( columns ) );\n        }\n    },\n\n    /**\n     * Creates and inserts a template before the target view inside a section.\n     *\n     * @since 1.0.0\n     * @param view\n     */\n\tinsertBefore : function( view ) {\n\n        /**\n         * Fires when a template is loaded.\n         *\n         * @since 1.0.0\n         */\n        app.channel.trigger( 'template:load', this, view.model.get( 'parent' ), view.model.get( 'order' ) - 1 );\n\t},\n\n\tinsertAfter : function( view ) {\n\n        /**\n         * Fires when a template is loaded.\n         *\n         * @since 1.0.0\n         */\n        app.channel.trigger( 'template:load', this, view.model.get( 'parent' ), view.model.get( 'order' ) );\n    }\n\n} );\n\nmodule.exports = TemplateModel;\n\n\n//# sourceURL=webpack:///./assets/js/src/sidebar/entities/models/template.js?");

/***/ }),

/***/ "./assets/js/src/sidebar/modules/device-preview/device-preview.js":
/*!************************************************************************!*\
  !*** ./assets/js/src/sidebar/modules/device-preview/device-preview.js ***!
  \************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("var $ = window.jQuery,\n    DevicePreviewModule;\n\nDevicePreviewModule = Marionette.Module.extend( {\n\n    device : 'desktop',\n\n    onBeforeStart : function() {\n        var module = this;\n        var api = {\n\n            /**\n             * Returns the current device preview size.\n             *\n             * @since 1.7.4\n             *\n             * @returns {*}\n             */\n            getDevice : function() {\n                return module.device;\n            }\n        };\n\n        app.channel.reply( 'sidebar:device', api.getDevice );\n    },\n\n    /**\n     * Initializes the module.\n     *\n     * @since 1.7.4\n     */\n\tonStart : function() {\n        var module = this;\n        this.$buttons = $( '.tailor-sidebar .devices button' );\n        this.preview = document.querySelector( '.tailor-preview' );\n        this.viewport = this.preview.querySelector( '.tailor-preview__viewport' );\n        this.mediaQueries = window._media_queries;\n\n        //this.setActive( this.$buttons.get(0) );\n        this.setDevice( this.$buttons.get(0).getAttribute( 'data-device' ) );\n\n        this.addEventListeners();\n\n        /**\n         * Fires when the module is initialized.\n         *\n         * @since \n         *\n         * @param this\n         */\n        app.channel.trigger( 'module:devicePreview:ready', this );\n    },\n\n    /**\n     * Adds the required event listeners.\n     *\n     * @since 1.7.4\n     */\n    addEventListeners : function() {\n        this.$buttons.on( 'click', this.onClick.bind( this ) );\n        app.channel.on( 'sidebar:device', this.setDevice.bind(this) );\n    },\n\n    onClick: function( e ) {\n        this.setDevice( e.target.getAttribute( 'data-device' ) );\n    },\n\n    setDevice: function( device ) {\n        this.device = device;\n\n        // Update buttons\n        var $button = this.$buttons.filter( \"[data-device='\" + this.device + \"']\" );\n        this.$buttons.removeClass( 'is-active' ).attr( 'aria-pressed', false );\n        $button.addClass( 'is-active' ).attr( 'aria-pressed', true );\n\n        // Update preview window\n        if ( this.mediaQueries.hasOwnProperty( this.device ) && this.mediaQueries[ this.device ].max ) {\n            this.viewport.style.maxWidth = this.mediaQueries[ this.device ].max;\n        }\n        else {\n            this.viewport.style.maxWidth ='';\n        }\n    }\n} );\n\nmodule.exports = DevicePreviewModule;\n\n\n//# sourceURL=webpack:///./assets/js/src/sidebar/modules/device-preview/device-preview.js?");

/***/ }),

/***/ "./assets/js/src/sidebar/modules/dialog/dialog-region.js":
/*!***************************************************************!*\
  !*** ./assets/js/src/sidebar/modules/dialog/dialog-region.js ***!
  \***************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("var DialogRegion = Backbone.Marionette.Region.extend( {\n\n    /**\n     * Initializes the dialog region.\n     *\n     * @since 1.0.0\n     */\n    initialize : function() {\n        this.$overlay = jQuery( '<div id=\"overlay\"></div>' );\n    },\n\n    /**\n     * Shows the dialog window and adds necessary event listeners.\n     *\n     * @since 1.0.0\n     */\n    onShow : function( view, region, options ) {\n        this.el.classList.add( 'is-visible' );\n        this.$overlay\n            .on( 'click', jQuery.proxy( this.empty, this ) )\n            .appendTo( 'body' );\n    },\n\n    /**\n     * Hides the dialog window and removes event listeners.\n     *\n     * @since 1.0.0\n     */\n    onEmpty : function( view, region, options ) {\n        this.el.classList.remove( 'is-visible' );\n        this.$overlay\n            .off()\n            .detach();\n    }\n\n} );\n\nmodule.exports = DialogRegion;\n\n\n//# sourceURL=webpack:///./assets/js/src/sidebar/modules/dialog/dialog-region.js?");

/***/ }),

/***/ "./assets/js/src/sidebar/modules/dialog/dialog.js":
/*!********************************************************!*\
  !*** ./assets/js/src/sidebar/modules/dialog/dialog.js ***!
  \********************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("var DialogView = __webpack_require__( /*! ./show/dialog */ \"./assets/js/src/sidebar/modules/dialog/show/dialog.js\" ),\n\tDialogModule;\n\nDialogModule = Marionette.Module.extend( {\n\n    /**\n     * Initializes the module.\n     *\n     * @since 1.0.0\n     */\n\tonStart : function() {\n\t\tvar api = {\n\n            /**\n             * Opens the dialog window.\n             *\n             * @since 1.0.0\n             *\n             * @param options\n             */\n\t\t\tshowDialog : function( options ) {\n                app.dialog.show( new DialogView( options ) );\n\t\t\t}\n\t\t};\n\n\t\tthis.listenTo( app.channel, 'dialog:open', api.showDialog );\n\n\t    /**\n\t     * Fires when the module is initialized.\n\t     *\n\t     * @since 1.5.0\n\t     *\n\t     * @param this\n\t     */\n\t    app.channel.trigger( 'module:dialog:ready', this );\n    }\n\n} );\n\nmodule.exports = DialogModule;\n\n//# sourceURL=webpack:///./assets/js/src/sidebar/modules/dialog/dialog.js?");

/***/ }),

/***/ "./assets/js/src/sidebar/modules/dialog/show/dialog.js":
/*!*************************************************************!*\
  !*** ./assets/js/src/sidebar/modules/dialog/show/dialog.js ***!
  \*************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("/**\n * Dialog view for present growl-style notifications to the user.\n *\n * @class\n */\nvar $ = window.jQuery,\n    DialogView;\n\nDialogView = Backbone.Marionette.ItemView.extend( {\n\n    className : 'dialog',\n\n    defaults : {\n        title : '',\n        content : '',\n        button : ''\n    },\n\n    ui : {\n        close : '.js-close',\n        content : '.dialog__content',\n        save : '.js-save'\n    },\n\n    events : {\n        'input' : 'onChange',\n        'change' : 'onChange'\n    },\n\n    triggers : {\n        'click @ui.close' : 'close',\n        'click @ui.save' : 'save'\n    },\n\n    template : '#tmpl-tailor-dialog',\n\n    /**\n     * Provides the required information to the template rendering function.\n     *\n     * @since 1.0.0\n     *\n     * @returns {*}\n     */\n    serializeData : function() {\n\n        return {\n            title : this.title,\n            content : this.content,\n            button : this.button\n        }\n    },\n\n    /**\n     * Initializes the dialog window.\n     *\n     * @since 1.0.0\n     *\n     * @param options\n     */\n    initialize : function( options ) {\n        this.title = options.title || this.defaults.title;\n        this.content = options.content || this.defaults.content;\n        this.button = options.button || this.defaults.button;\n        this.callbacks = {\n            validate : options.onValidate,\n            open : options.onOpen,\n            save : options.onSave,\n            close : options.onClose\n        };\n    },\n\n\t/**\n     * Generate content using the content callback function, if provided.\n     *\n     * @since 1.0.0\n     */\n    onBeforeRender : function() {\n        if ( 'function' == typeof this.content ) {\n            this.content = this.content.call( this );\n        }\n    },\n\n    /**\n     * Triggers the \"onOpen\" and \"onValidate\" callback functions when the dialog window is loaded.\n     *\n     * @since 1.0.0\n     */\n    onDomRefresh : function() {\n        if ( 'function' === typeof this.callbacks.open ) {\n            this.callbacks.open.call( this );\n        }\n\n        this.validate();\n    },\n\n    /**\n     * Triggers the \"onValidate\" callback function when the dialog window is changed.\n     *\n     * @since 1.0.0\n     */\n    onChange : function() {\n        this.validate();\n    },\n\n    /**\n     * Validates the contents of the dialog window.\n     *\n     * If the validation criteria are met, the Save button is enabled.\n     *\n     * @since 1.0.0\n     */\n    validate : function() {\n        if ( 'function' === typeof this.callbacks.validate ) {\n            this.ui.save.prop( 'disabled', ! this.callbacks.validate.call( this ) );\n        }\n    },\n\n    /**\n     * Triggers the \"onSave\" callback function and closes the dialog window.\n     *\n     * @since 1.0.0\n     */\n    onSave : function() {\n        if ( 'function' === typeof this.callbacks.save ) {\n            this.callbacks.save.call( this );\n        }\n\n        this.onClose();\n    },\n\n    /**\n     * Closes the dialog window.\n     *\n     * @since 1.0.0\n     */\n    onClose : function() {\n        if ( 'function' === typeof this.callbacks.close ) {\n            this.callbacks.close.call( this );\n        }\n\n        this.triggerMethod( 'destroy' );\n    }\n\n} );\n\nmodule.exports = DialogView;\n\n\n//# sourceURL=webpack:///./assets/js/src/sidebar/modules/dialog/show/dialog.js?");

/***/ }),

/***/ "./assets/js/src/sidebar/modules/history/history.js":
/*!**********************************************************!*\
  !*** ./assets/js/src/sidebar/modules/history/history.js ***!
  \**********************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("var SnapshotsCollection = __webpack_require__( /*! ../../entities/collections/snapshots */ \"./assets/js/src/sidebar/entities/collections/snapshots.js\" ),\n    SnapshotMenuItem = __webpack_require__( /*! ./show/snapshot-menu-item */ \"./assets/js/src/sidebar/modules/history/show/snapshot-menu-item.js\" ),\n    HistoryModule;\n\nTailor.Items.History = SnapshotMenuItem;\n\nHistoryModule = Marionette.Module.extend( {\n\n    /**\n     * Initializes the module.\n     */\n\tonStart : function( options ) {\n        var module = this;\n\n        module.collection = new SnapshotsCollection();\n        \n        var api = {\n\n            /**\n             * Returns a given history snapsho if an ID is provided, otherwise the snapshot collection.\n             *\n             * @since 1.5.0\n             *\n             * @param id\n             * @returns {*}\n             */\n            getSnapshot : function( id ) {\n                if ( id ) {\n                    return module.collection.findWhere( { id : id } );\n                }\n                return module.collection;\n            }\n        };\n        \n        app.channel.reply( 'sidebar:history', api.getSnapshot );\n\n        this.l10n = options.l10n;\n        this.addEventListeners();\n        \n        /**\n         * Fires when the module is initialized.\n         *\n         * @since 1.5.0\n         *\n         * @param this\n         */\n        app.channel.trigger( 'module:history:ready', this );\n    },\n\n    /**\n     * Adds the required event listeners.\n     *\n     * @since 1.0.0\n     */\n    addEventListeners : function() {\n        this.listenTo( app.channel, 'element:add', this.onAddElement );\n\t    this.listenTo( app.channel, 'element:copy', this.onCopyElement );\n\t    this.listenTo( app.channel, 'element:move', this.onMoveElement );\n        this.listenTo( app.channel, 'modal:apply', this.onEditElement );\n        this.listenTo( app.channel, 'element:delete', this.onDeleteElement );\n        this.listenTo( app.channel, 'element:resize', this.onResizeElement );\n        this.listenTo( app.channel, 'navigation:reorder', this.onReorderElement );\n        this.listenTo( app.channel, 'template:add', this.onAddTemplate );\n        this.listenTo( app.channel, 'history:restore', this.restoreSnapshot );\n        this.listenTo( app.channel, 'history:undo', this.undoStep );\n        this.listenTo( app.channel, 'history:redo', this.redoStep );\n    },\n\n    /**\n     * Creates a new history entry after a new element is added.\n     * \n     * Only show elements in the list of snapshots, templates are added separately\n     *\n     * @since 1.0.0\n     *\n     * @param model\n     */\n    onAddElement : function( model ) {\n        if ( 'library' == model.get( 'collection' ) ) {\n            this.saveSnapshot( this.l10n.added + ' ' + model.get( 'label' ) );\n        }\n    },\n\n    /**\n     * Creates a new history entry after an element is edited.\n     *\n     * @since 1.0.0\n     *\n     * @param modal\n     * @param model\n     */\n    onEditElement : function( modal, model ) {\n        this.saveSnapshot( this.l10n.edited + ' ' + model.get( 'label' ) );\n    },\n\n    /**\n     * Creates a new history entry after an element is copied.\n     *\n     * @since 1.0.0\n     *\n     * @param model\n     */\n    onCopyElement : function( model ) {\n        this.saveSnapshot( this.l10n.copied + ' ' + model.get( 'label' ) );\n    },\n\n    /**\n     * Creates a new history entry after an element is moved.\n     *\n     * @since 1.0.0\n     *\n     * @param model\n     */\n    onMoveElement : function( model ) {\n        this.saveSnapshot( this.l10n.moved + ' ' + model.get( 'label' ) );\n    },\n\n    /**\n     * Creates a new history entry after an element is deleted.\n     *\n     * @since 1.0.0\n     *\n     * @param model\n     */\n    onDeleteElement : function( model ) {\n        this.saveSnapshot( this.l10n.deleted + ' ' + model.get( 'label' ) );\n    },\n\n    /**\n     * Creates a new history entry after an element is resized.\n     *\n     * @since 1.0.0\n     *\n     * @param model\n     */\n    onResizeElement : function( model ) {\n        this.saveSnapshot( this.l10n.resized + ' ' + model.get( 'label' ) );\n    },\n\n    /**\n     * Creates a new history entry after the children of a container are reordered.\n     *\n     * @since 1.0.0\n     *\n     * @param model\n     */\n    onReorderElement : function( model ) {\n        this.saveSnapshot( this.l10n.reordered + ' ' + model.get( 'label' ) );\n    },\n\n    /**\n     * Creates a new history entry after a template is added.\n     *\n     * @since 1.0.0\n     *\n     * @param model\n     */\n    onAddTemplate : function( model ) {\n        this.saveSnapshot( this.l10n.added + ' ' + this.l10n.template + ' - ' + model.get( 'label' ) );\n    },\n\n    /**\n     * Creates a snapshot of the element collection.\n     *\n     * @since 1.0.0\n     *\n     * @param label\n     */\n    saveSnapshot : function( label ) {\n        this.collection.save( label );\n    },\n\n    /**\n     * Restores a snapshot of the element collection.\n     *\n     * @since 1.0.0\n     *\n     * @param timestamp\n     */\n    restoreSnapshot : function( timestamp ) {\n        this.collection.restore( timestamp );\n    },\n\n    /**\n     * Restores the previous history snapshot.\n     *\n     * @since 1.0.0\n     */\n    undoStep : function() {\n        this.collection.undo();\n    },\n\n    /**\n     * Restores the next history snapshot.\n     *\n     * @since 1.0.0\n     */\n    redoStep : function() {\n        this.collection.redo();\n    }\n\n} );\n\nmodule.exports = HistoryModule;\n\n//# sourceURL=webpack:///./assets/js/src/sidebar/modules/history/history.js?");

/***/ }),

/***/ "./assets/js/src/sidebar/modules/history/show/snapshot-menu-item.js":
/*!**************************************************************************!*\
  !*** ./assets/js/src/sidebar/modules/history/show/snapshot-menu-item.js ***!
  \**************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("var $ = Backbone.$,\n    HistoryItem;\n\nHistoryItem = Marionette.ItemView.extend( {\n\n    events : {\n        click : 'restore',\n        keypress : 'onKeyPress'\n    },\n\n    /**\n     * Returns the appropriate template based on the panel type.\n     *\n     * @since 1.0.0\n     *\n     * @returns {string}\n     */\n    template : '#tmpl-tailor-panel-history-item',\n\n    /**\n     * Initializes the item.\n     *\n     * @since 1.0.0\n     */\n    initialize : function() {\n        this.addEventListeners();\n    },\n\n    /**\n     * Adds the required event listeners.\n     *\n     * @since 1.0.0\n     */\n    addEventListeners : function() {\n        this.listenTo( this.model.collection, 'change:active', this.toggleClass );\n    },\n\n\t/**\n\t * Assigns the appropriate class name to the item based on whether it is active.\n\t *\n\t * @since 1.0.0\n\t */\n    onRender : function() {\n        this.toggleClass();\n    },\n\n    /**\n     * Uses the rendered template HTML as the $el.\n     *\n     * @since 1.0.0\n     *\n     * @param html\n     * @returns {exports}\n     */\n    attachElContent : function( html ) {\n        var $el = $( html );\n\n        this.$el.replaceWith( $el );\n        this.setElement( $el );\n        this.el.setAttribute( 'tabindex', 0 );\n\n        return this;\n    },\n\n\t/**\n\t * Restores the associated history entry when the item is selected using the keyboard.\n\t *\n\t * @since 1.0.0\n\t *\n\t * @param e\n\t */\n    onKeyPress : function( e ) {\n        if ( 13 === e.which ) {\n            this.restore();\n        }\n    },\n\n    /**\n     * Restores the history entry.\n     *\n     * @since 1.0.0\n     */\n    restore : function() {\n        var timestamp = this.model.get( 'timestamp' );\n\n\t    /**\n\t     * Fires before a request is made to restore a given history entry.\n\t     *\n\t     * @since 1.0.0\n\t     *\n\t     * @param id\n\t     */\n\t    app.channel.trigger( 'before:history:restore', timestamp );\n\n        /**\n         * Fires after a request is made to restore a given history entry.\n         *\n         * @since 1.0.0\n         *\n         * @param id\n         */\n        app.channel.trigger( 'history:restore', timestamp );\n    },\n\n    /**\n     * Toggles the state of the entry element based on its status.\n     *\n     * @since 1.0.0\n     *\n     * @param model\n     */\n    toggleClass : function( model ) {\n        model = model || this.model.collection.getActive();\n        this.$el.toggleClass( 'is-active', model === this.model );\n    }\n\n} );\n\nmodule.exports = HistoryItem;\n\n\n//# sourceURL=webpack:///./assets/js/src/sidebar/modules/history/show/snapshot-menu-item.js?");

/***/ }),

/***/ "./assets/js/src/sidebar/modules/library/library.js":
/*!**********************************************************!*\
  !*** ./assets/js/src/sidebar/modules/library/library.js ***!
  \**********************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("\nvar LibraryCollection = __webpack_require__( /*! ../../entities/collections/library */ \"./assets/js/src/sidebar/entities/collections/library.js\" ),\n    LibraryMenuItem = __webpack_require__( /*! ./show/library-menu-item */ \"./assets/js/src/sidebar/modules/library/show/library-menu-item.js\" ),\n    LibraryModule;\n\nTailor.Items.Library = LibraryMenuItem;\n\nLibraryModule = Marionette.Module.extend( {\n\n\tonBeforeStart : function( options ) {\n        var collection = new LibraryCollection( options.library );\n        var api = {\n\n            /**\n             * Returns a given library item if a tag is provided, otherwise the library.\n             *\n             * @since 1.0.0\n             *\n             * @param tag\n             * @returns {*}\n             */\n            getLibraryItem : function ( tag ) {\n                if ( tag ) {\n                    return collection.findWhere( { tag : tag } );\n                }\n                return collection;\n            }\n        };\n\n        app.channel.reply( 'sidebar:library', api.getLibraryItem );\n    },\n\n    /**\n     * Initializes the module.\n     *\n     * @since 1.0.0\n     */\n    onStart : function() {\n\n        /**\n         * Fires when the module is initialized.\n         *\n         * @since 1.5.0\n         *\n         * @param this\n         */\n        app.channel.trigger( 'module:library:ready', this );\n    }\n    \n} );\n\nmodule.exports = LibraryModule;\n\n//# sourceURL=webpack:///./assets/js/src/sidebar/modules/library/library.js?");

/***/ }),

/***/ "./assets/js/src/sidebar/modules/library/show/library-menu-item.js":
/*!*************************************************************************!*\
  !*** ./assets/js/src/sidebar/modules/library/show/library-menu-item.js ***!
  \*************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("var $ = Backbone.$,\n    ElementMenuItem;\n\nElementMenuItem = Marionette.ItemView.extend( {\n\n    events : {\n        click : 'onClick',\n        keypress : 'onKeyPress'\n    },\n\n    modelEvents : {\n        'change:match' : 'onSearch'\n    },\n\n    behaviors : {\n        Draggable : {}\n    },\n\n    onClick : function() {\n        var el = this.el;\n\n        if ( el.classList.contains( 'is-inactive') ) {\n            return;\n        }\n\n        var onAnimationEnd = function( e ) {\n            el.removeEventListener( window.animationEndName, onAnimationEnd );\n            el.classList.remove( 'shake' );\n        };\n\n        if ( Modernizr.cssanimations ) {\n            el.addEventListener( window.animationEndName, onAnimationEnd );\n            el.classList.add( 'shake' );\n        }\n\n        Tailor.Notify( window._l10n.dragElement, 'warning' );\n    },\n\n    /**\n     * Returns the appropriate template based on the panel type.\n     *\n     * @since 1.0.0\n     * @returns {string}\n     */\n    getTemplate : function() {\n        return '#tmpl-tailor-panel-library-item';\n    },\n\n    /**\n     * Uses the rendered template HTML as the $el.\n     *\n     * @since 1.0.0\n     * @param html\n     * @returns {exports}\n     */\n    attachElContent : function( html ) {\n        var $el = $( html );\n\n        this.$el.replaceWith( $el );\n        this.setElement( $el );\n\n        return this;\n    },\n\n\t/**\n     * Shows or hides the item based on whether it matches search criteria.\n     *\n     * @since 1.0.0\n     *\n     * @param model\n     */\n    onSearch : function( model ) {\n        this.el.style.display = ! model.get( 'match' ) ? 'none' : 'block';\n    }\n\n} );\n\nmodule.exports = ElementMenuItem;\n\n\n//# sourceURL=webpack:///./assets/js/src/sidebar/modules/library/show/library-menu-item.js?");

/***/ }),

/***/ "./assets/js/src/sidebar/modules/modal/modal-region.js":
/*!*************************************************************!*\
  !*** ./assets/js/src/sidebar/modules/modal/modal-region.js ***!
  \*************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("var ModalRegion = Backbone.Marionette.Region.extend( {\n\n    /**\n     * Displays the modal container and sets the initial modal window position.\n     *\n     * @since 1.0.0\n     *\n     * @param view\n     * @param region\n     * @param options\n     */\n    onShow : function( view, region, options ) {\n        this.el.classList.add( 'is-visible' );\n\n        var rect = this.el.getBoundingClientRect();\n        var width = this.el.style.width ? this.el.style.width : rect.width;\n        this.el.style.width = width + 'px';\n\n        if ( ! this.el.style.height ) {\n            this.el.style.height = ( window.innerHeight - 40 ) + 'px';\n        }\n\n        if ( ! this.el.style.top  ) {\n            this.el.style.top = '20px';\n        }\n\n        if ( ! this.el.style.left ) {\n            if ( document.documentElement.dir && 'rtl' == document.documentElement.dir ) {\n                this.el.style.left = 20 + 'px';\n            }\n            else {\n                this.el.style.left = window.innerWidth - ( rect.width + 20 ) + 'px';\n            }\n        }\n\n        // Update the element class name\n        this.updateClassName( width );\n\n        // Listen to resize events on the modal view\n        this.listenTo( view, 'modal:resize', this.onResize );\n    },\n\n    /**\n     * Responds to changes in the modal width and/or height.\n     *\n     * @since 1.0.0\n     *\n     * @param width\n     * @param height\n     */\n    onResize : function( width, height ) {\n        this.updateClassName( width );\n    },\n\n    /**\n     * Updates the container class name based on the width.\n     *\n     * @since 1.0.0\n     *\n     * @param width\n     */\n    updateClassName : function( width ) {\n        this.$el\n            .toggleClass( 'is-x-small', width < 480 )\n            .toggleClass( 'is-small', ( 481 < width ) && ( width < 767 ) )\n            .toggleClass( 'is-medium', ( 768 < width ) && ( width < 979 ) )\n            .toggleClass( 'is-large', ( 980 < width ) && ( width < 1199 ) )\n            .toggleClass( 'is-x-large', width >= 1200 );\n    },\n\n    /**\n     * Hides the modal container.\n     *\n     * @since 1.0.0\n     *\n     * @param view\n     * @param region\n     * @param options\n     */\n    onEmpty : function( view, region, options ) {\n        this.el.classList.remove( 'is-visible' );\n\t    this.stopListening( view, 'modal:resize', this.onResize );\n    }\n\n} );\n\nmodule.exports = ModalRegion;\n\n//# sourceURL=webpack:///./assets/js/src/sidebar/modules/modal/modal-region.js?");

/***/ }),

/***/ "./assets/js/src/sidebar/modules/modal/modal.js":
/*!******************************************************!*\
  !*** ./assets/js/src/sidebar/modules/modal/modal.js ***!
  \******************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("var ModalView = __webpack_require__( /*! ./show/modal */ \"./assets/js/src/sidebar/modules/modal/show/modal.js\" ),\n\tModalModule;\n\nModalModule = Marionette.Module.extend( {\n\n    /**\n     * Initializes the module.\n     *\n     * @since 1.0.0\n     */\n\tonStart : function() {\n\t\tvar api = {\n\n            /**\n             * Opens a modal window to edit the given element.\n             *\n             * @since 1.0.0\n             *\n             * @param model\n             */\n\t\t\topenModal : function( model ) {\n\n                // Closes the current modal window and prompts the user to save any unsaved changes\n                if ( app.modal.hasView() ) {\n                    if ( model === app.modal.currentView.model ) {\n                        return;\n                    }\n                    app.modal.currentView.triggerMethod( 'close' );\n                }\n\n                app.modal.show( new ModalView( {\n                    model : model\n                } ) );\n\t\t\t},\n\n            /**\n             * Closes the current modal window.\n             *\n             * @since 1.0.0\n             */\n            closeModal : function() {\n                app.modal.empty();\n            }\n\t\t};\n\n\t\tthis.listenTo( app.channel, 'modal:open', api.openModal );\n\t\tthis.listenTo( app.channel, 'elements:reset', api.closeModal );\n\n\t    /**\n\t     * Fires when the module is initialized.\n\t     *\n\t     * @since 1.5.0\n\t     *\n\t     * @param this\n\t     */\n\t    app.channel.trigger( 'module:modal:ready', this );\n    }\n\n} );\n\nmodule.exports = ModalModule;\n\n//# sourceURL=webpack:///./assets/js/src/sidebar/modules/modal/modal.js?");

/***/ }),

/***/ "./assets/js/src/sidebar/modules/modal/show/empty-modal.js":
/*!*****************************************************************!*\
  !*** ./assets/js/src/sidebar/modules/modal/show/empty-modal.js ***!
  \*****************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("var EmptyModalView = Marionette.ItemView.extend( {\n\n    className : 'empty',\n\n    template : '#tmpl-tailor-modal-empty'\n\n} );\n\nmodule.exports = EmptyModalView;\n\n//# sourceURL=webpack:///./assets/js/src/sidebar/modules/modal/show/empty-modal.js?");

/***/ }),

/***/ "./assets/js/src/sidebar/modules/modal/show/empty-section.js":
/*!*******************************************************************!*\
  !*** ./assets/js/src/sidebar/modules/modal/show/empty-section.js ***!
  \*******************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("var EmptySectionView = Marionette.ItemView.extend( {\n\n    className : 'empty',\n\n    template : '#tmpl-tailor-section-default-empty'\n\n} );\n\nmodule.exports = EmptySectionView;\n\n//# sourceURL=webpack:///./assets/js/src/sidebar/modules/modal/show/empty-section.js?");

/***/ }),

/***/ "./assets/js/src/sidebar/modules/modal/show/modal.js":
/*!***********************************************************!*\
  !*** ./assets/js/src/sidebar/modules/modal/show/modal.js ***!
  \***********************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("var SectionCollectionView = __webpack_require__( /*! ./sections */ \"./assets/js/src/sidebar/modules/modal/show/sections.js\" ),\n    NavigationView = __webpack_require__( /*! ./tabs */ \"./assets/js/src/sidebar/modules/modal/show/tabs.js\" ),\n    ModalView;\n\nModalView = Marionette.LayoutView.extend( {\n\n\tclassName : 'modal',\n\n\tui : {\n\t\tclose : '.js-close',\n\t\tapply : '.js-apply'\n\t},\n\n    behaviors : {\n        Resizable : {\n            ui : {\n                handle : '.modal__title'\n            }\n        }\n    },\n\n    triggers : {\n        'click @ui.close' : 'close',\n        'click @ui.apply' : 'apply'\n    },\n\n    modelEvents : {\n        'destroy' : 'destroy'\n    },\n\n\ttemplate : '#tmpl-tailor-modal',\n\n\tregions: {\n        tabs : '#tailor-modal-tabs',\n\t\tsections : '#tailor-modal-sections'\n\t},\n\n    /**\n     * Initializes the modal window.\n     *\n     * @since 1.0.0\n     */\n\tinitialize : function() {\n        this.isModified = false;\n        this.settings = app.channel.request( 'sidebar:settings', this.model );\n        this.addEventListeners();\n\n        /**\n         * Fires when the modal window is initialized.\n         *\n         * @since 1.0.0\n         */\n        app.channel.trigger( 'modal:initialize', this, this.model );\n    },\n\n    /**\n     * Adds the required event listeners.\n     *\n     * @since 1.0.0\n     */\n    addEventListeners : function() {\n        this.listenTo( this.settings, 'change', this.onChange );\n    },\n\n    /**\n     * Renders the modal tabs and sections.\n     *\n     * @since 1.0.0\n     */\n    onRender : function() {\n        var model = this.model;\n        var sections = app.channel.request( 'sidebar:sections', model );\n        var controls = app.channel.request( 'sidebar:controls', model );\n        \n        this.showChildView( 'sections', new SectionCollectionView( {\n            element : model,\n            collection : sections,\n            controls : controls\n        } ) );\n\n        if ( sections.length > 1 ) {\n            this.showChildView( 'tabs', new NavigationView( {\n                collection : sections\n            } ) );\n            this.el.classList.add( 'has-sections' );\n        }\n\n        model.collection.trigger( 'edit', model, true );\n    },\n\n    /**\n     * Sets the initial focus and checks the position of the modal window when it is first shown.\n     *\n     * @since 1.0.0\n     */\n    onShow : function() {\n        this.ui.close.focus();\n    },\n\n    /**\n     * Updates the modal window controls when an element setting is changed.\n     *\n     * @since 1.0.0\n     */\n    onChange : function( setting ) {\n        this.isModified = true;\n        this.ui.apply.attr( 'disabled', false );\n        \n        var model = this.model;\n        if ( ! model.isTracking() ) {\n            model.startTracking();\n        }\n\n        var update = setting.get( 'refresh' );\n        var jsRefresh = update.hasOwnProperty( 'method' ) && 'js' == update['method'];\n        \n        // Check dependencies, if they exist\n        if ( jsRefresh && update.hasOwnProperty( 'dependencies' ) ) {\n            for ( var settingId in update['dependencies'] ) {\n                if (\n                    update['dependencies'].hasOwnProperty( settingId ) &&\n                    _.has( update['dependencies'][ settingId ], 'condition' ) &&\n                    _.has( update['dependencies'][ settingId ], 'value' )\n                ) {\n                    var targetSetting = setting.collection.get( settingId );\n                    if ( targetSetting && ! Tailor.Helpers.checkCondition(\n                            update['dependencies'][ settingId ]['condition'],\n                            targetSetting.get( 'value' ),\n                            update['dependencies'][ settingId ]['value']\n                        )\n                    ) {\n                        jsRefresh = false;\n                        break;\n                    }\n                }\n            }\n        }\n\n        model.set( 'atts', this.atts(), { silent : jsRefresh } );\n        \n        if ( jsRefresh ) {\n\n\t        /**\n\t         * Triggers an event on the element model to inform it of a change to the setting.\n             *\n             * @since 1.5.0\n             */\n            model.trigger( 'change:setting', setting, model );\n        }\n\n        /**\n         * Resets the canvas when previewing an element.\n         *\n         * @since 1.4.1\n         */\n        app.channel.trigger( 'canvas:reset' );\n    },\n\n    /**\n     * Closes the modal window and applies changes.\n     *\n     * @since 1.0.0\n     */\n    onApply : function() {\n        this.model.stopTracking();\n\t    this.model.set( 'atts', this.atts() );\n\n        /**\n         * Fires when element settings are applied.\n         *\n         * @since 1.0.0\n         */\n        app.channel.trigger( 'modal:apply', this, this.model );\n\n        this.triggerMethod( 'destroy' );\n    },\n\n    /**\n     * Closes the modal window.\n     *\n     * The user is prompted to apply changes, if changes have been made (and not already previewed).\n     *\n     * @since 1.0.0\n     */\n    onClose : function() {\n        if ( this.isModified ) {\n            var applyChanges = confirm( window._l10n.confirmElement );\n\n            if ( true === applyChanges ) {\n                this.triggerMethod( 'apply' );\n            }\n            else {\n                this.model.resetAttributes();\n            }\n        }\n\n        /**\n         * Fires when the modal window is closed.\n         *\n         * @since 1.0.0\n         */\n        app.channel.trigger( 'modal:close', this );\n\n        this.triggerMethod( 'destroy' );\n    },\n\n    /**\n     * Triggers an event when the modal window is destroyed.\n     *\n     * @since 1.0.0\n     */\n    onDestroy : function() {\n        this.model.collection.trigger( 'edit', this.model, false );\n\n        /**\n         * Fires when the modal window is destroyed.\n         *\n         * @since 1.0.0\n         */\n        app.channel.trigger( 'modal:destroy', this, this.model );\n    },\n\n    /**\n     * Returns the current setting values.\n     *\n     * @since 1.0.0\n     *\n     * @returns {{}}\n     */\n    atts : function() {\n        var atts = {};\n        this.settings.each( function( setting ) {\n            var value = setting.get( 'value' );\n            if ( null !== value ) {\n                atts[ setting.get( 'id' ) ] = value;\n            }\n        }, this );\n        return atts;\n    }\n\n} );\n\nmodule.exports = ModalView;\n\n//# sourceURL=webpack:///./assets/js/src/sidebar/modules/modal/show/modal.js?");

/***/ }),

/***/ "./assets/js/src/sidebar/modules/modal/show/section.js":
/*!*************************************************************!*\
  !*** ./assets/js/src/sidebar/modules/modal/show/section.js ***!
  \*************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("var ControlCollectionView = Marionette.CollectionView.extend( {\n\n\ttagName : 'ul',\n\n    className : 'controls controls--modal',\n\n    emptyView : __webpack_require__( /*! ./empty-section */ \"./assets/js/src/sidebar/modules/modal/show/empty-section.js\" ),\n\n    /**\n     * Returns the appropriate child view based on the panel type.\n     *\n     * @since 1.0.0\n     *\n     * @param child\n     * @returns {*|exports|module.exports}\n     */\n    getChildView : function( child ) {\n        return Tailor.lookup( child.get( 'type' ), false, 'Controls' );\n    },\n\n    /**\n     * Returns the appropriate set of options for the child view.\n     *\n     * @since 1.0.0\n     *\n     * @param model\n     * @param index\n     * @returns {{model: *}}\n     */\n    childViewOptions : function( model, index ) {\n        var options = { model : model };\n        \n        if ( 'list' === model.get( 'type' ) ) {\n            options.element = this.element;\n            options.collection = this.element.collection;\n        }\n\n        return options;\n    },\n\n    /**\n     * Filters the collection to ensure that only the appropriate children are displayed.\n     *\n     * @since 1.0.0\n     *\n     * @param child\n     * @param index\n     * @param collection\n     * @returns {boolean}\n     */\n    filter : function( child, index, collection ) {\n        return child.get( 'section' ) === this.model.get( 'id' )\n    },\n\n    /**\n     * Initializes the modal section.\n     *\n     * @since 1.0.0\n     *\n     * @param options\n     */\n    initialize : function( options ) {\n        this.model = options.model;\n        this.element = options.element;\n\n        this.addEventListeners();\n    },\n\n    /**\n     * Adds the required event listeners.\n     *\n     * @since 1.0.0\n     */\n    addEventListeners : function() {\n        this.listenTo( this.model.collection, 'select', this.onSelect );\n    },\n\n\t/**\n     * Toggles the section visibility when a section tab is selected.\n     *\n     * @since 1.0.0\n     *\n     * @param model\n     */\n    onSelect : function( model ) {\n        this.$el.toggle( model === this.model );\n    }\n\n} );\n\nmodule.exports = ControlCollectionView;\n\n//# sourceURL=webpack:///./assets/js/src/sidebar/modules/modal/show/section.js?");

/***/ }),

/***/ "./assets/js/src/sidebar/modules/modal/show/sections.js":
/*!**************************************************************!*\
  !*** ./assets/js/src/sidebar/modules/modal/show/sections.js ***!
  \**************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("var SectionCollectionView = Marionette.CollectionView.extend( {\n\n    childView : __webpack_require__( /*! ./section */ \"./assets/js/src/sidebar/modules/modal/show/section.js\" ),\n\n    emptyView : __webpack_require__( /*! ./empty-modal */ \"./assets/js/src/sidebar/modules/modal/show/empty-modal.js\" ),\n\n    /**\n     * Returns the appropriate set of options for the child view.\n     *\n     * @since 1.0.0\n     *\n     * @param model\n     * @param index\n     * @returns {{model: *}}\n     */\n    childViewOptions : function( model, index ) {\n\n        return {\n            model : model,\n            element : this.element,\n            collection : this.controls\n        };\n    },\n\n    initialize : function( options ) {\n        this.element = options.element;\n        this.controls = options.controls;\n    }\n\n} );\n\nmodule.exports = SectionCollectionView;\n\n//# sourceURL=webpack:///./assets/js/src/sidebar/modules/modal/show/sections.js?");

/***/ }),

/***/ "./assets/js/src/sidebar/modules/modal/show/tab.js":
/*!*********************************************************!*\
  !*** ./assets/js/src/sidebar/modules/modal/show/tab.js ***!
  \*********************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("var NavigationItemView = Marionette.ItemView.extend( {\n\n    tagName : 'li',\n\n    className : 'tab',\n\n    attributes : {\n        'tabindex' : 0\n    },\n\n    events : {\n        'click' : 'select',\n        'keypress' : 'onKeyPress'\n    },\n\n    template : '#tmpl-tailor-modal-item',\n\n    /**\n     * Selects the tab.\n     *\n     * @since 1.0.0\n     */\n    select : function() {\n        this.triggerMethod( 'select' );\n    },\n\n\t/**\n\t * Triggers a select event on the model.\n\t *\n\t * @since 1.0.0\n\t */\n    onSelect : function() {\n        this.model.trigger( 'select', this.model );\n        this.el.focus();\n    },\n\n    /**\n     * Triggers select events, if the Enter key is pressed.\n     *\n     * @since 1.0.0\n     *\n     * @param e\n     */\n    onKeyPress : function( e ) {\n        if ( 13 === e.which ) {\n\t        this.select();\n        }\n    }\n\n} );\n\nmodule.exports = NavigationItemView;\n\n//# sourceURL=webpack:///./assets/js/src/sidebar/modules/modal/show/tab.js?");

/***/ }),

/***/ "./assets/js/src/sidebar/modules/modal/show/tabs.js":
/*!**********************************************************!*\
  !*** ./assets/js/src/sidebar/modules/modal/show/tabs.js ***!
  \**********************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("var NavigationItemView = __webpack_require__( /*! ./tab */ \"./assets/js/src/sidebar/modules/modal/show/tab.js\" ),\n    NavigationView;\n\nNavigationView = Marionette.CollectionView.extend( {\n\n    tagName : 'ul',\n\n    className : 'tabs',\n\n    childView : NavigationItemView,\n\n    childEvents : {\n        select : 'onSelect'\n    },\n\n\t/**\n     * Shows the first control section (tab).\n     *\n     * @since 1.0.0\n     */\n    onRender : function() {\n        if ( this.collection.length > 0 ) {\n            this.children.first().triggerMethod( 'select' );\n        }\n    },\n\n\t/**\n     * Shows the selected control section (tab).\n     *\n     * @since 1.0.0\n     *\n     * @param view\n     */\n    onSelect : function( view ) {\n        this.children.each( function( child ) {\n            child.$el.toggleClass( 'is-active', view === child );\n        } );\n    }\n\n} );\n\nmodule.exports = NavigationView;\n\n//# sourceURL=webpack:///./assets/js/src/sidebar/modules/modal/show/tabs.js?");

/***/ }),

/***/ "./assets/js/src/sidebar/modules/notifications/notifications.js":
/*!**********************************************************************!*\
  !*** ./assets/js/src/sidebar/modules/notifications/notifications.js ***!
  \**********************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("var Notify = window.Tailor.Notify,\n    NotificationsModule;\n\nNotificationsModule = Marionette.Module.extend( {\n\n    /**\n     * Initializes the module.\n     *\n     * @since 1.0.0\n     */\n\tonStart : function() {\n        this.addEventListeners();\n\n        /**\n         * Fires when the module is initialized.\n         *\n         * @since 1.5.0\n         *\n         * @param this\n         */\n        app.channel.trigger( 'module:notifications:ready', this );\n    },\n\n    /**\n     * Adds the required event listeners.\n     *\n     * @since 1.0.0\n     */\n    addEventListeners : function() {\n        var l10n = window._l10n;\n        \n        // Trigger a notification when the page is saved\n        this.listenTo( app.channel, 'sidebar:save', function() {\n            Notify( l10n.savedPage, 'success' );\n        } );\n        \n        // Trigger a notification when the canvas is restored\n        this.listenTo( app.channel, 'elements:restore', function() {\n            Notify( l10n.restoreElements, 'success' );\n        } );\n        \n        // Trigger a notification when an element is deleted\n        this.listenTo( app.channel, 'element:delete', function() {\n            Notify( l10n.deletedElement, 'success' );\n        } );\n        \n        // Trigger a notification when a template is saved\n        this.listenTo( app.channel, 'template:save', function() {\n            Notify( l10n.savedTemplate, 'success' );\n        } );\n        \n        // Trigger a notification when a template is imported\n        this.listenTo( app.channel, 'template:import', function() {\n            Notify( l10n.importedTemplate, 'success' );\n        } );\n        \n        // Trigger a notification when a template is added to the page\n        this.listenTo( app.channel, 'template:add', function() {\n            Notify( l10n.addedTemplate, 'success' );\n        } );\n        \n        // Trigger a notification when a template is deleted\n        this.listenTo( app.channel, 'template:delete', function() {\n            Notify( l10n.deletedTemplate, 'success' );\n        } );\n    }\n\n} );\n\nmodule.exports = NotificationsModule;\n\n\n//# sourceURL=webpack:///./assets/js/src/sidebar/modules/notifications/notifications.js?");

/***/ }),

/***/ "./assets/js/src/sidebar/modules/panels/panels.js":
/*!********************************************************!*\
  !*** ./assets/js/src/sidebar/modules/panels/panels.js ***!
  \********************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("var PanelCollection = __webpack_require__( /*! ../../entities/collections/panels */ \"./assets/js/src/sidebar/entities/collections/panels.js\" ),\n    PanelLayoutView = __webpack_require__( /*! ./show/layout */ \"./assets/js/src/sidebar/modules/panels/show/layout.js\" ),\n    PanelMenuItem = __webpack_require__( /*! ./show/panel-menu-item */ \"./assets/js/src/sidebar/modules/panels/show/panel-menu-item.js\" ),\n    PanelsModule;\n\nTailor.Items.Panels = PanelMenuItem;\n\nPanelsModule = Marionette.Module.extend( {\n\n    onBeforeStart : function( options ) {\n        var module = this;\n\n        module.collection = new PanelCollection( options.panels );\n\n        var api = {\n\n            /**\n             * Returns a given panel if an ID is provided, otherwise the panel collection.\n             *\n             * @since 1.0.0\n             *\n             * @param id\n             * @returns {*}\n             */\n            getPanels : function( id ) {\n                if ( id ) {\n                    return module.collection.findWhere( { id : id } )\n                }\n                return module.collection;\n            }\n        };\n\n        app.channel.reply( 'sidebar:panels', api.getPanels );\n    },\n\n    /**\n     * Initializes the module.\n     *\n     * @since 1.0.0\n     */\n    onStart : function() {\n        \n        app.content.show( new PanelLayoutView( {\n            panels :    app.channel.request( 'sidebar:panels' ),\n            sections :  app.channel.request( 'sidebar:sections' ),\n            controls :  app.channel.request( 'sidebar:controls' ),\n            settings :  app.channel.request( 'sidebar:settings' )\n        } ) );\n\n        /**\n         * Fires when the module is initialized.\n         *\n         * @since 1.5.0\n         *\n         * @param this\n         */\n        app.channel.trigger( 'module:panels:ready', this );\n    }\n\n} );\n\nmodule.exports = PanelsModule;\n\n\n//# sourceURL=webpack:///./assets/js/src/sidebar/modules/panels/panels.js?");

/***/ }),

/***/ "./assets/js/src/sidebar/modules/panels/show/layout.js":
/*!*************************************************************!*\
  !*** ./assets/js/src/sidebar/modules/panels/show/layout.js ***!
  \*************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("var PanelsView = __webpack_require__( /*! ./panels */ \"./assets/js/src/sidebar/modules/panels/show/panels.js\" ),\n    PanelLayoutView;\n\nPanelLayoutView = Marionette.LayoutView.extend( {\n\n    ui: {\n        pageTitle : '.back-button'\n    },\n\n    className : 'tailor-sidebar__layout',\n\n    regions : {\n        panels : \"#tailor-sidebar-home\",\n        panel : \"#tailor-sidebar-panel\",\n        section : \"#tailor-sidebar-section\"\n    },\n\n    childEvents : {\n        'show:panel' : 'showPanel',\n        'show:section' : 'showSection',\n        'back:home' : 'displayHome',\n        'back:panel' : 'displayPanel'\n    },\n\n    template : function() {\n        return document.getElementById( 'tmpl-tailor-sidebar-layout' ).innerHTML;\n    },\n\n    /**\n     * Initializes the layout view.\n     *\n     * @since 1.0.0\n     */\n    initialize : function( options ) {\n        this.panels = options.panels;\n        this.sections = options.sections;\n        this.controls = options.controls;\n        this.settings = options.settings;\n    },\n\n\t/**\n     * Renders the panels.\n     *\n     * @since 1.0.0\n     */\n    onRender : function() {\n        this.showChildView( 'panels', new PanelsView( {\n            collection : this.panels\n        } ) );\n    },\n\n\t/**\n     * Shows a given panel.\n     *\n     * @since 1.0.0\n     *\n     * @param view\n     */\n    showPanel : function( view ) {\n        this.displayPanel();\n\n        var collection = app.channel.request( 'sidebar:' + view.model.get( 'type' ) );\n        var PanelView = Tailor.lookup( view.model.get( 'type' ), false, 'Panels' );\n        \n        this.showChildView( 'panel', new PanelView( {\n            model : view.model,\n            collection : collection\n        } ) );\n    },\n\n\t/**\n     * Shows a given section.\n     *\n     * @since 1.0.0\n     *\n     * @param view\n     */\n    showSection : function( view ) {\n        this.el.classList.add( 'section-visible' );\n        this.el.classList.remove( 'panel-visible' );\n\n        var SectionView = Tailor.lookup( view.model.get( 'type' ), false, 'Sections' );\n        this.showChildView( 'section', new SectionView( {\n            model : view.model,\n            collection : this.controls,\n            panel : this.panels.findWhere( { id : view.model.get( 'panel' ) } )\n        } ) );\n    },\n\n\t/**\n     * Shows the initial Home view.\n     *\n     * @since 1.0.0\n     *\n     * @param view\n     */\n    displayHome : function( view ) {\n        this.el.classList.remove( 'panel-visible' );\n        this.el.classList.remove( 'section-visible' );\n\n        if ( view ) {\n            view.model.trigger( 'focus' );\n        }\n    },\n\n\t/**\n     * Shows a given panel.\n     *\n     * @since 1.0.0\n     *\n     * @param view\n     */\n    displayPanel : function( view ) {\n        this.el.classList.remove( 'section-visible' );\n        this.el.classList.add( 'panel-visible' );\n\n        if ( view ) {\n            view.model.trigger( 'focus' );\n        }\n    }\n\n} );\n\nmodule.exports = PanelLayoutView;\n\n\n//# sourceURL=webpack:///./assets/js/src/sidebar/modules/panels/show/layout.js?");

/***/ }),

/***/ "./assets/js/src/sidebar/modules/panels/show/panel-menu-item.js":
/*!**********************************************************************!*\
  !*** ./assets/js/src/sidebar/modules/panels/show/panel-menu-item.js ***!
  \**********************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("var $ = Backbone.$,\n\tPanelItem;\n\nPanelItem = Marionette.ItemView.extend( {\n\n    events : {\n        click : 'onClick',\n        keypress : 'onKeyPress'\n    },\n\n    modelEvents : {\n        focus : 'onFocus'\n    },\n\n    template : '#tmpl-tailor-panel-default-item',\n\n    /**\n     * Uses the rendered template HTML as the $el.\n     *\n     * @since 1.0.0\n     * @param html\n     * @returns {exports}\n     */\n    attachElContent : function( html ) {\n        var $el = $( html );\n\n        this.$el.replaceWith( $el );\n        this.setElement( $el );\n        this.el.setAttribute( 'tabindex', 0 );\n\n        return this;\n    },\n\n\t/**\n\t * Displays the associated panel when the item is clicked.\n\t *\n\t * @since 1.0.0\n\t */\n    onClick : function() {\n        this.triggerMethod( 'show:panel' );\n    },\n\n\t/**\n\t * Displays the associated panel when the item is selected using the keyboard.\n\t *\n\t * @since 1.0.0\n\t */\n    onKeyPress : function( e ) {\n        if ( 13 === e.which ) {\n            this.triggerMethod( 'show:panel' );\n        }\n    },\n\n\t/**\n\t * Sets focus on the list item.\n\t *\n\t * @since 1.0.0\n\t */\n    onFocus : function() {\n        this.el.focus();\n    }\n\n} );\n\nmodule.exports = PanelItem;\n\n\n//# sourceURL=webpack:///./assets/js/src/sidebar/modules/panels/show/panel-menu-item.js?");

/***/ }),

/***/ "./assets/js/src/sidebar/modules/panels/show/panels-empty.js":
/*!*******************************************************************!*\
  !*** ./assets/js/src/sidebar/modules/panels/show/panels-empty.js ***!
  \*******************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("var EmptyPanelView = Marionette.ItemView.extend( {\n\n    className : 'empty',\n\n    template : '#tmpl-tailor-home-empty'\n\n} );\n\nmodule.exports = EmptyPanelView;\n\n//# sourceURL=webpack:///./assets/js/src/sidebar/modules/panels/show/panels-empty.js?");

/***/ }),

/***/ "./assets/js/src/sidebar/modules/panels/show/panels.js":
/*!*************************************************************!*\
  !*** ./assets/js/src/sidebar/modules/panels/show/panels.js ***!
  \*************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("var PanelsView = Marionette.CompositeView.extend( {\n\n    getChildView : function() {\n        return Tailor.lookup( 'panels', false, 'Items' );\n    },\n\n    childViewContainer : '#items',\n\n    emptyView : __webpack_require__( /*! ./panels-empty */ \"./assets/js/src/sidebar/modules/panels/show/panels-empty.js\" ),\n\n    behaviors : {\n        Panel : {}\n    },\n\n    /**\n     * Returns the appropriate template based on the panel type.\n     *\n     * @since 1.0.0\n     * @returns {string}\n     */\n    template : '#tmpl-tailor-home'\n\n} );\n\nmodule.exports = PanelsView;\n\n//# sourceURL=webpack:///./assets/js/src/sidebar/modules/panels/show/panels.js?");

/***/ }),

/***/ "./assets/js/src/sidebar/modules/sections/sections.js":
/*!************************************************************!*\
  !*** ./assets/js/src/sidebar/modules/sections/sections.js ***!
  \************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("\nvar SectionCollection = __webpack_require__( /*! ../../entities/collections/sections */ \"./assets/js/src/sidebar/entities/collections/sections.js\" ),\n    DefaultMenuItem = __webpack_require__( /*! ./show/default-menu-item */ \"./assets/js/src/sidebar/modules/sections/show/default-menu-item.js\" ),\n    SectionsModule;\n\nTailor.Items.Default = DefaultMenuItem;\n\nSectionsModule = Marionette.Module.extend( {\n\n\tonBeforeStart : function( options ) {\n        var module = this;\n\n        module.collection = {\n            sidebar : new SectionCollection( options.sections )\n        };\n\n\t\tvar api = {\n\n            /**\n             * Returns the collection of sections for a given element.\n             *\n             * If no element model is is provided, the sidebar sections collection is returned.\n             *\n             * @since 1.0.0\n             *\n             * @param model\n             * @returns {*}\n             */\n            getSections : function( model ) {\n\n                // Return the sidebar section collection if no element is provided\n                if ( ! model ) {\n                    return module.collection['sidebar'];\n                }\n\n                var cid = model.cid;\n\n                // Create the element control collection if it doesn't already exist\n                if ( ! module.collection.hasOwnProperty( cid ) ) {\n                    var itemDefinition = app.channel.request( 'sidebar:library', model.get( 'tag' ) );\n                    var sections = itemDefinition.get( 'sections' ) || [];\n                    module.collection[ cid ] = new SectionCollection( sections );\n                }\n\n                // Return the element control collection\n                return module.collection[ cid ];\n            }\n\t\t};\n\n        app.channel.reply( 'sidebar:sections sidebar:default', api.getSections );\n    },\n\n    /**\n     * Initializes the module.\n     *\n     * @since 1.5.0\n     */\n    onStart: function() {\n\n        /**\n         * Fires when the module is initialized.\n         *\n         * @since 1.5.0\n         *\n         * @param this\n         */\n        app.channel.trigger( 'module:sections:ready', this );\n    }\n\n} );\n\nmodule.exports = SectionsModule;\n\n//# sourceURL=webpack:///./assets/js/src/sidebar/modules/sections/sections.js?");

/***/ }),

/***/ "./assets/js/src/sidebar/modules/sections/show/default-menu-item.js":
/*!**************************************************************************!*\
  !*** ./assets/js/src/sidebar/modules/sections/show/default-menu-item.js ***!
  \**************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("var $ = Backbone.$,\n    DefaultItem;\n\nDefaultItem = Marionette.ItemView.extend( {\n\n    events : {\n        click : 'onClick',\n        keypress : 'onKeyPress'\n    },\n\n    modelEvents : {\n        'focus' : 'onFocus'\n    },\n\n    /**\n     * Returns the appropriate template based on the panel type.\n     *\n     * @since 1.0.0\n     * @returns {string}\n     */\n    template : '#tmpl-tailor-panel-default-item',\n\n    /**\n     * Uses the rendered template HTML as the $el.\n     *\n     * @since 1.0.0\n     * @param html\n     * @returns {exports}\n     */\n    attachElContent : function( html ) {\n        var $el = $( html );\n        this.$el.replaceWith( $el );\n        this.setElement( $el );\n        this.el.setAttribute( 'tabindex', 0 );\n\n        return this;\n    },\n\n\t/**\n\t * Displays the associated section when the item is clicked.\n\t *\n\t * @since 1.0.0\n\t */\n    onClick : function() {\n        this.triggerMethod( 'show:section' );\n    },\n\n\t/**\n\t * Displays the associated section when the item is selected using the keyboard.\n\t *\n\t * @since 1.0.0\n\t */\n    onKeyPress : function( e ) {\n        if ( 13 === e.which ) {\n            this.triggerMethod( 'show:section' );\n        }\n    },\n\n\t/**\n\t * Sets focus on the list item.\n\t *\n\t * @since 1.0.0\n\t */\n\tonFocus : function() {\n\t\tthis.el.focus();\n\t}\n\n} );\n\nmodule.exports = DefaultItem;\n\n\n//# sourceURL=webpack:///./assets/js/src/sidebar/modules/sections/show/default-menu-item.js?");

/***/ }),

/***/ "./assets/js/src/sidebar/modules/settings/settings.js":
/*!************************************************************!*\
  !*** ./assets/js/src/sidebar/modules/settings/settings.js ***!
  \************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("\nvar SettingCollection = __webpack_require__( /*! ../../entities/collections/settings */ \"./assets/js/src/sidebar/entities/collections/settings.js\" ),\n    ControlCollection = __webpack_require__( /*! ../../entities/collections/controls */ \"./assets/js/src/sidebar/entities/collections/controls.js\" ),\n    SettingsModule;\n\nSettingsModule = Marionette.Module.extend( {\n\n    onBeforeStart : function( options ) {\n        var module = this;\n\n        module.settings = {\n            sidebar : new SettingCollection( options.settings )\n        };\n        \n        module.controls = {\n            sidebar : new ControlCollection( options.controls, {\n                silent : false,\n                settings : module.settings['sidebar']\n            } )\n        };\n        \n        var api = {\n\n            /**\n             * Returns the collection of controls for a given element.\n             *\n             * If no element model is is provided, the sidebar control collection is returned.\n             *\n             * @since 1.0.0\n             *\n             * @param model\n             * @returns {*}\n             */\n            getControls : function( model ) {\n\n                // Return the sidebar control collection if no element is provided\n                if ( ! model ) {\n                    return module.controls['sidebar'];\n                }\n\n                var cid = model.cid;\n\n                // Create the element control collection if it doesn't already exist\n                if ( ! module.controls.hasOwnProperty( cid ) ) {\n                    var itemDefinition = app.channel.request( 'sidebar:library', model.get( 'tag' ) );\n                    var controls = itemDefinition.get( 'controls' ) || [];\n                    var settings = api.getSettings( model );\n\n                    module.controls[ cid ] = new ControlCollection( controls, {\n                        silent : false,\n                        settings : settings\n                    } );\n                }\n\n                // Return the element control collection\n                return module.controls[ cid ];\n            },\n\n            /**\n             * Returns the collection of settings for a given element.\n             *\n             * If no element model is is provided, the sidebar settings collection is returned.\n             *\n             * @since 1.0.0\n             *\n             * @param model\n             * @returns {*}\n             */\n            getSettings : function( model ) {\n\n                // Return the sidebar control collection if no element is provided\n                if ( ! model ) {\n                    return module.settings['sidebar'];\n                }\n\n                var cid = model.cid;\n\n                // Create the element control collection if it doesn't already exist\n                if ( ! module.settings.hasOwnProperty( cid ) ) {\n                    var itemDefinition = app.channel.request( 'sidebar:library', model.get( 'tag' ) );\n                    var settings = itemDefinition.get( 'settings' ) || [];\n\n                    module.settings[ cid ] = new SettingCollection( settings, { element : model } );\n                }\n\n                module.settings[ cid ].load();\n\n                // Return the element control collection\n                return module.settings[ cid ];\n            }\n        };\n\n        app.channel.reply( 'sidebar:controls', api.getControls );\n        app.channel.reply( 'sidebar:settings', api.getSettings );\n\n        this.listenTo( module.settings['sidebar'], 'change', this.onChangeSetting );\n    },\n\n    /**\n     * Initializes the module.\n     */\n    onStart : function() {\n\n        /**\n         * Fires when the module is initialized.\n         *\n         * @since 1.5.0\n         *\n         * @param this\n         */\n        app.channel.trigger( 'module:settings:ready', this );\n    },\n\n    /**\n     * Triggers an event on the app communication channel when a sidebar setting changes.\n     *\n     * @since 1.0.0\n     *\n     * @param setting\n     */\n    onChangeSetting : function( setting ) {\n\n        /**\n         * Fires when a sidebar setting changes.\n         *\n         * @since 1.0.0\n         */\n        app.channel.trigger( 'sidebar:setting:change', setting );\n    }\n\n} );\n\nmodule.exports = SettingsModule;\n\n//# sourceURL=webpack:///./assets/js/src/sidebar/modules/settings/settings.js?");

/***/ }),

/***/ "./assets/js/src/sidebar/modules/templates/show/template-menu-item.js":
/*!****************************************************************************!*\
  !*** ./assets/js/src/sidebar/modules/templates/show/template-menu-item.js ***!
  \****************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("var $ = Backbone.$,\n    l10n = window._l10n,\n    TemplateMenuItem;\n\nTemplateMenuItem = Marionette.ItemView.extend( {\n\n    ui : {\n        'delete' : '.js-delete-template',\n        'download' : '.js-download-template',\n        'preview' : '.js-preview-template'\n    },\n\n    events : {\n        'click' : 'onClick'\n    },\n\n    modelEvents : {\n        'change:match' : 'onSearch'\n    },\n\n    behaviors : {\n        Draggable : {}\n    },\n\n    onClick : function( e ) {\n        switch ( e.target ) {\n            case this.ui.download.get( 0 ):\n                this.download();\n                break;\n\n            case this.ui.delete.get( 0 ):\n                this.delete();\n                break;\n\n            case this.ui.preview.get( 0 ):\n                this.preview();\n                break;\n\n            default:\n                var el = this.el;\n                var onAnimationEnd = function( e ) {\n                    el.removeEventListener( window.animationEndName, onAnimationEnd );\n                    el.classList.remove( 'shake' );\n                };\n                if ( Modernizr.cssanimations ) {\n                    el.addEventListener( window.animationEndName, onAnimationEnd );\n                    el.classList.add( 'shake' );\n                }\n                Tailor.Notify( l10n.dragTemplate, 'warning' );\n        }\n    },\n\n    /**\n     * Returns the appropriate template based on the panel type.\n     *\n     * @since 1.0.0\n     * @returns {string}\n     */\n    getTemplate : function() {\n        return '#tmpl-tailor-panel-templates-item';\n    },\n\n    /**\n     * Uses the rendered template HTML as the $el.\n     *\n     * @since 1.0.0\n     * @param html\n     * @returns {exports}\n     */\n    attachElContent : function( html ) {\n        var $el = $( html );\n\n        this.$el.replaceWith( $el );\n        this.setElement( $el );\n        this.el.setAttribute( 'tabindex', 0 );\n\n        return this;\n    },\n\n    /**\n     * Downloads the template to a JSON file.\n     *\n     * @since 1.0.0\n     */\n    download : function() {\n        var item = this;\n        var id = item.model.get( 'id' );\n\n        window.ajax.send( 'tailor_load_template', {\n            data : {\n                template_id : id,\n                nonce : window._nonces.loadTemplate\n            },\n\n\t        /**\n             * Downloads the template to a JSON file.\n             *\n             * @since 1.0.0\n             *\n             * @param response\n             */\n            success : function( response ) {\n                var model = item.model;\n                var models = response.models;\n                var label = model.get( 'label' );\n\n                id = label.replace( ' ', '-' ).toLowerCase();\n\n                var json = {\n                    id : id,\n                    label : label,\n                    tag : model.get( 'tag' ),\n                    type : model.get( 'type' ),\n                    models : models\n                };\n\n                json = \"data:text/json;charset=utf-8,\" + encodeURIComponent( JSON.stringify( json ) );\n\n                var a = document.getElementById( 'download-template' );\n                a.setAttribute( 'href', json );\n                a.setAttribute( 'download', 'tailor-template-' + id + '-' + Date.now() + '.json' );\n                a.click();\n\n                /**\n                 * Fires when a template is downloaded.\n                 *\n                 * @since 1.5.0\n                 */\n                app.channel.trigger( 'template:download' );\n            }\n        } );\n    },\n\n    /**\n     * Deletes the template.\n     *\n     * @since 1.0.0\n     */\n    delete : function() {\n        var that = this;\n\n        window.ajax.send( 'tailor_delete_template', {\n            data : {\n                id : that.model.get( 'id' ),\n                nonce : window._nonces.deleteTemplate\n            },\n\n            /**\n             * Destroys the template list item when the template is successfully deleted.\n             *\n             * @since 1.0.0\n             */\n            success : function() {\n                that.$el.slideUp( function() {\n                    that.model.trigger( 'destroy', that.model );\n                } );\n\n                /**\n                 * Fires when a template is deleted.\n                 *\n                 * @since 1.0.0\n                 */\n                app.channel.trigger( 'template:delete' );\n            }\n        } );\n    },\n\n    /**\n     * Previews the template.\n     *\n     * @since 1.0.0\n     */\n    preview : function() {\n\n        window._urls.view += ( window._urls.view.split('?')[1] ? '&':'?') + 'template_preview=1&template_id=' + this.model.get( 'id' );\n        window.open( window._urls.view, '_blank' );\n\n        /**\n         * Fires when a template is previewed.\n         *\n         * @since 1.5.0\n         */\n        app.channel.trigger( 'template:preview' );\n    },\n\n\n    /**\n     * Determines whether the template should be visible based on search terms entered in the template search bar.\n     *\n     * @since 1.0.0\n     *\n     * @param model\n     */\n    onSearch : function( model ) {\n        this.el.style.display = ! model.get( 'match' ) ? 'none' : 'block';\n    }\n\n} );\n\nmodule.exports = TemplateMenuItem;\n\n//# sourceURL=webpack:///./assets/js/src/sidebar/modules/templates/show/template-menu-item.js?");

/***/ }),

/***/ "./assets/js/src/sidebar/modules/templates/show/templates-panel.js":
/*!*************************************************************************!*\
  !*** ./assets/js/src/sidebar/modules/templates/show/templates-panel.js ***!
  \*************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("var l10n = window._l10n,\n    TemplatesPanel;\n\nTemplatesPanel = Marionette.CompositeView.extend( {\n\n    ui : {\n        backButton : '.back-button',\n        save : '.js-save-template',\n        import : '.js-import-template',\n        searchForm : '.search-form'\n    },\n\n    events : {\n        'click @ui.save' : 'save',\n        'click @ui.import' : 'import'\n    },\n\n    triggers : {\n        'click @ui.backButton': 'back:home'\n    },\n\n    behaviors : {\n        Panel : {}\n    },\n\n    emptyView : Tailor.Panels.Empty,\n\n    emptyViewOptions : function() {\n        return {\n            type : this.model.get( 'type' )\n        };\n    },\n\n    template : '#tmpl-tailor-panel-templates',\n\n    childViewContainer : '#items',\n\n    /**\n     * Returns the appropriate child view based on the panel type.\n     *\n     * @since 1.0.0\n     *\n     * @returns {*|exports|module.exports}\n     */\n    getChildView : function() {\n        return Tailor.lookup( this.model.get( 'type' ), false, 'Items' );\n    },\n\n    /**\n     * Provides the required information to the template rendering function.\n     *\n     * @since 1.0.0\n     *\n     * @returns {*}\n     */\n    serializeData : function() {\n        var data = Marionette.ItemView.prototype.serializeData.apply( this, arguments );\n        data.items = this.collection;\n        return data;\n    },\n\n\t/**\n\t * Sets focus on the back button when the panel is displayed.\n\t *\n\t * @since 1.0.0\n\t */\n    onShow : function() {\n        this.ui.backButton.get(0).focus();\n        if ( 0 === this.collection.length ) {\n            this.ui.searchForm.hide();\n        }\n    },\n\n\t/**\n\t * Shows the search form after a child is added.\n\t *\n\t * @since 1.0.0\n\t */\n    onAddChild : function() {\n\t\tthis.ui.searchForm.show();\n    },\n\n\t/**\n\t * Hides the search form if there are no saved templates after a template is removed.\n\t *\n\t * @since 1.0.0\n\t */\n    onRemoveChild : function() {\n        if ( 0 === this.collection.length ) {\n            this.ui.searchForm.hide();\n        }\n    },\n\n\t/**\n\t * Opens the Import Template dialog.\n\t *\n\t * @since 1.0.0\n\t */\n    import : function( e ) {\n        var panel = this;\n        var options = {\n            title : l10n.importTemplate,\n            content : document.querySelector( '#tmpl-tailor-dialog-import-template').innerHTML,\n            button : l10n.import,\n\n\t        /**\n\t         * Sets focus on the template selection field.\n             */\n            onOpen : function() {\n                this.el.querySelector( '#import-template' ).focus();\n            },\n\n\t        /**\n             * Returns true if the selected file is a JSON file.\n             *\n             * @returns {*|boolean}\n             */\n            onValidate : function() {\n                var input = this.el.querySelector( '#import-template' );\n                var re = /(?:\\.([^.]+))?$/;\n                return input.value && ( 'json' === re.exec( input.value )[1] );\n            },\n\n\t        /**\n             * Saves the selected JSON file as a template.\n             */\n            onSave : function() {\n                var input = this.el.querySelector( '#import-template' );\n                var file = input.files[0];\n                if ( ! file || file.name.match( /.+\\.json/ ) ) {\n                    var reader = new FileReader();\n                    reader.onload = function( e ) {\n                        var defaults = {\n                            label : '',\n                            tag : '',\n                            models : [],\n                            nonce : window._nonces.saveTemplate\n                        };\n                        var data = _.extend( defaults, JSON.parse( reader.result ) );\n                        data.models = JSON.stringify( data.models );\n                        panel.createTemplate( data, 'import' );\n                    };\n                    try {\n                        reader.readAsText( file );\n                    }\n                    catch( e ) {}\n                }\n            },\n\n\t        /**\n\t         * Sets focus back to the Import Template button.\n             */\n            onClose : function() {\n                panel.ui.import.focus();\n            }\n        };\n\n\t\t/**\n         * Fires when the dialog window is opened.\n         *\n         * @since 1.0.0\n         */\n        app.channel.trigger( 'dialog:open', options );\n    },\n\n\t/**\n\t * Opens the Save Template dialog.\n\t *\n\t * @since 1.0.0\n\t */\n    save : function() {\n        var selected = app.channel.request( 'canvas:element:selected' );\n        var elements = app.channel.request( 'canvas:elements' );\n        var models = [];\n        var tag;\n\n        if ( selected && 'function' == typeof selected.get ) {\n            var getChildren = function( id ) {\n                _.each( elements.where( { parent : id } ), function( model ) {\n                    models.push( model.toJSON() );\n                    getChildren( model.get( 'id' ) );\n                } );\n            };\n\n            if ( 'child' == selected.get( 'type' ) ) {\n                selected = selected.collection.get( selected.get( 'parent' ) );\n            }\n\n            getChildren( selected.get( 'id' ) );\n\n            selected = selected.toJSON();\n            selected.parent = '';\n            models.push( selected ) ;\n            tag = selected.tag;\n        }\n        else {\n            models = elements.models;\n            tag = 'tailor_section';\n        }\n\n        var panel = this;\n\n        /**\n         * Fires when the dialog window is opened.\n         *\n         * @since 1.0.0\n         */\n        app.channel.trigger( 'dialog:open', {\n            title : l10n.saveTemplate,\n            content : document.querySelector( '#tmpl-tailor-dialog-save-template').innerHTML,\n            button : l10n.save,\n\n\t        /**\n             * Sets focus on the template name field.\n             */\n            onOpen : function() {\n                this.el.querySelector( '#save-template' ).focus();\n            },\n\n\t        /**\n             * Returns true if the template name is not empty.\n             *\n             * @returns {*}\n             */\n            onValidate : function() {\n                var input = this.el.querySelector( '#save-template' );\n                return input.value.trim();\n            },\n\n\t        /**\n             * Saves the current selection as a new template.\n             */\n            onSave : function() {\n                var input = this.el.querySelector( '#save-template' );\n                var data = {\n                    label : input.value,\n                    tag : tag,\n                    models : JSON.stringify( models ),\n                    nonce : window._nonces.saveTemplate\n                };\n                panel.createTemplate( data, 'save' );\n            },\n\n\t        /**\n             * Sets focus back to the Save Template button.\n             */\n            onClose : function() {\n                panel.ui.save.focus();\n            }\n        } );\n    },\n\n    /**\n     * Sends a request to the server to register a new template.\n     *\n     * Occurs after a template is saved or imported.\n     *\n     * @since 1.0.0\n     *\n     * @param data\n     * @param action\n     */\n    createTemplate : function( data, action ) {\n\n        action = action || 'save';\n\n        var panel = this;\n        var collection = panel.collection;\n\n        panel.ui.save.prop( 'disabled', true );\n        panel.ui.import.prop( 'disabled', true );\n\n        window.ajax.send( 'tailor_save_template', {\n            data : data,\n\n\t        /**\n             * Adds the new template to the collection.\n             *\n             * @param response\n             */\n            success : function( response ) {\n                collection.add( {\n                    id : response.id,\n                    label : response.label,\n                    tag : response.tag,\n                    type : response.type\n                } );\n\n                /**\n                 * Fires when a template is saved or imported.\n                 *\n                 * @since 1.0.0\n                 */\n                app.channel.trigger( 'template:' + action );\n            },\n\n\t        /**\n             * Update the UI upon completion.\n             */\n            complete : function() {\n                panel.ui.save.prop( 'disabled', false );\n                panel.ui.import.prop( 'disabled', false );\n            }\n        } );\n    }\n\n} );\n\nmodule.exports = TemplatesPanel;\n\n//# sourceURL=webpack:///./assets/js/src/sidebar/modules/templates/show/templates-panel.js?");

/***/ }),

/***/ "./assets/js/src/sidebar/modules/templates/templates.js":
/*!**************************************************************!*\
  !*** ./assets/js/src/sidebar/modules/templates/templates.js ***!
  \**************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("\nvar TemplateCollection = __webpack_require__( /*! ../../entities/collections/templates */ \"./assets/js/src/sidebar/entities/collections/templates.js\" ),\n\tTemplatesPanel = __webpack_require__( /*! ./show/templates-panel */ \"./assets/js/src/sidebar/modules/templates/show/templates-panel.js\" ),\n\tTemplateItem = __webpack_require__( /*! ./show/template-menu-item */ \"./assets/js/src/sidebar/modules/templates/show/template-menu-item.js\" ),\n\tTemplatesModule;\n\nTailor.Panels.Templates = TemplatesPanel;\nTailor.Items.Templates = TemplateItem;\n\nTemplatesModule = Marionette.Module.extend( {\n\n\tonBeforeStart : function( options ) {\n        var module = this;\n\t\t\n        this.collection = new TemplateCollection( options.templates );\n\t\t\n\t\tvar api = {\n\n            /**\n             * Returns the template item collection.\n             *\n             * @since 1.0.0\n             *\n             * @returns {*}\n             */\n            getTemplates : function() {\n                return module.collection;\n            }\n\t\t};\n\n        app.channel.reply( 'sidebar:templates', api.getTemplates );\n    },\n\n\t/**\n\t * Initializes the module.\n\t */\n\tonStart : function() {\n\n\t\t/**\n\t\t * Fires when the module is initialized.\n\t\t *\n\t\t * @since 1.5.0\n\t\t *\n\t\t * @param this\n\t\t */\n\t\tapp.channel.trigger( 'module:templates:ready', this );\n\t}\n\t\n} );\n\nmodule.exports = TemplatesModule;\n\n//# sourceURL=webpack:///./assets/js/src/sidebar/modules/templates/templates.js?");

/***/ }),

/***/ "./assets/js/src/sidebar/preview.js":
/*!******************************************!*\
  !*** ./assets/js/src/sidebar/preview.js ***!
  \******************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("/* window._l10n, window._mediaQueries */\n\nvar $ = jQuery;\nvar title = document.querySelector( '.tailor__home .title' );\n\nTailor.Api.Setting.onChange( 'sidebar:_post_title', function( to, from ) {\n    if ( title.hasChildNodes() ) {\n        var children = title.childNodes;\n        for ( var i = 1; i < children.length; i++ ) {\n            if ( 3 == children[ i ].nodeType && -1 !== children[ i ].nodeValue.indexOf( from ) ) {\n                children[ i ].nodeValue = to;\n            }\n        }\n    }\n\n    document.title = window._l10n.tailoring + to;\n} );\n\n//# sourceURL=webpack:///./assets/js/src/sidebar/preview.js?");

/***/ })

/******/ });